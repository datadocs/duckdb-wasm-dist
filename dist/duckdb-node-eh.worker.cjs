"use strict";var B_=Object.create;var Zn=Object.defineProperty;var U_=Object.getOwnPropertyDescriptor;var H_=Object.getOwnPropertyNames;var q_=Object.getPrototypeOf,$_=Object.prototype.hasOwnProperty;var q=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),W_=(n,t)=>{for(var e in t)Zn(n,e,{get:t[e],enumerable:!0})},Fc=(n,t,e,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of H_(t))!$_.call(n,f)&&f!==e&&Zn(n,f,{get:()=>t[f],enumerable:!(u=U_(t,f))||u.enumerable});return n};var _r=(n,t,e)=>(e=n!=null?B_(q_(n)):{},Fc(t||!n||!n.__esModule?Zn(e,"default",{value:n,enumerable:!0}):e,n)),j_=n=>Fc(Zn({},"__esModule",{value:!0}),n);var jt=q((gb,Cc)=>{"use strict";Cc.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var hn=q((yb,ri)=>{"use strict";var{EMPTY_BUFFER:z_}=jt(),ga=Buffer[Symbol.species];function G_(n,t){if(n.length===0)return z_;if(n.length===1)return n[0];let e=Buffer.allocUnsafe(t),u=0;for(let f=0;f<n.length;f++){let h=n[f];e.set(h,u),u+=h.length}return u<t?new ga(e.buffer,e.byteOffset,u):e}function xc(n,t,e,u,f){for(let h=0;h<f;h++)e[u+h]=n[h]^t[h&3]}function Mc(n,t){for(let e=0;e<n.length;e++)n[e]^=t[e&3]}function V_(n){return n.length===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.length)}function ya(n){if(ya.readOnly=!0,Buffer.isBuffer(n))return n;let t;return n instanceof ArrayBuffer?t=new ga(n):ArrayBuffer.isView(n)?t=new ga(n.buffer,n.byteOffset,n.byteLength):(t=Buffer.from(n),ya.readOnly=!1),t}ri.exports={concat:G_,mask:xc,toArrayBuffer:V_,toBuffer:ya,unmask:Mc};if(!process.env.WS_NO_BUFFER_UTIL)try{let n=require("bufferutil");ri.exports.mask=function(t,e,u,f,h){h<48?xc(t,e,u,f,h):n.mask(t,e,u,f,h)},ri.exports.unmask=function(t,e){t.length<32?Mc(t,e):n.unmask(t,e)}}catch{}});var Ic=q((bb,Lc)=>{"use strict";var Oc=Symbol("kDone"),ba=Symbol("kRun"),va=class{constructor(t){this[Oc]=()=>{this.pending--,this[ba]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[ba]()}[ba](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[Oc])}}};Lc.exports=va});var gn=q((vb,Hc)=>{"use strict";var pn=require("zlib"),Nc=hn(),Y_=Ic(),{kStatusCode:Bc}=jt(),K_=Buffer[Symbol.species],X_=Buffer.from([0,0,255,255]),si=Symbol("permessage-deflate"),Tt=Symbol("total-length"),mn=Symbol("callback"),zt=Symbol("buffers"),ii=Symbol("error"),ni,wa=class{constructor(t,e,u){if(this._maxPayload=u|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!e,this._deflate=null,this._inflate=null,this.params=null,!ni){let f=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;ni=new Y_(f)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[mn];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let e=this._options,u=t.find(f=>!(e.serverNoContextTakeover===!1&&f.server_no_context_takeover||f.server_max_window_bits&&(e.serverMaxWindowBits===!1||typeof e.serverMaxWindowBits=="number"&&e.serverMaxWindowBits>f.server_max_window_bits)||typeof e.clientMaxWindowBits=="number"&&!f.client_max_window_bits));if(!u)throw new Error("None of the extension offers can be accepted");return e.serverNoContextTakeover&&(u.server_no_context_takeover=!0),e.clientNoContextTakeover&&(u.client_no_context_takeover=!0),typeof e.serverMaxWindowBits=="number"&&(u.server_max_window_bits=e.serverMaxWindowBits),typeof e.clientMaxWindowBits=="number"?u.client_max_window_bits=e.clientMaxWindowBits:(u.client_max_window_bits===!0||e.clientMaxWindowBits===!1)&&delete u.client_max_window_bits,u}acceptAsClient(t){let e=t[0];if(this._options.clientNoContextTakeover===!1&&e.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!e.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(e.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&e.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return e}normalizeParams(t){return t.forEach(e=>{Object.keys(e).forEach(u=>{let f=e[u];if(f.length>1)throw new Error(`Parameter "${u}" must have only a single value`);if(f=f[0],u==="client_max_window_bits"){if(f!==!0){let h=+f;if(!Number.isInteger(h)||h<8||h>15)throw new TypeError(`Invalid value for parameter "${u}": ${f}`);f=h}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${u}": ${f}`)}else if(u==="server_max_window_bits"){let h=+f;if(!Number.isInteger(h)||h<8||h>15)throw new TypeError(`Invalid value for parameter "${u}": ${f}`);f=h}else if(u==="client_no_context_takeover"||u==="server_no_context_takeover"){if(f!==!0)throw new TypeError(`Invalid value for parameter "${u}": ${f}`)}else throw new Error(`Unknown parameter "${u}"`);e[u]=f})}),t}decompress(t,e,u){ni.add(f=>{this._decompress(t,e,(h,y)=>{f(),u(h,y)})})}compress(t,e,u){ni.add(f=>{this._compress(t,e,(h,y)=>{f(),u(h,y)})})}_decompress(t,e,u){let f=this._isServer?"client":"server";if(!this._inflate){let h=`${f}_max_window_bits`,y=typeof this.params[h]!="number"?pn.Z_DEFAULT_WINDOWBITS:this.params[h];this._inflate=pn.createInflateRaw({...this._options.zlibInflateOptions,windowBits:y}),this._inflate[si]=this,this._inflate[Tt]=0,this._inflate[zt]=[],this._inflate.on("error",J_),this._inflate.on("data",Uc)}this._inflate[mn]=u,this._inflate.write(t),e&&this._inflate.write(X_),this._inflate.flush(()=>{let h=this._inflate[ii];if(h){this._inflate.close(),this._inflate=null,u(h);return}let y=Nc.concat(this._inflate[zt],this._inflate[Tt]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Tt]=0,this._inflate[zt]=[],e&&this.params[`${f}_no_context_takeover`]&&this._inflate.reset()),u(null,y)})}_compress(t,e,u){let f=this._isServer?"server":"client";if(!this._deflate){let h=`${f}_max_window_bits`,y=typeof this.params[h]!="number"?pn.Z_DEFAULT_WINDOWBITS:this.params[h];this._deflate=pn.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:y}),this._deflate[Tt]=0,this._deflate[zt]=[],this._deflate.on("data",Q_)}this._deflate[mn]=u,this._deflate.write(t),this._deflate.flush(pn.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let h=Nc.concat(this._deflate[zt],this._deflate[Tt]);e&&(h=new K_(h.buffer,h.byteOffset,h.length-4)),this._deflate[mn]=null,this._deflate[Tt]=0,this._deflate[zt]=[],e&&this.params[`${f}_no_context_takeover`]&&this._deflate.reset(),u(null,h)})}};Hc.exports=wa;function Q_(n){this[zt].push(n),this[Tt]+=n.length}function Uc(n){if(this[Tt]+=n.length,this[si]._maxPayload<1||this[Tt]<=this[si]._maxPayload){this[zt].push(n);return}this[ii]=new RangeError("Max payload size exceeded"),this[ii].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[ii][Bc]=1009,this.removeListener("data",Uc),this.reset()}function J_(n){this[si]._inflate=null,n[Bc]=1007,this[mn](n)}});var yn=q((wb,oi)=>{"use strict";var{isUtf8:qc}=require("buffer"),Z_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function eh(n){return n>=1e3&&n<=1014&&n!==1004&&n!==1005&&n!==1006||n>=3e3&&n<=4999}function Ea(n){let t=n.length,e=0;for(;e<t;)if(!(n[e]&128))e++;else if((n[e]&224)===192){if(e+1===t||(n[e+1]&192)!==128||(n[e]&254)===192)return!1;e+=2}else if((n[e]&240)===224){if(e+2>=t||(n[e+1]&192)!==128||(n[e+2]&192)!==128||n[e]===224&&(n[e+1]&224)===128||n[e]===237&&(n[e+1]&224)===160)return!1;e+=3}else if((n[e]&248)===240){if(e+3>=t||(n[e+1]&192)!==128||(n[e+2]&192)!==128||(n[e+3]&192)!==128||n[e]===240&&(n[e+1]&240)===128||n[e]===244&&n[e+1]>143||n[e]>244)return!1;e+=4}else return!1;return!0}oi.exports={isValidStatusCode:eh,isValidUTF8:Ea,tokenChars:Z_};if(qc)oi.exports.isValidUTF8=function(n){return n.length<24?Ea(n):qc(n)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let n=require("utf-8-validate");oi.exports.isValidUTF8=function(t){return t.length<32?Ea(t):n(t)}}catch{}});var Ra=q((Eb,Yc)=>{"use strict";var{Writable:th}=require("stream"),$c=gn(),{BINARY_TYPES:rh,EMPTY_BUFFER:Wc,kStatusCode:nh,kWebSocket:ih}=jt(),{concat:Sa,toArrayBuffer:sh,unmask:oh}=hn(),{isValidStatusCode:ah,isValidUTF8:jc}=yn(),ai=Buffer[Symbol.species],bn=0,zc=1,Gc=2,Vc=3,ka=4,uh=5,Aa=class extends th{constructor(t={}){super(),this._binaryType=t.binaryType||rh[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[ih]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=bn,this._loop=!1}_write(t,e,u){if(this._opcode===8&&this._state==bn)return u();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(u)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let u=this._buffers[0];return this._buffers[0]=new ai(u.buffer,u.byteOffset+t,u.length-t),new ai(u.buffer,u.byteOffset,t)}let e=Buffer.allocUnsafe(t);do{let u=this._buffers[0],f=e.length-t;t>=u.length?e.set(this._buffers.shift(),f):(e.set(new Uint8Array(u.buffer,u.byteOffset,t),f),this._buffers[0]=new ai(u.buffer,u.byteOffset+t,u.length-t)),t-=u.length}while(t>0);return e}startLoop(t){let e;this._loop=!0;do switch(this._state){case bn:e=this.getInfo();break;case zc:e=this.getPayloadLength16();break;case Gc:e=this.getPayloadLength64();break;case Vc:this.getMask();break;case ka:e=this.getData(t);break;default:this._loop=!1;return}while(this._loop);t(e)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48)return this._loop=!1,$e(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let e=(t[0]&64)===64;if(e&&!this._extensions[$c.extensionName])return this._loop=!1,$e(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(e)return this._loop=!1,$e(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,$e(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,$e(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=e}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,$e(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(e)return this._loop=!1,$e(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,$e(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,$e(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,$e(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,$e(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=zc;else if(this._payloadLength===127)this._state=Gc;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),e=t.readUInt32BE(0);return e>Math.pow(2,53-32)-1?(this._loop=!1,$e(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=e*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,$e(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Vc:this._state=ka}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=ka}getData(t){let e=Wc;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}e=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&oh(e,this._mask)}if(this._opcode>7)return this.controlMessage(e);if(this._compressed){this._state=uh,this.decompress(e,t);return}return e.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(e)),this.dataMessage()}decompress(t,e){this._extensions[$c.extensionName].decompress(t,this._fin,(f,h)=>{if(f)return e(f);if(h.length){if(this._messageLength+=h.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return e($e(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(h)}let y=this.dataMessage();if(y)return e(y);this.startLoop(e)})}dataMessage(){if(this._fin){let t=this._messageLength,e=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let u;this._binaryType==="nodebuffer"?u=Sa(e,t):this._binaryType==="arraybuffer"?u=sh(Sa(e,t)):u=e,this.emit("message",u,!0)}else{let u=Sa(e,t);if(!this._skipUTF8Validation&&!jc(u))return this._loop=!1,$e(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",u,!1)}}this._state=bn}controlMessage(t){if(this._opcode===8)if(this._loop=!1,t.length===0)this.emit("conclude",1005,Wc),this.end();else{let e=t.readUInt16BE(0);if(!ah(e))return $e(RangeError,`invalid status code ${e}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let u=new ai(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!jc(u))return $e(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",e,u),this.end()}else this._opcode===9?this.emit("ping",t):this.emit("pong",t);this._state=bn}};Yc.exports=Aa;function $e(n,t,e,u,f){let h=new n(e?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(h,$e),h.code=f,h[nh]=u,h}});var Ta=q((Ab,Qc)=>{"use strict";var Sb=require("net"),kb=require("tls"),{randomFillSync:ch}=require("crypto"),Kc=gn(),{EMPTY_BUFFER:lh}=jt(),{isValidStatusCode:fh}=yn(),{mask:Xc,toBuffer:Nr}=hn(),ht=Symbol("kByteLength"),dh=Buffer.alloc(4),Da=class n{constructor(t,e,u){this._extensions=e||{},u&&(this._generateMask=u,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,e){let u,f=!1,h=2,y=!1;e.mask&&(u=e.maskBuffer||dh,e.generateMask?e.generateMask(u):ch(u,0,4),y=(u[0]|u[1]|u[2]|u[3])===0,h=6);let E;typeof t=="string"?(!e.mask||y)&&e[ht]!==void 0?E=e[ht]:(t=Buffer.from(t),E=t.length):(E=t.length,f=e.mask&&e.readOnly&&!y);let A=E;E>=65536?(h+=8,A=127):E>125&&(h+=2,A=126);let R=Buffer.allocUnsafe(f?E+h:h);return R[0]=e.fin?e.opcode|128:e.opcode,e.rsv1&&(R[0]|=64),R[1]=A,A===126?R.writeUInt16BE(E,2):A===127&&(R[2]=R[3]=0,R.writeUIntBE(E,4,6)),e.mask?(R[1]|=128,R[h-4]=u[0],R[h-3]=u[1],R[h-2]=u[2],R[h-1]=u[3],y?[R,t]:f?(Xc(t,u,R,h,E),[R]):(Xc(t,u,t,0,E),[R,t])):[R,t]}close(t,e,u,f){let h;if(t===void 0)h=lh;else{if(typeof t!="number"||!fh(t))throw new TypeError("First argument must be a valid error code number");if(e===void 0||!e.length)h=Buffer.allocUnsafe(2),h.writeUInt16BE(t,0);else{let E=Buffer.byteLength(e);if(E>123)throw new RangeError("The message must not be greater than 123 bytes");h=Buffer.allocUnsafe(2+E),h.writeUInt16BE(t,0),typeof e=="string"?h.write(e,2):h.set(e,2)}}let y={[ht]:h.length,fin:!0,generateMask:this._generateMask,mask:u,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,h,!1,y,f]):this.sendFrame(n.frame(h,y),f)}ping(t,e,u){let f,h;if(typeof t=="string"?(f=Buffer.byteLength(t),h=!1):(t=Nr(t),f=t.length,h=Nr.readOnly),f>125)throw new RangeError("The data size must not be greater than 125 bytes");let y={[ht]:f,fin:!0,generateMask:this._generateMask,mask:e,maskBuffer:this._maskBuffer,opcode:9,readOnly:h,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,y,u]):this.sendFrame(n.frame(t,y),u)}pong(t,e,u){let f,h;if(typeof t=="string"?(f=Buffer.byteLength(t),h=!1):(t=Nr(t),f=t.length,h=Nr.readOnly),f>125)throw new RangeError("The data size must not be greater than 125 bytes");let y={[ht]:f,fin:!0,generateMask:this._generateMask,mask:e,maskBuffer:this._maskBuffer,opcode:10,readOnly:h,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,y,u]):this.sendFrame(n.frame(t,y),u)}send(t,e,u){let f=this._extensions[Kc.extensionName],h=e.binary?2:1,y=e.compress,E,A;if(typeof t=="string"?(E=Buffer.byteLength(t),A=!1):(t=Nr(t),E=t.length,A=Nr.readOnly),this._firstFragment?(this._firstFragment=!1,y&&f&&f.params[f._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(y=E>=f._threshold),this._compress=y):(y=!1,h=0),e.fin&&(this._firstFragment=!0),f){let R={[ht]:E,fin:e.fin,generateMask:this._generateMask,mask:e.mask,maskBuffer:this._maskBuffer,opcode:h,readOnly:A,rsv1:y};this._deflating?this.enqueue([this.dispatch,t,this._compress,R,u]):this.dispatch(t,this._compress,R,u)}else this.sendFrame(n.frame(t,{[ht]:E,fin:e.fin,generateMask:this._generateMask,mask:e.mask,maskBuffer:this._maskBuffer,opcode:h,readOnly:A,rsv1:!1}),u)}dispatch(t,e,u,f){if(!e){this.sendFrame(n.frame(t,u),f);return}let h=this._extensions[Kc.extensionName];this._bufferedBytes+=u[ht],this._deflating=!0,h.compress(t,u.fin,(y,E)=>{if(this._socket.destroyed){let A=new Error("The socket was closed while data was being compressed");typeof f=="function"&&f(A);for(let R=0;R<this._queue.length;R++){let S=this._queue[R],T=S[S.length-1];typeof T=="function"&&T(A)}return}this._bufferedBytes-=u[ht],this._deflating=!1,u.readOnly=!1,this.sendFrame(n.frame(E,u),f),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][ht],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][ht],this._queue.push(t)}sendFrame(t,e){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],e),this._socket.uncork()):this._socket.write(t[0],e)}};Qc.exports=Da});var ol=q((Rb,sl)=>{"use strict";var{kForOnEventAttribute:vn,kListener:Pa}=jt(),Jc=Symbol("kCode"),Zc=Symbol("kData"),el=Symbol("kError"),tl=Symbol("kMessage"),rl=Symbol("kReason"),Br=Symbol("kTarget"),nl=Symbol("kType"),il=Symbol("kWasClean"),Pt=class{constructor(t){this[Br]=null,this[nl]=t}get target(){return this[Br]}get type(){return this[nl]}};Object.defineProperty(Pt.prototype,"target",{enumerable:!0});Object.defineProperty(Pt.prototype,"type",{enumerable:!0});var hr=class extends Pt{constructor(t,e={}){super(t),this[Jc]=e.code===void 0?0:e.code,this[rl]=e.reason===void 0?"":e.reason,this[il]=e.wasClean===void 0?!1:e.wasClean}get code(){return this[Jc]}get reason(){return this[rl]}get wasClean(){return this[il]}};Object.defineProperty(hr.prototype,"code",{enumerable:!0});Object.defineProperty(hr.prototype,"reason",{enumerable:!0});Object.defineProperty(hr.prototype,"wasClean",{enumerable:!0});var Ur=class extends Pt{constructor(t,e={}){super(t),this[el]=e.error===void 0?null:e.error,this[tl]=e.message===void 0?"":e.message}get error(){return this[el]}get message(){return this[tl]}};Object.defineProperty(Ur.prototype,"error",{enumerable:!0});Object.defineProperty(Ur.prototype,"message",{enumerable:!0});var wn=class extends Pt{constructor(t,e={}){super(t),this[Zc]=e.data===void 0?null:e.data}get data(){return this[Zc]}};Object.defineProperty(wn.prototype,"data",{enumerable:!0});var _h={addEventListener(n,t,e={}){for(let f of this.listeners(n))if(!e[vn]&&f[Pa]===t&&!f[vn])return;let u;if(n==="message")u=function(h,y){let E=new wn("message",{data:y?h:h.toString()});E[Br]=this,ui(t,this,E)};else if(n==="close")u=function(h,y){let E=new hr("close",{code:h,reason:y.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});E[Br]=this,ui(t,this,E)};else if(n==="error")u=function(h){let y=new Ur("error",{error:h,message:h.message});y[Br]=this,ui(t,this,y)};else if(n==="open")u=function(){let h=new Pt("open");h[Br]=this,ui(t,this,h)};else return;u[vn]=!!e[vn],u[Pa]=t,e.once?this.once(n,u):this.on(n,u)},removeEventListener(n,t){for(let e of this.listeners(n))if(e[Pa]===t&&!e[vn]){this.removeListener(n,e);break}}};sl.exports={CloseEvent:hr,ErrorEvent:Ur,Event:Pt,EventTarget:_h,MessageEvent:wn};function ui(n,t,e){typeof n=="object"&&n.handleEvent?n.handleEvent.call(n,e):n.call(t,e)}});var Fa=q((Db,al)=>{"use strict";var{tokenChars:En}=yn();function yt(n,t,e){n[t]===void 0?n[t]=[e]:n[t].push(e)}function hh(n){let t=Object.create(null),e=Object.create(null),u=!1,f=!1,h=!1,y,E,A=-1,R=-1,S=-1,T=0;for(;T<n.length;T++)if(R=n.charCodeAt(T),y===void 0)if(S===-1&&En[R]===1)A===-1&&(A=T);else if(T!==0&&(R===32||R===9))S===-1&&A!==-1&&(S=T);else if(R===59||R===44){if(A===-1)throw new SyntaxError(`Unexpected character at index ${T}`);S===-1&&(S=T);let re=n.slice(A,S);R===44?(yt(t,re,e),e=Object.create(null)):y=re,A=S=-1}else throw new SyntaxError(`Unexpected character at index ${T}`);else if(E===void 0)if(S===-1&&En[R]===1)A===-1&&(A=T);else if(R===32||R===9)S===-1&&A!==-1&&(S=T);else if(R===59||R===44){if(A===-1)throw new SyntaxError(`Unexpected character at index ${T}`);S===-1&&(S=T),yt(e,n.slice(A,S),!0),R===44&&(yt(t,y,e),e=Object.create(null),y=void 0),A=S=-1}else if(R===61&&A!==-1&&S===-1)E=n.slice(A,T),A=S=-1;else throw new SyntaxError(`Unexpected character at index ${T}`);else if(f){if(En[R]!==1)throw new SyntaxError(`Unexpected character at index ${T}`);A===-1?A=T:u||(u=!0),f=!1}else if(h)if(En[R]===1)A===-1&&(A=T);else if(R===34&&A!==-1)h=!1,S=T;else if(R===92)f=!0;else throw new SyntaxError(`Unexpected character at index ${T}`);else if(R===34&&n.charCodeAt(T-1)===61)h=!0;else if(S===-1&&En[R]===1)A===-1&&(A=T);else if(A!==-1&&(R===32||R===9))S===-1&&(S=T);else if(R===59||R===44){if(A===-1)throw new SyntaxError(`Unexpected character at index ${T}`);S===-1&&(S=T);let re=n.slice(A,S);u&&(re=re.replace(/\\/g,""),u=!1),yt(e,E,re),R===44&&(yt(t,y,e),e=Object.create(null),y=void 0),E=void 0,A=S=-1}else throw new SyntaxError(`Unexpected character at index ${T}`);if(A===-1||h||R===32||R===9)throw new SyntaxError("Unexpected end of input");S===-1&&(S=T);let D=n.slice(A,S);return y===void 0?yt(t,D,e):(E===void 0?yt(e,D,!0):u?yt(e,E,D.replace(/\\/g,"")):yt(e,E,D),yt(t,y,e)),t}function ph(n){return Object.keys(n).map(t=>{let e=n[t];return Array.isArray(e)||(e=[e]),e.map(u=>[t].concat(Object.keys(u).map(f=>{let h=u[f];return Array.isArray(h)||(h=[h]),h.map(y=>y===!0?f:`${f}=${y}`).join("; ")})).join("; ")).join(", ")}).join(", ")}al.exports={format:ph,parse:hh}});var La=q((Pb,yl)=>{"use strict";var mh=require("events"),gh=require("https"),yh=require("http"),ll=require("net"),bh=require("tls"),{randomBytes:vh,createHash:wh}=require("crypto"),{Readable:Tb}=require("stream"),{URL:Ca}=require("url"),Gt=gn(),Eh=Ra(),Sh=Ta(),{BINARY_TYPES:ul,EMPTY_BUFFER:ci,GUID:kh,kForOnEventAttribute:xa,kListener:Ah,kStatusCode:Rh,kWebSocket:Ge,NOOP:fl}=jt(),{EventTarget:{addEventListener:Dh,removeEventListener:Th}}=ol(),{format:Ph,parse:Fh}=Fa(),{toBuffer:Ch}=hn(),xh=30*1e3,dl=Symbol("kAborted"),Ma=[8,13],Ft=["CONNECTING","OPEN","CLOSING","CLOSED"],Mh=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ne=class n extends mh{constructor(t,e,u){super(),this._binaryType=ul[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=ci,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=n.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,e===void 0?e=[]:Array.isArray(e)||(typeof e=="object"&&e!==null?(u=e,e=[]):e=[e]),_l(this,t,e,u)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(t){ul.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,e,u){let f=new Eh({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:u.maxPayload,skipUTF8Validation:u.skipUTF8Validation});this._sender=new Sh(t,this._extensions,u.generateMask),this._receiver=f,this._socket=t,f[Ge]=this,t[Ge]=this,f.on("conclude",Ih),f.on("drain",Nh),f.on("error",Bh),f.on("message",Uh),f.on("ping",Hh),f.on("pong",qh),t.setTimeout(0),t.setNoDelay(),e.length>0&&t.unshift(e),t.on("close",pl),t.on("data",fi),t.on("end",ml),t.on("error",gl),this._readyState=n.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=n.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Gt.extensionName]&&this._extensions[Gt.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=n.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,e){if(this.readyState!==n.CLOSED){if(this.readyState===n.CONNECTING){let u="WebSocket was closed before the connection was established";rt(this,this._req,u);return}if(this.readyState===n.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=n.CLOSING,this._sender.close(t,e,!this._isServer,u=>{u||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),xh)}}pause(){this.readyState===n.CONNECTING||this.readyState===n.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,e,u){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(u=t,t=e=void 0):typeof e=="function"&&(u=e,e=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==n.OPEN){Oa(this,t,u);return}e===void 0&&(e=!this._isServer),this._sender.ping(t||ci,e,u)}pong(t,e,u){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(u=t,t=e=void 0):typeof e=="function"&&(u=e,e=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==n.OPEN){Oa(this,t,u);return}e===void 0&&(e=!this._isServer),this._sender.pong(t||ci,e,u)}resume(){this.readyState===n.CONNECTING||this.readyState===n.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,e,u){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"&&(u=e,e={}),typeof t=="number"&&(t=t.toString()),this.readyState!==n.OPEN){Oa(this,t,u);return}let f={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...e};this._extensions[Gt.extensionName]||(f.compress=!1),this._sender.send(t||ci,f,u)}terminate(){if(this.readyState!==n.CLOSED){if(this.readyState===n.CONNECTING){let t="WebSocket was closed before the connection was established";rt(this,this._req,t);return}this._socket&&(this._readyState=n.CLOSING,this._socket.destroy())}}};Object.defineProperty(Ne,"CONNECTING",{enumerable:!0,value:Ft.indexOf("CONNECTING")});Object.defineProperty(Ne.prototype,"CONNECTING",{enumerable:!0,value:Ft.indexOf("CONNECTING")});Object.defineProperty(Ne,"OPEN",{enumerable:!0,value:Ft.indexOf("OPEN")});Object.defineProperty(Ne.prototype,"OPEN",{enumerable:!0,value:Ft.indexOf("OPEN")});Object.defineProperty(Ne,"CLOSING",{enumerable:!0,value:Ft.indexOf("CLOSING")});Object.defineProperty(Ne.prototype,"CLOSING",{enumerable:!0,value:Ft.indexOf("CLOSING")});Object.defineProperty(Ne,"CLOSED",{enumerable:!0,value:Ft.indexOf("CLOSED")});Object.defineProperty(Ne.prototype,"CLOSED",{enumerable:!0,value:Ft.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(n=>{Object.defineProperty(Ne.prototype,n,{enumerable:!0})});["open","error","close","message"].forEach(n=>{Object.defineProperty(Ne.prototype,`on${n}`,{enumerable:!0,get(){for(let t of this.listeners(n))if(t[xa])return t[Ah];return null},set(t){for(let e of this.listeners(n))if(e[xa]){this.removeListener(n,e);break}typeof t=="function"&&this.addEventListener(n,t,{[xa]:!0})}})});Ne.prototype.addEventListener=Dh;Ne.prototype.removeEventListener=Th;yl.exports=Ne;function _l(n,t,e,u){let f={protocolVersion:Ma[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...u,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!Ma.includes(f.protocolVersion))throw new RangeError(`Unsupported protocol version: ${f.protocolVersion} (supported versions: ${Ma.join(", ")})`);let h;if(t instanceof Ca)h=t,n._url=t.href;else{try{h=new Ca(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}n._url=t}let y=h.protocol==="wss:",E=h.protocol==="ws+unix:",A;if(h.protocol!=="ws:"&&!y&&!E?A=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:E&&!h.pathname?A="The URL's pathname is empty":h.hash&&(A="The URL contains a fragment identifier"),A){let N=new SyntaxError(A);if(n._redirects===0)throw N;li(n,N);return}let R=y?443:80,S=vh(16).toString("base64"),T=y?gh.request:yh.request,D=new Set,re;if(f.createConnection=y?Lh:Oh,f.defaultPort=f.defaultPort||R,f.port=h.port||R,f.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,f.headers={...f.headers,"Sec-WebSocket-Version":f.protocolVersion,"Sec-WebSocket-Key":S,Connection:"Upgrade",Upgrade:"websocket"},f.path=h.pathname+h.search,f.timeout=f.handshakeTimeout,f.perMessageDeflate&&(re=new Gt(f.perMessageDeflate!==!0?f.perMessageDeflate:{},!1,f.maxPayload),f.headers["Sec-WebSocket-Extensions"]=Ph({[Gt.extensionName]:re.offer()})),e.length){for(let N of e){if(typeof N!="string"||!Mh.test(N)||D.has(N))throw new SyntaxError("An invalid or duplicated subprotocol was specified");D.add(N)}f.headers["Sec-WebSocket-Protocol"]=e.join(",")}if(f.origin&&(f.protocolVersion<13?f.headers["Sec-WebSocket-Origin"]=f.origin:f.headers.Origin=f.origin),(h.username||h.password)&&(f.auth=`${h.username}:${h.password}`),E){let N=f.path.split(":");f.socketPath=N[0],f.path=N[1]}let B;if(f.followRedirects){if(n._redirects===0){n._originalIpc=E,n._originalSecure=y,n._originalHostOrSocketPath=E?f.socketPath:h.host;let N=u&&u.headers;if(u={...u,headers:{}},N)for(let[K,ie]of Object.entries(N))u.headers[K.toLowerCase()]=ie}else if(n.listenerCount("redirect")===0){let N=E?n._originalIpc?f.socketPath===n._originalHostOrSocketPath:!1:n._originalIpc?!1:h.host===n._originalHostOrSocketPath;(!N||n._originalSecure&&!y)&&(delete f.headers.authorization,delete f.headers.cookie,N||delete f.headers.host,f.auth=void 0)}f.auth&&!u.headers.authorization&&(u.headers.authorization="Basic "+Buffer.from(f.auth).toString("base64")),B=n._req=T(f),n._redirects&&n.emit("redirect",n.url,B)}else B=n._req=T(f);f.timeout&&B.on("timeout",()=>{rt(n,B,"Opening handshake has timed out")}),B.on("error",N=>{B===null||B[dl]||(B=n._req=null,li(n,N))}),B.on("response",N=>{let K=N.headers.location,ie=N.statusCode;if(K&&f.followRedirects&&ie>=300&&ie<400){if(++n._redirects>f.maxRedirects){rt(n,B,"Maximum redirects exceeded");return}B.abort();let me;try{me=new Ca(K,t)}catch{let ke=new SyntaxError(`Invalid URL: ${K}`);li(n,ke);return}_l(n,me,e,u)}else n.emit("unexpected-response",B,N)||rt(n,B,`Unexpected server response: ${N.statusCode}`)}),B.on("upgrade",(N,K,ie)=>{if(n.emit("upgrade",N),n.readyState!==Ne.CONNECTING)return;if(B=n._req=null,N.headers.upgrade.toLowerCase()!=="websocket"){rt(n,K,"Invalid Upgrade header");return}let me=wh("sha1").update(S+kh).digest("base64");if(N.headers["sec-websocket-accept"]!==me){rt(n,K,"Invalid Sec-WebSocket-Accept header");return}let de=N.headers["sec-websocket-protocol"],ke;if(de!==void 0?D.size?D.has(de)||(ke="Server sent an invalid subprotocol"):ke="Server sent a subprotocol but none was requested":D.size&&(ke="Server sent no subprotocol"),ke){rt(n,K,ke);return}de&&(n._protocol=de);let I=N.headers["sec-websocket-extensions"];if(I!==void 0){if(!re){rt(n,K,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let _e;try{_e=Fh(I)}catch{rt(n,K,"Invalid Sec-WebSocket-Extensions header");return}let ue=Object.keys(_e);if(ue.length!==1||ue[0]!==Gt.extensionName){rt(n,K,"Server indicated an extension that was not requested");return}try{re.accept(_e[Gt.extensionName])}catch{rt(n,K,"Invalid Sec-WebSocket-Extensions header");return}n._extensions[Gt.extensionName]=re}n.setSocket(K,ie,{generateMask:f.generateMask,maxPayload:f.maxPayload,skipUTF8Validation:f.skipUTF8Validation})}),f.finishRequest?f.finishRequest(B,n):B.end()}function li(n,t){n._readyState=Ne.CLOSING,n.emit("error",t),n.emitClose()}function Oh(n){return n.path=n.socketPath,ll.connect(n)}function Lh(n){return n.path=void 0,!n.servername&&n.servername!==""&&(n.servername=ll.isIP(n.host)?"":n.host),bh.connect(n)}function rt(n,t,e){n._readyState=Ne.CLOSING;let u=new Error(e);Error.captureStackTrace(u,rt),t.setHeader?(t[dl]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(li,n,u)):(t.destroy(u),t.once("error",n.emit.bind(n,"error")),t.once("close",n.emitClose.bind(n)))}function Oa(n,t,e){if(t){let u=Ch(t).length;n._socket?n._sender._bufferedBytes+=u:n._bufferedAmount+=u}if(e){let u=new Error(`WebSocket is not open: readyState ${n.readyState} (${Ft[n.readyState]})`);process.nextTick(e,u)}}function Ih(n,t){let e=this[Ge];e._closeFrameReceived=!0,e._closeMessage=t,e._closeCode=n,e._socket[Ge]!==void 0&&(e._socket.removeListener("data",fi),process.nextTick(hl,e._socket),n===1005?e.close():e.close(n,t))}function Nh(){let n=this[Ge];n.isPaused||n._socket.resume()}function Bh(n){let t=this[Ge];t._socket[Ge]!==void 0&&(t._socket.removeListener("data",fi),process.nextTick(hl,t._socket),t.close(n[Rh])),t.emit("error",n)}function cl(){this[Ge].emitClose()}function Uh(n,t){this[Ge].emit("message",n,t)}function Hh(n){let t=this[Ge];t.pong(n,!t._isServer,fl),t.emit("ping",n)}function qh(n){this[Ge].emit("pong",n)}function hl(n){n.resume()}function pl(){let n=this[Ge];this.removeListener("close",pl),this.removeListener("data",fi),this.removeListener("end",ml),n._readyState=Ne.CLOSING;let t;!this._readableState.endEmitted&&!n._closeFrameReceived&&!n._receiver._writableState.errorEmitted&&(t=n._socket.read())!==null&&n._receiver.write(t),n._receiver.end(),this[Ge]=void 0,clearTimeout(n._closeTimer),n._receiver._writableState.finished||n._receiver._writableState.errorEmitted?n.emitClose():(n._receiver.on("error",cl),n._receiver.on("finish",cl))}function fi(n){this[Ge]._receiver.write(n)||this.pause()}function ml(){let n=this[Ge];n._readyState=Ne.CLOSING,n._receiver.end(),this.end()}function gl(){let n=this[Ge];this.removeListener("error",gl),this.on("error",fl),n&&(n._readyState=Ne.CLOSING,this.destroy())}});var El=q((Fb,wl)=>{"use strict";var{Duplex:$h}=require("stream");function bl(n){n.emit("close")}function Wh(){!this.destroyed&&this._writableState.finished&&this.destroy()}function vl(n){this.removeListener("error",vl),this.destroy(),this.listenerCount("error")===0&&this.emit("error",n)}function jh(n,t){let e=!0,u=new $h({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return n.on("message",function(h,y){let E=!y&&u._readableState.objectMode?h.toString():h;u.push(E)||n.pause()}),n.once("error",function(h){u.destroyed||(e=!1,u.destroy(h))}),n.once("close",function(){u.destroyed||u.push(null)}),u._destroy=function(f,h){if(n.readyState===n.CLOSED){h(f),process.nextTick(bl,u);return}let y=!1;n.once("error",function(A){y=!0,h(A)}),n.once("close",function(){y||h(f),process.nextTick(bl,u)}),e&&n.terminate()},u._final=function(f){if(n.readyState===n.CONNECTING){n.once("open",function(){u._final(f)});return}n._socket!==null&&(n._socket._writableState.finished?(f(),u._readableState.endEmitted&&u.destroy()):(n._socket.once("finish",function(){f()}),n.close()))},u._read=function(){n.isPaused&&n.resume()},u._write=function(f,h,y){if(n.readyState===n.CONNECTING){n.once("open",function(){u._write(f,h,y)});return}n.send(f,y)},u.on("end",Wh),u.on("error",vl),u}wl.exports=jh});var kl=q((Cb,Sl)=>{"use strict";var{tokenChars:zh}=yn();function Gh(n){let t=new Set,e=-1,u=-1,f=0;for(f;f<n.length;f++){let y=n.charCodeAt(f);if(u===-1&&zh[y]===1)e===-1&&(e=f);else if(f!==0&&(y===32||y===9))u===-1&&e!==-1&&(u=f);else if(y===44){if(e===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);let E=n.slice(e,u);if(t.has(E))throw new SyntaxError(`The "${E}" subprotocol is duplicated`);t.add(E),e=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`)}if(e===-1||u!==-1)throw new SyntaxError("Unexpected end of input");let h=n.slice(e,f);if(t.has(h))throw new SyntaxError(`The "${h}" subprotocol is duplicated`);return t.add(h),t}Sl.exports={parse:Gh}});var Cl=q((Lb,Fl)=>{"use strict";var Vh=require("events"),di=require("http"),xb=require("https"),Mb=require("net"),Ob=require("tls"),{createHash:Yh}=require("crypto"),Al=Fa(),pr=gn(),Kh=kl(),Xh=La(),{GUID:Qh,kWebSocket:Jh}=jt(),Zh=/^[+/0-9A-Za-z]{22}==$/,Rl=0,Dl=1,Pl=2,Ia=class extends Vh{constructor(t,e){if(super(),t={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Xh,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=di.createServer((u,f)=>{let h=di.STATUS_CODES[426];f.writeHead(426,{"Content-Length":h.length,"Content-Type":"text/plain"}),f.end(h)}),this._server.listen(t.port,t.host,t.backlog,e)):t.server&&(this._server=t.server),this._server){let u=this.emit.bind(this,"connection");this._removeListeners=ep(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(f,h,y)=>{this.handleUpgrade(f,h,y,u)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=Rl}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===Pl){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(Sn,this);return}if(t&&this.once("close",t),this._state!==Dl)if(this._state=Dl,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Sn,this):process.nextTick(Sn,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{Sn(this)})}}shouldHandle(t){if(this.options.path){let e=t.url.indexOf("?");if((e!==-1?t.url.slice(0,e):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,e,u,f){e.on("error",Tl);let h=t.headers["sec-websocket-key"],y=+t.headers["sec-websocket-version"];if(t.method!=="GET"){mr(this,t,e,405,"Invalid HTTP method");return}if(t.headers.upgrade.toLowerCase()!=="websocket"){mr(this,t,e,400,"Invalid Upgrade header");return}if(!h||!Zh.test(h)){mr(this,t,e,400,"Missing or invalid Sec-WebSocket-Key header");return}if(y!==8&&y!==13){mr(this,t,e,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(t)){kn(e,400);return}let E=t.headers["sec-websocket-protocol"],A=new Set;if(E!==void 0)try{A=Kh.parse(E)}catch{mr(this,t,e,400,"Invalid Sec-WebSocket-Protocol header");return}let R=t.headers["sec-websocket-extensions"],S={};if(this.options.perMessageDeflate&&R!==void 0){let T=new pr(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let D=Al.parse(R);D[pr.extensionName]&&(T.accept(D[pr.extensionName]),S[pr.extensionName]=T)}catch{mr(this,t,e,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let T={origin:t.headers[`${y===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(T,(D,re,B,N)=>{if(!D)return kn(e,re||401,B,N);this.completeUpgrade(S,h,A,t,e,u,f)});return}if(!this.options.verifyClient(T))return kn(e,401)}this.completeUpgrade(S,h,A,t,e,u,f)}completeUpgrade(t,e,u,f,h,y,E){if(!h.readable||!h.writable)return h.destroy();if(h[Jh])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Rl)return kn(h,503);let R=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Yh("sha1").update(e+Qh).digest("base64")}`],S=new this.options.WebSocket(null);if(u.size){let T=this.options.handleProtocols?this.options.handleProtocols(u,f):u.values().next().value;T&&(R.push(`Sec-WebSocket-Protocol: ${T}`),S._protocol=T)}if(t[pr.extensionName]){let T=t[pr.extensionName].params,D=Al.format({[pr.extensionName]:[T]});R.push(`Sec-WebSocket-Extensions: ${D}`),S._extensions=t}this.emit("headers",R,f),h.write(R.concat(`\r
`).join(`\r
`)),h.removeListener("error",Tl),S.setSocket(h,y,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(S),S.on("close",()=>{this.clients.delete(S),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Sn,this)})),E(S,f)}};Fl.exports=Ia;function ep(n,t){for(let e of Object.keys(t))n.on(e,t[e]);return function(){for(let u of Object.keys(t))n.removeListener(u,t[u])}}function Sn(n){n._state=Pl,n.emit("close")}function Tl(){this.destroy()}function kn(n,t,e,u){e=e||di.STATUS_CODES[t],u={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(e),...u},n.once("finish",n.destroy),n.end(`HTTP/1.1 ${t} ${di.STATUS_CODES[t]}\r
`+Object.keys(u).map(f=>`${f}: ${u[f]}`).join(`\r
`)+`\r
\r
`+e)}function mr(n,t,e,u,f){if(n.listenerCount("wsClientError")){let h=new Error(f);Error.captureStackTrace(h,mr),n.emit("wsClientError",h,e,t)}else kn(e,u,f)}});var An=q((Ib,xl)=>{"use strict";var Ct=La();Ct.createWebSocketStream=El();Ct.Server=Cl();Ct.Receiver=Ra();Ct.Sender=Ta();Ct.WebSocket=Ct;Ct.WebSocketServer=Ct.Server;xl.exports=Ct});var Ml=q((_i,Ba)=>{"use strict";var Na=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(t={}){var e=typeof t<"u"?t:{},u,f;e.ready=new Promise((s,a)=>{u=s,f=a});var h=Object.assign({},e),y=[],E="./this.program",A=(s,a)=>{throw a},R=typeof window=="object",S=typeof importScripts=="function",T=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D="";function re(s){return e.locateFile?e.locateFile(s,D):D+s}var B,N,K,ie;if(T){var me=require("fs"),de=require("path");S?D=de.dirname(D)+"/":D=__dirname+"/",B=(s,a)=>(s=Kr(s)?new URL(s):de.normalize(s),me.readFileSync(s,a?void 0:"utf8")),K=s=>{var a=B(s,!0);return a.buffer||(a=new Uint8Array(a)),a},N=(s,a,l,d=!0)=>{s=Kr(s)?new URL(s):de.normalize(s),me.readFile(s,d?void 0:"utf8",(r,i)=>{r?l(r):a(d?i.buffer:i)})},!e.thisProgram&&process.argv.length>1&&(E=process.argv[1].replace(/\\/g,"/")),y=process.argv.slice(2),A=(s,a)=>{throw process.exitCode=s,a},e.inspect=()=>"[Emscripten Module object]"}else(R||S)&&(S?D=self.location.href:typeof document<"u"&&document.currentScript&&(D=document.currentScript.src),n&&(D=n),D.indexOf("blob:")!==0?D=D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1):D="",B=s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.send(null),a.responseText},S&&(K=s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),N=(s,a,l)=>{var d=new XMLHttpRequest;d.open("GET",s,!0),d.responseType="arraybuffer",d.onload=()=>{if(d.status==200||d.status==0&&d.response){a(d.response);return}l()},d.onerror=l,d.send(null)},ie=s=>document.title=s);var ke=e.print||console.log.bind(console),I=e.printErr||console.error.bind(console);Object.assign(e,h),h=null,e.arguments&&(y=e.arguments),e.thisProgram&&(E=e.thisProgram),e.quit&&(A=e.quit);var _e;e.wasmBinary&&(_e=e.wasmBinary);var ue=e.noExitRuntime||!0;typeof WebAssembly!="object"&&Q("no native wasm support detected");var J,V=!1,ge;function M(s,a){s||Q(a)}var X,te,he,C,v,j,Ee,Xe;function ze(){var s=J.buffer;e.HEAP8=X=new Int8Array(s),e.HEAP16=he=new Int16Array(s),e.HEAP32=v=new Int32Array(s),e.HEAPU8=te=new Uint8Array(s),e.HEAPU16=C=new Uint16Array(s),e.HEAPU32=j=new Uint32Array(s),e.HEAPF32=Ee=new Float32Array(s),e.HEAPF64=Xe=new Float64Array(s)}var We,gt=[],Zt=[],Ot=[],Ze=[],ye=!1,Lt=0;function Vr(){return ue||Lt>0}function Y(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Fe(e.preRun.shift());At(gt)}function De(){ye=!0,!e.noFSInit&&!m.init.initialized&&m.init(),m.ignorePermissions=!1,at.init(),p.root=m.mount(p,{},null),At(Zt)}function z(){At(Ot)}function pe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ie(e.postRun.shift());At(Ze)}function Fe(s){gt.unshift(s)}function He(s){Zt.unshift(s)}function Ie(s){Ze.unshift(s)}var qe=0,st=null,ft=null;function L_(s){return s}function er(s){qe++,e.monitorRunDependencies&&e.monitorRunDependencies(qe)}function kt(s){if(qe--,e.monitorRunDependencies&&e.monitorRunDependencies(qe),qe==0&&(st!==null&&(clearInterval(st),st=null),ft)){var a=ft;ft=null,a()}}function Q(s){e.onAbort&&e.onAbort(s),s="Aborted("+s+")",I(s),V=!0,ge=1,s+=". Build with -sASSERTIONS for more info.",ye&&Lr();var a=new WebAssembly.RuntimeError(s);throw f(a),a}var Xi="data:application/octet-stream;base64,";function Yr(s){return s.startsWith(Xi)}function Kr(s){return s.startsWith("file://")}var et;et="./duckdb-eh.wasm",Yr(et)||(et=re(et));function Xr(s){try{if(s==et&&_e)return new Uint8Array(_e);if(K)return K(s);throw"both async and sync fetching of the wasm failed"}catch(a){Q(a)}}function Qi(s){return!_e&&(R||S)&&typeof fetch=="function"?fetch(s,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+s+"'";return a.arrayBuffer()}).catch(()=>Xr(s)):Promise.resolve().then(()=>Xr(s))}function Qr(s,a,l){return Qi(s).then(d=>WebAssembly.instantiate(d,a)).then(d=>d).then(l,d=>{I("failed to asynchronously prepare wasm: "+d),Q(d)})}function Ji(s,a,l,d){return!s&&typeof WebAssembly.instantiateStreaming=="function"&&!Yr(a)&&!T&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(r=>{var i=WebAssembly.instantiateStreaming(r,l);return i.then(d,function(o){return I("wasm streaming compile failed: "+o),I("falling back to ArrayBuffer instantiation"),Qr(a,l,d)})}):Qr(a,l,d)}function Zi(){var s={a:Mo};function a(d,r){var i=d.exports;return e.asm=i,J=e.asm.Fa,ze(),We=e.asm.Ia,He(e.asm.Ga),kt("wasm-instantiate"),i}er("wasm-instantiate");function l(d){a(d.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(s,a)}catch(d){I("Module.instantiateWasm callback failed with error: "+d),f(d)}return Ji(_e,et,s,l).catch(f),{}}var L,ee;function Jr(s){this.name="ExitStatus",this.message=`Program terminated with exit(${s})`,this.status=s}function At(s){for(;s.length>0;)s.shift()(e)}function es(){I("missing function: XML_GetBuffer"),Q(-1)}function ts(){I("missing function: XML_GetErrorCode"),Q(-1)}function rs(){I("missing function: XML_Parse"),Q(-1)}function ns(){I("missing function: XML_ParseBuffer"),Q(-1)}function is(){I("missing function: XML_ParserCreate"),Q(-1)}function ss(){I("missing function: XML_ParserFree"),Q(-1)}function os(){I("missing function: XML_ResumeParser"),Q(-1)}function as(){I("missing function: XML_SetCharacterDataHandler"),Q(-1)}function us(){I("missing function: XML_SetElementHandler"),Q(-1)}function cs(){I("missing function: XML_SetUserData"),Q(-1)}function ls(){I("missing function: XML_StopParser"),Q(-1)}var Cn="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function xn(s,a,l){Q(Cn)}var Ae={isAbs:s=>s.charAt(0)==="/",splitPath:s=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(s).slice(1)},normalizeArray:(s,a)=>{for(var l=0,d=s.length-1;d>=0;d--){var r=s[d];r==="."?s.splice(d,1):r===".."?(s.splice(d,1),l++):l&&(s.splice(d,1),l--)}if(a)for(;l;l--)s.unshift("..");return s},normalize:s=>{var a=Ae.isAbs(s),l=s.substr(-1)==="/";return s=Ae.normalizeArray(s.split("/").filter(d=>!!d),!a).join("/"),!s&&!a&&(s="."),s&&l&&(s+="/"),(a?"/":"")+s},dirname:s=>{var a=Ae.splitPath(s),l=a[0],d=a[1];return!l&&!d?".":(d&&(d=d.substr(0,d.length-1)),l+d)},basename:s=>{if(s==="/")return"/";s=Ae.normalize(s),s=s.replace(/\/$/,"");var a=s.lastIndexOf("/");return a===-1?s:s.substr(a+1)},join:function(){var s=Array.prototype.slice.call(arguments);return Ae.normalize(s.join("/"))},join2:(s,a)=>Ae.normalize(s+"/"+a)};function fs(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return d=>crypto.getRandomValues(d);if(T)try{var s=require("crypto"),a=s.randomFillSync;if(a)return d=>s.randomFillSync(d);var l=s.randomBytes;return d=>(d.set(l(d.byteLength)),d)}catch{}Q("initRandomDevice")}function Sr(s){return(Sr=fs())(s)}var dt={resolve:function(){for(var s="",a=!1,l=arguments.length-1;l>=-1&&!a;l--){var d=l>=0?arguments[l]:m.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!d)return"";s=d+"/"+s,a=Ae.isAbs(d)}return s=Ae.normalizeArray(s.split("/").filter(r=>!!r),!a).join("/"),(a?"/":"")+s||"."},relative:(s,a)=>{s=dt.resolve(s).substr(1),a=dt.resolve(a).substr(1);function l(g){for(var b=0;b<g.length&&g[b]==="";b++);for(var w=g.length-1;w>=0&&g[w]==="";w--);return b>w?[]:g.slice(b,w-b+1)}for(var d=l(s.split("/")),r=l(a.split("/")),i=Math.min(d.length,r.length),o=i,c=0;c<i;c++)if(d[c]!==r[c]){o=c;break}for(var _=[],c=o;c<d.length;c++)_.push("..");return _=_.concat(r.slice(o)),_.join("/")}};function Se(s){for(var a=0,l=0;l<s.length;++l){var d=s.charCodeAt(l);d<=127?a++:d<=2047?a+=2:d>=55296&&d<=57343?(a+=4,++l):a+=3}return a}function Zr(s,a,l,d){if(l>>>=0,!(d>0))return 0;for(var r=l,i=l+d-1,o=0;o<s.length;++o){var c=s.charCodeAt(o);if(c>=55296&&c<=57343){var _=s.charCodeAt(++o);c=65536+((c&1023)<<10)|_&1023}if(c<=127){if(l>=i)break;a[l++>>>0]=c}else if(c<=2047){if(l+1>=i)break;a[l++>>>0]=192|c>>6,a[l++>>>0]=128|c&63}else if(c<=65535){if(l+2>=i)break;a[l++>>>0]=224|c>>12,a[l++>>>0]=128|c>>6&63,a[l++>>>0]=128|c&63}else{if(l+3>=i)break;a[l++>>>0]=240|c>>18,a[l++>>>0]=128|c>>12&63,a[l++>>>0]=128|c>>6&63,a[l++>>>0]=128|c&63}}return a[l>>>0]=0,l-r}function It(s,a,l){var d=l>0?l:Se(s)+1,r=new Array(d),i=Zr(s,r,0,r.length);return a&&(r.length=i),r}var ot=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _t(s,a,l){a>>>=0;for(var d=a+l,r=a;s[r]&&!(r>=d);)++r;if(r-a>16&&s.buffer&&ot)return ot.decode(s.subarray(a,r));for(var i="";a<r;){var o=s[a++];if(!(o&128)){i+=String.fromCharCode(o);continue}var c=s[a++]&63;if((o&224)==192){i+=String.fromCharCode((o&31)<<6|c);continue}var _=s[a++]&63;if((o&240)==224?o=(o&15)<<12|c<<6|_:o=(o&7)<<18|c<<12|_<<6|s[a++]&63,o<65536)i+=String.fromCharCode(o);else{var g=o-65536;i+=String.fromCharCode(55296|g>>10,56320|g&1023)}}return i}var at={ttys:[],init:function(){},shutdown:function(){},register:function(s,a){at.ttys[s]={input:[],output:[],ops:a},m.registerDevice(s,at.stream_ops)},stream_ops:{open:function(s){var a=at.ttys[s.node.rdev];if(!a)throw new m.ErrnoError(43);s.tty=a,s.seekable=!1},close:function(s){s.tty.ops.fsync(s.tty)},fsync:function(s){s.tty.ops.fsync(s.tty)},read:function(s,a,l,d,r){if(!s.tty||!s.tty.ops.get_char)throw new m.ErrnoError(60);for(var i=0,o=0;o<d;o++){var c;try{c=s.tty.ops.get_char(s.tty)}catch{throw new m.ErrnoError(29)}if(c===void 0&&i===0)throw new m.ErrnoError(6);if(c==null)break;i++,a[l+o]=c}return i&&(s.node.timestamp=Date.now()),i},write:function(s,a,l,d,r){if(!s.tty||!s.tty.ops.put_char)throw new m.ErrnoError(60);try{for(var i=0;i<d;i++)s.tty.ops.put_char(s.tty,a[l+i])}catch{throw new m.ErrnoError(29)}return d&&(s.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(s){if(!s.input.length){var a=null;if(T){var l=256,d=Buffer.alloc(l),r=0;try{r=me.readSync(process.stdin.fd,d,0,l,-1)}catch(i){if(i.toString().includes("EOF"))r=0;else throw i}r>0?a=d.slice(0,r).toString("utf-8"):a=null}else typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`));if(!a)return null;s.input=It(a,!0)}return s.input.shift()},put_char:function(s,a){a===null||a===10?(ke(_t(s.output,0)),s.output=[]):a!=0&&s.output.push(a)},fsync:function(s){s.output&&s.output.length>0&&(ke(_t(s.output,0)),s.output=[])}},default_tty1_ops:{put_char:function(s,a){a===null||a===10?(I(_t(s.output,0)),s.output=[]):a!=0&&s.output.push(a)},fsync:function(s){s.output&&s.output.length>0&&(I(_t(s.output,0)),s.output=[])}}};function Nt(s,a){return te.fill(0,s,s+a),s}function Mn(s,a){return Math.ceil(s/a)*a}function Rt(s){s=Mn(s,65536);var a=cr(65536,s);return a?Nt(a,s):0}var se={ops_table:null,mount:function(s){return se.createNode(null,"/",16895,0)},createNode:function(s,a,l,d){if(m.isBlkdev(l)||m.isFIFO(l))throw new m.ErrnoError(63);se.ops_table||(se.ops_table={dir:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,lookup:se.node_ops.lookup,mknod:se.node_ops.mknod,rename:se.node_ops.rename,unlink:se.node_ops.unlink,rmdir:se.node_ops.rmdir,readdir:se.node_ops.readdir,symlink:se.node_ops.symlink},stream:{llseek:se.stream_ops.llseek}},file:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:{llseek:se.stream_ops.llseek,read:se.stream_ops.read,write:se.stream_ops.write,allocate:se.stream_ops.allocate,mmap:se.stream_ops.mmap,msync:se.stream_ops.msync}},link:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,readlink:se.node_ops.readlink},stream:{}},chrdev:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:m.chrdev_stream_ops}});var r=m.createNode(s,a,l,d);return m.isDir(r.mode)?(r.node_ops=se.ops_table.dir.node,r.stream_ops=se.ops_table.dir.stream,r.contents={}):m.isFile(r.mode)?(r.node_ops=se.ops_table.file.node,r.stream_ops=se.ops_table.file.stream,r.usedBytes=0,r.contents=null):m.isLink(r.mode)?(r.node_ops=se.ops_table.link.node,r.stream_ops=se.ops_table.link.stream):m.isChrdev(r.mode)&&(r.node_ops=se.ops_table.chrdev.node,r.stream_ops=se.ops_table.chrdev.stream),r.timestamp=Date.now(),s&&(s.contents[a]=r,s.timestamp=r.timestamp),r},getFileDataAsTypedArray:function(s){return s.contents?s.contents.subarray?s.contents.subarray(0,s.usedBytes):new Uint8Array(s.contents):new Uint8Array(0)},expandFileStorage:function(s,a){a>>>=0;var l=s.contents?s.contents.length:0;if(!(l>=a)){var d=1024*1024;a=Math.max(a,l*(l<d?2:1.125)>>>0),l!=0&&(a=Math.max(a,256));var r=s.contents;s.contents=new Uint8Array(a),s.usedBytes>0&&s.contents.set(r.subarray(0,s.usedBytes),0)}},resizeFileStorage:function(s,a){if(a>>>=0,s.usedBytes!=a)if(a==0)s.contents=null,s.usedBytes=0;else{var l=s.contents;s.contents=new Uint8Array(a),l&&s.contents.set(l.subarray(0,Math.min(a,s.usedBytes))),s.usedBytes=a}},node_ops:{getattr:function(s){var a={};return a.dev=m.isChrdev(s.mode)?s.id:1,a.ino=s.id,a.mode=s.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=s.rdev,m.isDir(s.mode)?a.size=4096:m.isFile(s.mode)?a.size=s.usedBytes:m.isLink(s.mode)?a.size=s.link.length:a.size=0,a.atime=new Date(s.timestamp),a.mtime=new Date(s.timestamp),a.ctime=new Date(s.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(s,a){a.mode!==void 0&&(s.mode=a.mode),a.timestamp!==void 0&&(s.timestamp=a.timestamp),a.size!==void 0&&se.resizeFileStorage(s,a.size)},lookup:function(s,a){throw m.genericErrors[44]},mknod:function(s,a,l,d){return se.createNode(s,a,l,d)},rename:function(s,a,l){if(m.isDir(s.mode)){var d;try{d=m.lookupNode(a,l)}catch{}if(d)for(var r in d.contents)throw new m.ErrnoError(55)}delete s.parent.contents[s.name],s.parent.timestamp=Date.now(),s.name=l,a.contents[l]=s,a.timestamp=s.parent.timestamp,s.parent=a},unlink:function(s,a){delete s.contents[a],s.timestamp=Date.now()},rmdir:function(s,a){var l=m.lookupNode(s,a);for(var d in l.contents)throw new m.ErrnoError(55);delete s.contents[a],s.timestamp=Date.now()},readdir:function(s){var a=[".",".."];for(var l in s.contents)s.contents.hasOwnProperty(l)&&a.push(l);return a},symlink:function(s,a,l){var d=se.createNode(s,a,41471,0);return d.link=l,d},readlink:function(s){if(!m.isLink(s.mode))throw new m.ErrnoError(28);return s.link}},stream_ops:{read:function(s,a,l,d,r){var i=s.node.contents;if(r>=s.node.usedBytes)return 0;var o=Math.min(s.node.usedBytes-r,d);if(o>8&&i.subarray)a.set(i.subarray(r,r+o),l);else for(var c=0;c<o;c++)a[l+c]=i[r+c];return o},write:function(s,a,l,d,r,i){if(a.buffer===X.buffer&&(i=!1),!d)return 0;var o=s.node;if(o.timestamp=Date.now(),a.subarray&&(!o.contents||o.contents.subarray)){if(i)return o.contents=a.subarray(l,l+d),o.usedBytes=d,d;if(o.usedBytes===0&&r===0)return o.contents=a.slice(l,l+d),o.usedBytes=d,d;if(r+d<=o.usedBytes)return o.contents.set(a.subarray(l,l+d),r),d}if(se.expandFileStorage(o,r+d),o.contents.subarray&&a.subarray)o.contents.set(a.subarray(l,l+d),r);else for(var c=0;c<d;c++)o.contents[r+c]=a[l+c];return o.usedBytes=Math.max(o.usedBytes,r+d),d},llseek:function(s,a,l){var d=a;if(l===1?d+=s.position:l===2&&m.isFile(s.node.mode)&&(d+=s.node.usedBytes),d<0)throw new m.ErrnoError(28);return d},allocate:function(s,a,l){se.expandFileStorage(s.node,a+l),s.node.usedBytes=Math.max(s.node.usedBytes,a+l)},mmap:function(s,a,l,d,r){if(!m.isFile(s.node.mode))throw new m.ErrnoError(43);var i,o,c=s.node.contents;if(!(r&2)&&c.buffer===X.buffer)o=!1,i=c.byteOffset;else{if((l>0||l+a<c.length)&&(c.subarray?c=c.subarray(l,l+a):c=Array.prototype.slice.call(c,l,l+a)),o=!0,i=Rt(a),!i)throw new m.ErrnoError(48);i>>>=0,X.set(c,i>>>0)}return{ptr:i,allocated:o}},msync:function(s,a,l,d,r){return se.stream_ops.write(s,a,0,d,l,!1),0}}};function en(s,a,l,d){var r=d?"":`al ${s}`;N(s,i=>{M(i,`Loading data file "${s}" failed (no arrayBuffer).`),a(new Uint8Array(i)),r&&kt(r)},i=>{if(l)l();else throw`Loading data file "${s}" failed.`}),r&&er(r)}var ds=e.preloadPlugins||[];function On(s,a,l,d){typeof Browser<"u"&&Browser.init();var r=!1;return ds.forEach(function(i){r||i.canHandle(a)&&(i.handle(s,a,l,d),r=!0)}),r}function fe(s,a,l,d,r,i,o,c,_,g){var b=a?dt.resolve(Ae.join2(s,a)):s,w=`cp ${b}`;function k(F){function x(G){g&&g(),c||m.createDataFile(s,a,G,d,r,_),i&&i(),kt(w)}On(F,b,x,()=>{o&&o(),kt(w)})||x(F)}er(w),typeof l=="string"?en(l,F=>k(F),o):k(l)}function _s(s){var a={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},l=a[s];if(typeof l>"u")throw new Error(`Unknown file open mode: ${s}`);return l}function tn(s,a){var l=0;return s&&(l|=365),a&&(l|=146),l}var m={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(s,a={})=>{if(s=dt.resolve(s),!s)return{path:"",node:null};var l={follow_mount:!0,recurse_count:0};if(a=Object.assign(l,a),a.recurse_count>8)throw new m.ErrnoError(32);for(var d=s.split("/").filter(w=>!!w),r=m.root,i="/",o=0;o<d.length;o++){var c=o===d.length-1;if(c&&a.parent)break;if(r=m.lookupNode(r,d[o]),i=Ae.join2(i,d[o]),m.isMountpoint(r)&&(!c||c&&a.follow_mount)&&(r=r.mounted.root),!c||a.follow)for(var _=0;m.isLink(r.mode);){var g=m.readlink(i);i=dt.resolve(Ae.dirname(i),g);var b=m.lookupPath(i,{recurse_count:a.recurse_count+1});if(r=b.node,_++>40)throw new m.ErrnoError(32)}}return{path:i,node:r}},getPath:s=>{for(var a;;){if(m.isRoot(s)){var l=s.mount.mountpoint;return a?l[l.length-1]!=="/"?`${l}/${a}`:l+a:l}a=a?`${s.name}/${a}`:s.name,s=s.parent}},hashName:(s,a)=>{for(var l=0,d=0;d<a.length;d++)l=(l<<5)-l+a.charCodeAt(d)|0;return(s+l>>>0)%m.nameTable.length},hashAddNode:s=>{var a=m.hashName(s.parent.id,s.name);s.name_next=m.nameTable[a],m.nameTable[a]=s},hashRemoveNode:s=>{var a=m.hashName(s.parent.id,s.name);if(m.nameTable[a]===s)m.nameTable[a]=s.name_next;else for(var l=m.nameTable[a];l;){if(l.name_next===s){l.name_next=s.name_next;break}l=l.name_next}},lookupNode:(s,a)=>{var l=m.mayLookup(s);if(l)throw new m.ErrnoError(l,s);for(var d=m.hashName(s.id,a),r=m.nameTable[d];r;r=r.name_next){var i=r.name;if(r.parent.id===s.id&&i===a)return r}return m.lookup(s,a)},createNode:(s,a,l,d)=>{var r=new m.FSNode(s,a,l,d);return m.hashAddNode(r),r},destroyNode:s=>{m.hashRemoveNode(s)},isRoot:s=>s===s.parent,isMountpoint:s=>!!s.mounted,isFile:s=>(s&61440)===32768,isDir:s=>(s&61440)===16384,isLink:s=>(s&61440)===40960,isChrdev:s=>(s&61440)===8192,isBlkdev:s=>(s&61440)===24576,isFIFO:s=>(s&61440)===4096,isSocket:s=>(s&49152)===49152,flagsToPermissionString:s=>{var a=["r","w","rw"][s&3];return s&512&&(a+="w"),a},nodePermissions:(s,a)=>m.ignorePermissions?0:a.includes("r")&&!(s.mode&292)||a.includes("w")&&!(s.mode&146)||a.includes("x")&&!(s.mode&73)?2:0,mayLookup:s=>{var a=m.nodePermissions(s,"x");return a||(s.node_ops.lookup?0:2)},mayCreate:(s,a)=>{try{var l=m.lookupNode(s,a);return 20}catch{}return m.nodePermissions(s,"wx")},mayDelete:(s,a,l)=>{var d;try{d=m.lookupNode(s,a)}catch(i){return i.errno}var r=m.nodePermissions(s,"wx");if(r)return r;if(l){if(!m.isDir(d.mode))return 54;if(m.isRoot(d)||m.getPath(d)===m.cwd())return 10}else if(m.isDir(d.mode))return 31;return 0},mayOpen:(s,a)=>s?m.isLink(s.mode)?32:m.isDir(s.mode)&&(m.flagsToPermissionString(a)!=="r"||a&512)?31:m.nodePermissions(s,m.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var s=0;s<=m.MAX_OPEN_FDS;s++)if(!m.streams[s])return s;throw new m.ErrnoError(33)},getStream:s=>m.streams[s],createStream:(s,a=-1)=>(m.FSStream||(m.FSStream=function(){this.shared={}},m.FSStream.prototype={},Object.defineProperties(m.FSStream.prototype,{object:{get:function(){return this.node},set:function(l){this.node=l}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(l){this.shared.flags=l}},position:{get:function(){return this.shared.position},set:function(l){this.shared.position=l}}})),s=Object.assign(new m.FSStream,s),a==-1&&(a=m.nextfd()),s.fd=a,m.streams[a]=s,s),closeStream:s=>{m.streams[s]=null},chrdev_stream_ops:{open:s=>{var a=m.getDevice(s.node.rdev);s.stream_ops=a.stream_ops,s.stream_ops.open&&s.stream_ops.open(s)},llseek:()=>{throw new m.ErrnoError(70)}},major:s=>s>>8,minor:s=>s&255,makedev:(s,a)=>s<<8|a,registerDevice:(s,a)=>{m.devices[s]={stream_ops:a}},getDevice:s=>m.devices[s],getMounts:s=>{for(var a=[],l=[s];l.length;){var d=l.pop();a.push(d),l.push.apply(l,d.mounts)}return a},syncfs:(s,a)=>{typeof s=="function"&&(a=s,s=!1),m.syncFSRequests++,m.syncFSRequests>1&&I(`warning: ${m.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var l=m.getMounts(m.root.mount),d=0;function r(o){return m.syncFSRequests--,a(o)}function i(o){if(o)return i.errored?void 0:(i.errored=!0,r(o));++d>=l.length&&r(null)}l.forEach(o=>{if(!o.type.syncfs)return i(null);o.type.syncfs(o,s,i)})},mount:(s,a,l)=>{var d=l==="/",r=!l,i;if(d&&m.root)throw new m.ErrnoError(10);if(!d&&!r){var o=m.lookupPath(l,{follow_mount:!1});if(l=o.path,i=o.node,m.isMountpoint(i))throw new m.ErrnoError(10);if(!m.isDir(i.mode))throw new m.ErrnoError(54)}var c={type:s,opts:a,mountpoint:l,mounts:[]},_=s.mount(c);return _.mount=c,c.root=_,d?m.root=_:i&&(i.mounted=c,i.mount&&i.mount.mounts.push(c)),_},unmount:s=>{var a=m.lookupPath(s,{follow_mount:!1});if(!m.isMountpoint(a.node))throw new m.ErrnoError(28);var l=a.node,d=l.mounted,r=m.getMounts(d);Object.keys(m.nameTable).forEach(o=>{for(var c=m.nameTable[o];c;){var _=c.name_next;r.includes(c.mount)&&m.destroyNode(c),c=_}}),l.mounted=null;var i=l.mount.mounts.indexOf(d);l.mount.mounts.splice(i,1)},lookup:(s,a)=>s.node_ops.lookup(s,a),mknod:(s,a,l)=>{var d=m.lookupPath(s,{parent:!0}),r=d.node,i=Ae.basename(s);if(!i||i==="."||i==="..")throw new m.ErrnoError(28);var o=m.mayCreate(r,i);if(o)throw new m.ErrnoError(o);if(!r.node_ops.mknod)throw new m.ErrnoError(63);return r.node_ops.mknod(r,i,a,l)},create:(s,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,m.mknod(s,a,0)),mkdir:(s,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,m.mknod(s,a,0)),mkdirTree:(s,a)=>{for(var l=s.split("/"),d="",r=0;r<l.length;++r)if(l[r]){d+="/"+l[r];try{m.mkdir(d,a)}catch(i){if(i.errno!=20)throw i}}},mkdev:(s,a,l)=>(typeof l>"u"&&(l=a,a=438),a|=8192,m.mknod(s,a,l)),symlink:(s,a)=>{if(!dt.resolve(s))throw new m.ErrnoError(44);var l=m.lookupPath(a,{parent:!0}),d=l.node;if(!d)throw new m.ErrnoError(44);var r=Ae.basename(a),i=m.mayCreate(d,r);if(i)throw new m.ErrnoError(i);if(!d.node_ops.symlink)throw new m.ErrnoError(63);return d.node_ops.symlink(d,r,s)},rename:(s,a)=>{var l=Ae.dirname(s),d=Ae.dirname(a),r=Ae.basename(s),i=Ae.basename(a),o,c,_;if(o=m.lookupPath(s,{parent:!0}),c=o.node,o=m.lookupPath(a,{parent:!0}),_=o.node,!c||!_)throw new m.ErrnoError(44);if(c.mount!==_.mount)throw new m.ErrnoError(75);var g=m.lookupNode(c,r),b=dt.relative(s,d);if(b.charAt(0)!==".")throw new m.ErrnoError(28);if(b=dt.relative(a,l),b.charAt(0)!==".")throw new m.ErrnoError(55);var w;try{w=m.lookupNode(_,i)}catch{}if(g!==w){var k=m.isDir(g.mode),F=m.mayDelete(c,r,k);if(F)throw new m.ErrnoError(F);if(F=w?m.mayDelete(_,i,k):m.mayCreate(_,i),F)throw new m.ErrnoError(F);if(!c.node_ops.rename)throw new m.ErrnoError(63);if(m.isMountpoint(g)||w&&m.isMountpoint(w))throw new m.ErrnoError(10);if(_!==c&&(F=m.nodePermissions(c,"w"),F))throw new m.ErrnoError(F);m.hashRemoveNode(g);try{c.node_ops.rename(g,_,i)}catch(x){throw x}finally{m.hashAddNode(g)}}},rmdir:s=>{var a=m.lookupPath(s,{parent:!0}),l=a.node,d=Ae.basename(s),r=m.lookupNode(l,d),i=m.mayDelete(l,d,!0);if(i)throw new m.ErrnoError(i);if(!l.node_ops.rmdir)throw new m.ErrnoError(63);if(m.isMountpoint(r))throw new m.ErrnoError(10);l.node_ops.rmdir(l,d),m.destroyNode(r)},readdir:s=>{var a=m.lookupPath(s,{follow:!0}),l=a.node;if(!l.node_ops.readdir)throw new m.ErrnoError(54);return l.node_ops.readdir(l)},unlink:s=>{var a=m.lookupPath(s,{parent:!0}),l=a.node;if(!l)throw new m.ErrnoError(44);var d=Ae.basename(s),r=m.lookupNode(l,d),i=m.mayDelete(l,d,!1);if(i)throw new m.ErrnoError(i);if(!l.node_ops.unlink)throw new m.ErrnoError(63);if(m.isMountpoint(r))throw new m.ErrnoError(10);l.node_ops.unlink(l,d),m.destroyNode(r)},readlink:s=>{var a=m.lookupPath(s),l=a.node;if(!l)throw new m.ErrnoError(44);if(!l.node_ops.readlink)throw new m.ErrnoError(28);return dt.resolve(m.getPath(l.parent),l.node_ops.readlink(l))},stat:(s,a)=>{var l=m.lookupPath(s,{follow:!a}),d=l.node;if(!d)throw new m.ErrnoError(44);if(!d.node_ops.getattr)throw new m.ErrnoError(63);return d.node_ops.getattr(d)},lstat:s=>m.stat(s,!0),chmod:(s,a,l)=>{var d;if(typeof s=="string"){var r=m.lookupPath(s,{follow:!l});d=r.node}else d=s;if(!d.node_ops.setattr)throw new m.ErrnoError(63);d.node_ops.setattr(d,{mode:a&4095|d.mode&-4096,timestamp:Date.now()})},lchmod:(s,a)=>{m.chmod(s,a,!0)},fchmod:(s,a)=>{var l=m.getStream(s);if(!l)throw new m.ErrnoError(8);m.chmod(l.node,a)},chown:(s,a,l,d)=>{var r;if(typeof s=="string"){var i=m.lookupPath(s,{follow:!d});r=i.node}else r=s;if(!r.node_ops.setattr)throw new m.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:(s,a,l)=>{m.chown(s,a,l,!0)},fchown:(s,a,l)=>{var d=m.getStream(s);if(!d)throw new m.ErrnoError(8);m.chown(d.node,a,l)},truncate:(s,a)=>{if(a<0)throw new m.ErrnoError(28);var l;if(typeof s=="string"){var d=m.lookupPath(s,{follow:!0});l=d.node}else l=s;if(!l.node_ops.setattr)throw new m.ErrnoError(63);if(m.isDir(l.mode))throw new m.ErrnoError(31);if(!m.isFile(l.mode))throw new m.ErrnoError(28);var r=m.nodePermissions(l,"w");if(r)throw new m.ErrnoError(r);l.node_ops.setattr(l,{size:a,timestamp:Date.now()})},ftruncate:(s,a)=>{var l=m.getStream(s);if(!l)throw new m.ErrnoError(8);if(!(l.flags&2097155))throw new m.ErrnoError(28);m.truncate(l.node,a)},utime:(s,a,l)=>{var d=m.lookupPath(s,{follow:!0}),r=d.node;r.node_ops.setattr(r,{timestamp:Math.max(a,l)})},open:(s,a,l)=>{if(s==="")throw new m.ErrnoError(44);a=typeof a=="string"?_s(a):a,l=typeof l>"u"?438:l,a&64?l=l&4095|32768:l=0;var d;if(typeof s=="object")d=s;else{s=Ae.normalize(s);try{var r=m.lookupPath(s,{follow:!(a&131072)});d=r.node}catch{}}var i=!1;if(a&64)if(d){if(a&128)throw new m.ErrnoError(20)}else d=m.mknod(s,l,0),i=!0;if(!d)throw new m.ErrnoError(44);if(m.isChrdev(d.mode)&&(a&=-513),a&65536&&!m.isDir(d.mode))throw new m.ErrnoError(54);if(!i){var o=m.mayOpen(d,a);if(o)throw new m.ErrnoError(o)}a&512&&!i&&m.truncate(d,0),a&=-131713;var c=m.createStream({node:d,path:m.getPath(d),flags:a,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1});return c.stream_ops.open&&c.stream_ops.open(c),e.logReadFiles&&!(a&1)&&(m.readFiles||(m.readFiles={}),s in m.readFiles||(m.readFiles[s]=1)),c},close:s=>{if(m.isClosed(s))throw new m.ErrnoError(8);s.getdents&&(s.getdents=null);try{s.stream_ops.close&&s.stream_ops.close(s)}catch(a){throw a}finally{m.closeStream(s.fd)}s.fd=null},isClosed:s=>s.fd===null,llseek:(s,a,l)=>{if(m.isClosed(s))throw new m.ErrnoError(8);if(!s.seekable||!s.stream_ops.llseek)throw new m.ErrnoError(70);if(l!=0&&l!=1&&l!=2)throw new m.ErrnoError(28);return s.position=s.stream_ops.llseek(s,a,l),s.ungotten=[],s.position},read:(s,a,l,d,r)=>{if(l>>>=0,d<0||r<0)throw new m.ErrnoError(28);if(m.isClosed(s))throw new m.ErrnoError(8);if((s.flags&2097155)===1)throw new m.ErrnoError(8);if(m.isDir(s.node.mode))throw new m.ErrnoError(31);if(!s.stream_ops.read)throw new m.ErrnoError(28);var i=typeof r<"u";if(!i)r=s.position;else if(!s.seekable)throw new m.ErrnoError(70);var o=s.stream_ops.read(s,a,l,d,r);return i||(s.position+=o),o},write:(s,a,l,d,r,i)=>{if(l>>>=0,d<0||r<0)throw new m.ErrnoError(28);if(m.isClosed(s))throw new m.ErrnoError(8);if(!(s.flags&2097155))throw new m.ErrnoError(8);if(m.isDir(s.node.mode))throw new m.ErrnoError(31);if(!s.stream_ops.write)throw new m.ErrnoError(28);s.seekable&&s.flags&1024&&m.llseek(s,0,2);var o=typeof r<"u";if(!o)r=s.position;else if(!s.seekable)throw new m.ErrnoError(70);var c=s.stream_ops.write(s,a,l,d,r,i);return o||(s.position+=c),c},allocate:(s,a,l)=>{if(m.isClosed(s))throw new m.ErrnoError(8);if(a<0||l<=0)throw new m.ErrnoError(28);if(!(s.flags&2097155))throw new m.ErrnoError(8);if(!m.isFile(s.node.mode)&&!m.isDir(s.node.mode))throw new m.ErrnoError(43);if(!s.stream_ops.allocate)throw new m.ErrnoError(138);s.stream_ops.allocate(s,a,l)},mmap:(s,a,l,d,r)=>{if(d&2&&!(r&2)&&(s.flags&2097155)!==2)throw new m.ErrnoError(2);if((s.flags&2097155)===1)throw new m.ErrnoError(2);if(!s.stream_ops.mmap)throw new m.ErrnoError(43);return s.stream_ops.mmap(s,a,l,d,r)},msync:(s,a,l,d,r)=>(l>>>=0,s.stream_ops.msync?s.stream_ops.msync(s,a,l,d,r):0),munmap:s=>0,ioctl:(s,a,l)=>{if(!s.stream_ops.ioctl)throw new m.ErrnoError(59);return s.stream_ops.ioctl(s,a,l)},readFile:(s,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error(`Invalid encoding type "${a.encoding}"`);var l,d=m.open(s,a.flags),r=m.stat(s),i=r.size,o=new Uint8Array(i);return m.read(d,o,0,i,0),a.encoding==="utf8"?l=_t(o,0):a.encoding==="binary"&&(l=o),m.close(d),l},writeFile:(s,a,l={})=>{l.flags=l.flags||577;var d=m.open(s,l.flags,l.mode);if(typeof a=="string"){var r=new Uint8Array(Se(a)+1),i=Zr(a,r,0,r.length);m.write(d,r,0,i,void 0,l.canOwn)}else if(ArrayBuffer.isView(a))m.write(d,a,0,a.byteLength,void 0,l.canOwn);else throw new Error("Unsupported data type");m.close(d)},cwd:()=>m.currentPath,chdir:s=>{var a=m.lookupPath(s,{follow:!0});if(a.node===null)throw new m.ErrnoError(44);if(!m.isDir(a.node.mode))throw new m.ErrnoError(54);var l=m.nodePermissions(a.node,"x");if(l)throw new m.ErrnoError(l);m.currentPath=a.path},createDefaultDirectories:()=>{m.mkdir("/tmp"),m.mkdir("/home"),m.mkdir("/home/web_user")},createDefaultDevices:()=>{m.mkdir("/dev"),m.registerDevice(m.makedev(1,3),{read:()=>0,write:(d,r,i,o,c)=>o}),m.mkdev("/dev/null",m.makedev(1,3)),at.register(m.makedev(5,0),at.default_tty_ops),at.register(m.makedev(6,0),at.default_tty1_ops),m.mkdev("/dev/tty",m.makedev(5,0)),m.mkdev("/dev/tty1",m.makedev(6,0));var s=new Uint8Array(1024),a=0,l=()=>(a===0&&(a=Sr(s).byteLength),s[--a]);m.createDevice("/dev","random",l),m.createDevice("/dev","urandom",l),m.mkdir("/dev/shm"),m.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{m.mkdir("/proc");var s=m.mkdir("/proc/self");m.mkdir("/proc/self/fd"),m.mount({mount:()=>{var a=m.createNode(s,"fd",16895,73);return a.node_ops={lookup:(l,d)=>{var r=+d,i=m.getStream(r);if(!i)throw new m.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path}};return o.parent=o,o}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?m.createDevice("/dev","stdin",e.stdin):m.symlink("/dev/tty","/dev/stdin"),e.stdout?m.createDevice("/dev","stdout",null,e.stdout):m.symlink("/dev/tty","/dev/stdout"),e.stderr?m.createDevice("/dev","stderr",null,e.stderr):m.symlink("/dev/tty1","/dev/stderr");var s=m.open("/dev/stdin",0),a=m.open("/dev/stdout",1),l=m.open("/dev/stderr",1)},ensureErrnoError:()=>{m.ErrnoError||(m.ErrnoError=function(a,l){this.name="ErrnoError",this.node=l,this.setErrno=function(d){this.errno=d},this.setErrno(a),this.message="FS error"},m.ErrnoError.prototype=new Error,m.ErrnoError.prototype.constructor=m.ErrnoError,[44].forEach(s=>{m.genericErrors[s]=new m.ErrnoError(s),m.genericErrors[s].stack="<generic error, no stack>"}))},staticInit:()=>{m.ensureErrnoError(),m.nameTable=new Array(4096),m.mount(se,{},"/"),m.createDefaultDirectories(),m.createDefaultDevices(),m.createSpecialDirectories(),m.filesystems={MEMFS:se}},init:(s,a,l)=>{m.init.initialized=!0,m.ensureErrnoError(),e.stdin=s||e.stdin,e.stdout=a||e.stdout,e.stderr=l||e.stderr,m.createStandardStreams()},quit:()=>{m.init.initialized=!1;for(var s=0;s<m.streams.length;s++){var a=m.streams[s];a&&m.close(a)}},findObject:(s,a)=>{var l=m.analyzePath(s,a);return l.exists?l.object:null},analyzePath:(s,a)=>{try{var l=m.lookupPath(s,{follow:!a});s=l.path}catch{}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var l=m.lookupPath(s,{parent:!0});d.parentExists=!0,d.parentPath=l.path,d.parentObject=l.node,d.name=Ae.basename(s),l=m.lookupPath(s,{follow:!a}),d.exists=!0,d.path=l.path,d.object=l.node,d.name=l.node.name,d.isRoot=l.path==="/"}catch(r){d.error=r.errno}return d},createPath:(s,a,l,d)=>{s=typeof s=="string"?s:m.getPath(s);for(var r=a.split("/").reverse();r.length;){var i=r.pop();if(i){var o=Ae.join2(s,i);try{m.mkdir(o)}catch{}s=o}}return o},createFile:(s,a,l,d,r)=>{var i=Ae.join2(typeof s=="string"?s:m.getPath(s),a),o=tn(d,r);return m.create(i,o)},createDataFile:(s,a,l,d,r,i)=>{var o=a;s&&(s=typeof s=="string"?s:m.getPath(s),o=a?Ae.join2(s,a):s);var c=tn(d,r),_=m.create(o,c);if(l){if(typeof l=="string"){for(var g=new Array(l.length),b=0,w=l.length;b<w;++b)g[b]=l.charCodeAt(b);l=g}m.chmod(_,c|146);var k=m.open(_,577);m.write(k,l,0,l.length,0,i),m.close(k),m.chmod(_,c)}return _},createDevice:(s,a,l,d)=>{var r=Ae.join2(typeof s=="string"?s:m.getPath(s),a),i=tn(!!l,!!d);m.createDevice.major||(m.createDevice.major=64);var o=m.makedev(m.createDevice.major++,0);return m.registerDevice(o,{open:c=>{c.seekable=!1},close:c=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(c,_,g,b,w)=>{for(var k=0,F=0;F<b;F++){var x;try{x=l()}catch{throw new m.ErrnoError(29)}if(x===void 0&&k===0)throw new m.ErrnoError(6);if(x==null)break;k++,_[g+F]=x}return k&&(c.node.timestamp=Date.now()),k},write:(c,_,g,b,w)=>{for(var k=0;k<b;k++)try{d(_[g+k])}catch{throw new m.ErrnoError(29)}return b&&(c.node.timestamp=Date.now()),k}}),m.mkdev(r,i,o)},forceLoadFile:s=>{if(s.isDevice||s.isFolder||s.link||s.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(B)try{s.contents=It(B(s.url),!0),s.usedBytes=s.contents.length}catch{throw new m.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(s,a,l,d,r)=>{function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(F){if(!(F>this.length-1||F<0)){var x=F%this.chunkSize,G=F/this.chunkSize|0;return this.getter(G)[x]}},i.prototype.setDataGetter=function(F){this.getter=F},i.prototype.cacheLength=function(){var F=new XMLHttpRequest;if(F.open("HEAD",l,!1),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+l+". Status: "+F.status);var x=Number(F.getResponseHeader("Content-length")),G,H=(G=F.getResponseHeader("Accept-Ranges"))&&G==="bytes",$=(G=F.getResponseHeader("Content-Encoding"))&&G==="gzip",P=1024*1024;H||(P=x);var U=(Z,O)=>{if(Z>O)throw new Error("invalid range ("+Z+", "+O+") or no bytes requested!");if(O>x-1)throw new Error("only "+x+" bytes available! programmer error!");var W=new XMLHttpRequest;if(W.open("GET",l,!1),x!==P&&W.setRequestHeader("Range","bytes="+Z+"-"+O),W.responseType="arraybuffer",W.overrideMimeType&&W.overrideMimeType("text/plain; charset=x-user-defined"),W.send(null),!(W.status>=200&&W.status<300||W.status===304))throw new Error("Couldn't load "+l+". Status: "+W.status);return W.response!==void 0?new Uint8Array(W.response||[]):It(W.responseText||"",!0)},ne=this;ne.setDataGetter(Z=>{var O=Z*P,W=(Z+1)*P-1;if(W=Math.min(W,x-1),typeof ne.chunks[Z]>"u"&&(ne.chunks[Z]=U(O,W)),typeof ne.chunks[Z]>"u")throw new Error("doXHR failed!");return ne.chunks[Z]}),($||!x)&&(P=x=1,x=this.getter(0).length,P=x,ke("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=x,this._chunkSize=P,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!S)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new i;Object.defineProperties(o,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var c={isDevice:!1,contents:o}}else var c={isDevice:!1,url:l};var _=m.createFile(s,a,c,d,r);c.contents?_.contents=c.contents:c.url&&(_.contents=null,_.url=c.url),Object.defineProperties(_,{usedBytes:{get:function(){return this.contents.length}}});var g={},b=Object.keys(_.stream_ops);b.forEach(k=>{var F=_.stream_ops[k];g[k]=function(){return m.forceLoadFile(_),F.apply(null,arguments)}});function w(k,F,x,G,H){var $=k.node.contents;if(H>=$.length)return 0;var P=Math.min($.length-H,G);if($.slice)for(var U=0;U<P;U++)F[x+U]=$[H+U];else for(var U=0;U<P;U++)F[x+U]=$.get(H+U);return P}return g.read=(k,F,x,G,H)=>(m.forceLoadFile(_),w(k,F,x,G,H)),g.mmap=(k,F,x,G,H)=>{m.forceLoadFile(_);var $=Rt(F);if(!$)throw new m.ErrnoError(48);return w(k,X,$,F,x),{ptr:$,allocated:!0}},_.stream_ops=g,_}};function Bt(s,a){return s>>>=0,s?_t(te,s,a):""}var oe={DEFAULT_POLLMASK:5,calculateAt:function(s,a,l){if(Ae.isAbs(a))return a;var d;if(s===-100)d=m.cwd();else{var r=oe.getStreamFromFD(s);d=r.path}if(a.length==0){if(!l)throw new m.ErrnoError(44);return d}return Ae.join2(d,a)},doStat:function(s,a,l){try{var d=s(a)}catch(c){if(c&&c.node&&Ae.normalize(a)!==Ae.normalize(m.getPath(c.node)))return-54;throw c}v[l>>>2]=d.dev,v[l+8>>>2]=d.ino,v[l+12>>>2]=d.mode,j[l+16>>>2]=d.nlink,v[l+20>>>2]=d.uid,v[l+24>>>2]=d.gid,v[l+28>>>2]=d.rdev,ee=[d.size>>>0,(L=d.size,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[l+40>>>2]=ee[0],v[l+44>>>2]=ee[1],v[l+48>>>2]=4096,v[l+52>>>2]=d.blocks;var r=d.atime.getTime(),i=d.mtime.getTime(),o=d.ctime.getTime();return ee=[Math.floor(r/1e3)>>>0,(L=Math.floor(r/1e3),+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[l+56>>>2]=ee[0],v[l+60>>>2]=ee[1],j[l+64>>>2]=r%1e3*1e3,ee=[Math.floor(i/1e3)>>>0,(L=Math.floor(i/1e3),+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[l+72>>>2]=ee[0],v[l+76>>>2]=ee[1],j[l+80>>>2]=i%1e3*1e3,ee=[Math.floor(o/1e3)>>>0,(L=Math.floor(o/1e3),+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[l+88>>>2]=ee[0],v[l+92>>>2]=ee[1],j[l+96>>>2]=o%1e3*1e3,ee=[d.ino>>>0,(L=d.ino,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[l+104>>>2]=ee[0],v[l+108>>>2]=ee[1],0},doMsync:function(s,a,l,d,r){if(!m.isFile(a.node.mode))throw new m.ErrnoError(43);if(d&2)return 0;s>>>=0;var i=te.slice(s,s+l);m.msync(a,i,r,l,d)},varargs:void 0,get:function(){oe.varargs+=4;var s=v[oe.varargs-4>>>2];return s},getStr:function(s){var a=Bt(s);return a},getStreamFromFD:function(s){var a=m.getStream(s);if(!a)throw new m.ErrnoError(8);return a}};function rn(s,a,l,d,r){try{for(var i=0,o=a?v[a>>>2]:0,c=a?v[a+4>>>2]:0,_=l?v[l>>>2]:0,g=l?v[l+4>>>2]:0,b=d?v[d>>>2]:0,w=d?v[d+4>>>2]:0,k=0,F=0,x=0,G=0,H=0,$=0,P=(a?v[a>>>2]:0)|(l?v[l>>>2]:0)|(d?v[d>>>2]:0),U=(a?v[a+4>>>2]:0)|(l?v[l+4>>>2]:0)|(d?v[d+4>>>2]:0),ne=function(ce,Me,Ce,dr){return ce<32?Me&dr:Ce&dr},Z=0;Z<s;Z++){var O=1<<Z%32;if(ne(Z,P,U,O)){var W=oe.getStreamFromFD(Z),be=oe.DEFAULT_POLLMASK;W.stream_ops.poll&&(be=W.stream_ops.poll(W)),be&1&&ne(Z,o,c,O)&&(Z<32?k=k|O:F=F|O,i++),be&4&&ne(Z,_,g,O)&&(Z<32?x=x|O:G=G|O,i++),be&2&&ne(Z,b,w,O)&&(Z<32?H=H|O:$=$|O,i++)}}return a&&(v[a>>>2]=k,v[a+4>>>2]=F),l&&(v[l>>>2]=x,v[l+4>>>2]=G),d&&(v[d>>>2]=H,v[d+4>>>2]=$),i}catch(ce){if(typeof m>"u"||ce.name!=="ErrnoError")throw ce;return-ce.errno}}var p={mount:function(s){return e.websocket=e.websocket&&typeof e.websocket=="object"?e.websocket:{},e.websocket._callbacks={},e.websocket.on=function(a,l){return typeof l=="function"&&(this._callbacks[a]=l),this},e.websocket.emit=function(a,l){typeof this._callbacks[a]=="function"&&this._callbacks[a].call(this,l)},m.createNode(null,"/",16895,0)},createSocket:function(s,a,l){a&=-526337;var d=a==1;if(d&&l&&l!=6)throw new m.ErrnoError(66);var r={family:s,type:a,protocol:l,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:p.websocket_sock_ops},i=p.nextname(),o=m.createNode(p.root,i,49152,0);o.sock=r;var c=m.createStream({path:i,node:o,flags:2,seekable:!1,stream_ops:p.stream_ops});return r.stream=c,r},getSocket:function(s){var a=m.getStream(s);return!a||!m.isSocket(a.node.mode)?null:a.node.sock},stream_ops:{poll:function(s){var a=s.node.sock;return a.sock_ops.poll(a)},ioctl:function(s,a,l){var d=s.node.sock;return d.sock_ops.ioctl(d,a,l)},read:function(s,a,l,d,r){var i=s.node.sock,o=i.sock_ops.recvmsg(i,d);return o?(a.set(o.buffer,l),o.buffer.length):0},write:function(s,a,l,d,r){var i=s.node.sock;return i.sock_ops.sendmsg(i,a,l,d)},close:function(s){var a=s.node.sock;a.sock_ops.close(a)}},nextname:function(){return p.nextname.current||(p.nextname.current=0),"socket["+p.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(s,a,l){var d;if(typeof a=="object"&&(d=a,a=null,l=null),d)if(d._socket)a=d._socket.remoteAddress,l=d._socket.remotePort;else{var r=/ws[s]?:\/\/([^:]+):(\d+)/.exec(d.url);if(!r)throw new Error("WebSocket URL must be in the format ws(s)://address:port");a=r[1],l=parseInt(r[2],10)}else try{var i=e.websocket&&typeof e.websocket=="object",o="ws:#".replace("#","//");if(i&&typeof e.websocket.url=="string"&&(o=e.websocket.url),o==="ws://"||o==="wss://"){var c=a.split("/");o=o+c[0]+":"+l+"/"+c.slice(1).join("/")}var _="binary";i&&typeof e.websocket.subprotocol=="string"&&(_=e.websocket.subprotocol);var g=void 0;_!=="null"&&(_=_.replace(/^ +| +$/g,"").split(/ *, */),g=_),i&&e.websocket.subprotocol===null&&(_="null",g=void 0);var b;T?b=An():b=WebSocket,d=new b(o,g),d.binaryType="arraybuffer"}catch{throw new m.ErrnoError(23)}var w={addr:a,port:l,socket:d,dgram_send_queue:[]};return p.websocket_sock_ops.addPeer(s,w),p.websocket_sock_ops.handlePeerEvents(s,w),s.type===2&&typeof s.sport<"u"&&w.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(s.sport&65280)>>8,s.sport&255])),w},getPeer:function(s,a,l){return s.peers[a+":"+l]},addPeer:function(s,a){s.peers[a.addr+":"+a.port]=a},removePeer:function(s,a){delete s.peers[a.addr+":"+a.port]},handlePeerEvents:function(s,a){var l=!0,d=function(){e.websocket.emit("open",s.stream.fd);try{for(var i=a.dgram_send_queue.shift();i;)a.socket.send(i),i=a.dgram_send_queue.shift()}catch{a.socket.close()}};function r(i){if(typeof i=="string"){var o=new TextEncoder;i=o.encode(i)}else{if(M(i.byteLength!==void 0),i.byteLength==0)return;i=new Uint8Array(i)}var c=l;if(l=!1,c&&i.length===10&&i[0]===255&&i[1]===255&&i[2]===255&&i[3]===255&&i[4]==="p".charCodeAt(0)&&i[5]==="o".charCodeAt(0)&&i[6]==="r".charCodeAt(0)&&i[7]==="t".charCodeAt(0)){var _=i[8]<<8|i[9];p.websocket_sock_ops.removePeer(s,a),a.port=_,p.websocket_sock_ops.addPeer(s,a);return}s.recv_queue.push({addr:a.addr,port:a.port,data:i}),e.websocket.emit("message",s.stream.fd)}T?(a.socket.on("open",d),a.socket.on("message",function(i,o){o&&r(new Uint8Array(i).buffer)}),a.socket.on("close",function(){e.websocket.emit("close",s.stream.fd)}),a.socket.on("error",function(i){s.error=14,e.websocket.emit("error",[s.stream.fd,s.error,"ECONNREFUSED: Connection refused"])})):(a.socket.onopen=d,a.socket.onclose=function(){e.websocket.emit("close",s.stream.fd)},a.socket.onmessage=function(o){r(o.data)},a.socket.onerror=function(i){s.error=14,e.websocket.emit("error",[s.stream.fd,s.error,"ECONNREFUSED: Connection refused"])})},poll:function(s){if(s.type===1&&s.server)return s.pending.length?65:0;var a=0,l=s.type===1?p.websocket_sock_ops.getPeer(s,s.daddr,s.dport):null;return(s.recv_queue.length||!l||l&&l.socket.readyState===l.socket.CLOSING||l&&l.socket.readyState===l.socket.CLOSED)&&(a|=65),(!l||l&&l.socket.readyState===l.socket.OPEN)&&(a|=4),(l&&l.socket.readyState===l.socket.CLOSING||l&&l.socket.readyState===l.socket.CLOSED)&&(a|=16),a},ioctl:function(s,a,l){switch(a){case 21531:var d=0;return s.recv_queue.length&&(d=s.recv_queue[0].data.length),v[l>>>2]=d,0;default:return 28}},close:function(s){if(s.server){try{s.server.close()}catch{}s.server=null}for(var a=Object.keys(s.peers),l=0;l<a.length;l++){var d=s.peers[a[l]];try{d.socket.close()}catch{}p.websocket_sock_ops.removePeer(s,d)}return 0},bind:function(s,a,l){if(typeof s.saddr<"u"||typeof s.sport<"u")throw new m.ErrnoError(28);if(s.saddr=a,s.sport=l,s.type===2){s.server&&(s.server.close(),s.server=null);try{s.sock_ops.listen(s,0)}catch(d){if(d.name!=="ErrnoError"||d.errno!==138)throw d}}},connect:function(s,a,l){if(s.server)throw new m.ErrnoError(138);if(typeof s.daddr<"u"&&typeof s.dport<"u"){var d=p.websocket_sock_ops.getPeer(s,s.daddr,s.dport);if(d)throw d.socket.readyState===d.socket.CONNECTING?new m.ErrnoError(7):new m.ErrnoError(30)}var r=p.websocket_sock_ops.createPeer(s,a,l);throw s.daddr=r.addr,s.dport=r.port,new m.ErrnoError(26)},listen:function(s,a){if(!T)throw new m.ErrnoError(138);if(s.server)throw new m.ErrnoError(28);var l=An().Server,d=s.saddr;s.server=new l({host:d,port:s.sport}),e.websocket.emit("listen",s.stream.fd),s.server.on("connection",function(r){if(s.type===1){var i=p.createSocket(s.family,s.type,s.protocol),o=p.websocket_sock_ops.createPeer(i,r);i.daddr=o.addr,i.dport=o.port,s.pending.push(i),e.websocket.emit("connection",i.stream.fd)}else p.websocket_sock_ops.createPeer(s,r),e.websocket.emit("connection",s.stream.fd)}),s.server.on("close",function(){e.websocket.emit("close",s.stream.fd),s.server=null}),s.server.on("error",function(r){s.error=23,e.websocket.emit("error",[s.stream.fd,s.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(s){if(!s.server||!s.pending.length)throw new m.ErrnoError(28);var a=s.pending.shift();return a.stream.flags=s.stream.flags,a},getname:function(s,a){var l,d;if(a){if(s.daddr===void 0||s.dport===void 0)throw new m.ErrnoError(53);l=s.daddr,d=s.dport}else l=s.saddr||0,d=s.sport||0;return{addr:l,port:d}},sendmsg:function(s,a,l,d,r,i){if(s.type===2){if((r===void 0||i===void 0)&&(r=s.daddr,i=s.dport),r===void 0||i===void 0)throw new m.ErrnoError(17)}else r=s.daddr,i=s.dport;var o=p.websocket_sock_ops.getPeer(s,r,i);if(s.type===1){if(!o||o.socket.readyState===o.socket.CLOSING||o.socket.readyState===o.socket.CLOSED)throw new m.ErrnoError(53);if(o.socket.readyState===o.socket.CONNECTING)throw new m.ErrnoError(6)}ArrayBuffer.isView(a)&&(l+=a.byteOffset,a=a.buffer);var c;if(c=a.slice(l,l+d),s.type===2&&(!o||o.socket.readyState!==o.socket.OPEN))return(!o||o.socket.readyState===o.socket.CLOSING||o.socket.readyState===o.socket.CLOSED)&&(o=p.websocket_sock_ops.createPeer(s,r,i)),o.dgram_send_queue.push(c),d;try{return o.socket.send(c),d}catch{throw new m.ErrnoError(28)}},recvmsg:function(s,a){if(s.type===1&&s.server)throw new m.ErrnoError(53);var l=s.recv_queue.shift();if(!l){if(s.type===1){var d=p.websocket_sock_ops.getPeer(s,s.daddr,s.dport);if(!d)throw new m.ErrnoError(53);if(d.socket.readyState===d.socket.CLOSING||d.socket.readyState===d.socket.CLOSED)return null;throw new m.ErrnoError(6)}throw new m.ErrnoError(6)}var r=l.data.byteLength||l.data.length,i=l.data.byteOffset||0,o=l.data.buffer||l.data,c=Math.min(a,r),_={buffer:new Uint8Array(o,i,c),addr:l.addr,port:l.port};if(s.type===1&&c<r){var g=r-c;l.data=new Uint8Array(o,i+c,g),s.recv_queue.unshift(l)}return _}}};function tt(s){var a=p.getSocket(s);if(!a)throw new m.ErrnoError(8);return a}function ae(s){return v[Jn()>>>2]=s,s}function nn(s){return(s&255)+"."+(s>>8&255)+"."+(s>>16&255)+"."+(s>>24&255)}function Te(s){var a="",l=0,d=0,r=0,i=0,o=0,c=0,_=[s[0]&65535,s[0]>>16,s[1]&65535,s[1]>>16,s[2]&65535,s[2]>>16,s[3]&65535,s[3]>>16],g=!0,b="";for(c=0;c<5;c++)if(_[c]!==0){g=!1;break}if(g){if(b=nn(_[6]|_[7]<<16),_[5]===-1)return a="::ffff:",a+=b,a;if(_[5]===0)return a="::",b==="0.0.0.0"&&(b=""),b==="0.0.0.1"&&(b="1"),a+=b,a}for(l=0;l<8;l++)_[l]===0&&(l-r>1&&(o=0),r=l,o++),o>d&&(d=o,i=l-d+1);for(l=0;l<8;l++){if(d>1&&_[l]===0&&l>=i&&l<i+d){l===i&&(a+=":",i===0&&(a+=":"));continue}a+=Number(cn(_[l]&65535)).toString(16),a+=l<7?":":""}return a}function Dt(s,a){var l=he[s>>>1],d=cn(C[s+2>>>1]),r;switch(l){case 2:if(a!==16)return{errno:28};r=v[s+4>>>2],r=nn(r);break;case 10:if(a!==28)return{errno:28};r=[v[s+8>>>2],v[s+12>>>2],v[s+16>>>2],v[s+20>>>2]],r=Te(r);break;default:return{errno:5}}return{family:l,addr:r,port:d}}function kr(s){for(var a=s.split("."),l=0;l<4;l++){var d=Number(a[l]);if(isNaN(d))return null;a[l]=d}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}function Ut(s){return parseInt(s)}function Ar(s){var a,l,d,r,i=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,o=[];if(!i.test(s))return null;if(s==="::")return[0,0,0,0,0,0,0,0];for(s.startsWith("::")?s=s.replace("::","Z:"):s=s.replace("::",":Z:"),s.indexOf(".")>0?(s=s.replace(new RegExp("[.]","g"),":"),a=s.split(":"),a[a.length-4]=Ut(a[a.length-4])+Ut(a[a.length-3])*256,a[a.length-3]=Ut(a[a.length-2])+Ut(a[a.length-1])*256,a=a.slice(0,a.length-2)):a=s.split(":"),d=0,r=0,l=0;l<a.length;l++)if(typeof a[l]=="string")if(a[l]==="Z"){for(r=0;r<8-a.length+1;r++)o[l+r]=0;d=r-1}else o[l+d]=Mr(parseInt(a[l],16));else o[l+d]=a[l];return[o[1]<<16|o[0],o[3]<<16|o[2],o[5]<<16|o[4],o[7]<<16|o[6]]}var Ke={address_map:{id:1,addrs:{},names:{}},lookup_name:function(s){var a=kr(s);if(a!==null||(a=Ar(s),a!==null))return s;var l;if(Ke.address_map.addrs[s])l=Ke.address_map.addrs[s];else{var d=Ke.address_map.id++;M(d<65535,"exceeded max address mappings of 65535"),l="172.29."+(d&255)+"."+(d&65280),Ke.address_map.names[l]=s,Ke.address_map.addrs[s]=l}return l},lookup_addr:function(s){return Ke.address_map.names[s]?Ke.address_map.names[s]:null}};function Ht(s,a,l){if(l&&s===0)return null;var d=Dt(s,a);if(d.errno)throw new m.ErrnoError(d.errno);return d.addr=Ke.lookup_addr(d.addr)||d.addr,d}function Rr(s,a,l,d,r,i){try{var o=tt(s),c=Ht(a,l);return o.sock_ops.bind(o,c.addr,c.port),0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function sn(s,a,l,d,r,i){try{var o=tt(s),c=Ht(a,l);return o.sock_ops.connect(o,c.addr,c.port),0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Qe(s,a,l,d){try{if(a=oe.getStr(a),a=oe.calculateAt(s,a),l&-8)return-28;var r=m.lookupPath(a,{follow:!0}),i=r.node;if(!i)return-44;var o="";return l&4&&(o+="r"),l&2&&(o+="w"),l&1&&(o+="x"),o&&m.nodePermissions(i,o)?-2:0}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function on(s,a,l){oe.varargs=l;try{var d=oe.getStreamFromFD(s);switch(a){case 0:{var r=oe.get();if(r<0)return-28;var i;return i=m.createStream(d,r),i.fd}case 1:case 2:return 0;case 3:return d.flags;case 4:{var r=oe.get();return d.flags|=r,0}case 5:{var r=oe.get(),o=0;return he[r+o>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ae(28),-1;default:return-28}}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function hs(s,a){try{var l=oe.getStreamFromFD(s);return oe.doStat(m.stat,l.path,a)}catch(d){if(typeof m>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function Dr(s,a){return a+2097152>>>0<4194305-!!s?(s>>>0)+a*4294967296:NaN}function ps(s,a,l){try{var d=Dr(a,l);return isNaN(d)?-61:(m.ftruncate(s,d),0)}catch(r){if(typeof m>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function tr(s,a,l){return Zr(s,te,a,l)}function ms(s,a,l){try{var d=oe.getStreamFromFD(s);d.getdents||(d.getdents=m.readdir(d.path));for(var r=280,i=0,o=m.llseek(d,0,1),c=Math.floor(o/r);c<d.getdents.length&&i+r<=l;){var _,g,b=d.getdents[c];if(b===".")_=d.node.id,g=4;else if(b===".."){var w=m.lookupPath(d.path,{parent:!0});_=w.node.id,g=4}else{var k=m.lookupNode(d.node,b);_=k.id,g=m.isChrdev(k.mode)?2:m.isDir(k.mode)?4:m.isLink(k.mode)?10:8}ee=[_>>>0,(L=_,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[a+i>>>2]=ee[0],v[a+i+4>>>2]=ee[1],ee=[(c+1)*r>>>0,(L=(c+1)*r,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[a+i+8>>>2]=ee[0],v[a+i+12>>>2]=ee[1],he[a+i+16>>>1]=280,X[a+i+18>>>0]=g,tr(b,a+i+19,256),i+=r,c+=1}return m.llseek(d,c*r,0),i}catch(F){if(typeof m>"u"||F.name!=="ErrnoError")throw F;return-F.errno}}function qt(s,a,l,d,r){switch(a){case 2:l=kr(l),Nt(s,16),r&&(v[r>>>2]=16),he[s>>>1]=a,v[s+4>>>2]=l,he[s+2>>>1]=Mr(d);break;case 10:l=Ar(l),Nt(s,28),r&&(v[r>>>2]=28),v[s>>>2]=a,v[s+8>>>2]=l[0],v[s+12>>>2]=l[1],v[s+16>>>2]=l[2],v[s+20>>>2]=l[3],he[s+2>>>1]=Mr(d);break;default:return 5}return 0}function gs(s,a,l,d,r,i){try{var o=tt(s);if(!o.daddr)return-53;var c=qt(a,o.family,Ke.lookup_name(o.daddr),o.dport,l);return 0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function rr(s,a,l,d,r,i){try{var o=tt(s);return a===1&&l===4?(v[d>>>2]=o.error,v[r>>>2]=4,o.error=null,0):-50}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function ys(s,a,l){oe.varargs=l;try{var d=oe.getStreamFromFD(s);switch(a){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?0:-59;case 21519:{if(!d.tty)return-59;var r=oe.get();return v[r>>>2]=0,0}case 21520:return d.tty?-28:-59;case 21531:{var r=oe.get();return m.ioctl(d,a,r)}case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:return-28}}catch(i){if(typeof m>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function an(s,a){try{return s=oe.getStr(s),oe.doStat(m.lstat,s,a)}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function bs(s,a,l){try{return a=oe.getStr(a),a=oe.calculateAt(s,a),a=Ae.normalize(a),a[a.length-1]==="/"&&(a=a.substr(0,a.length-1)),m.mkdir(a,l,0),0}catch(d){if(typeof m>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function vs(s,a,l,d){try{a=oe.getStr(a);var r=d&256,i=d&4096;return d=d&-6401,a=oe.calculateAt(s,a,i),oe.doStat(r?m.lstat:m.stat,a,l)}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function ws(s,a,l,d){oe.varargs=d;try{a=oe.getStr(a),a=oe.calculateAt(s,a);var r=d?oe.get():0;return m.open(a,l,r).fd}catch(i){if(typeof m>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Es(s,a,l,d,r,i){try{var o=tt(s),c=o.sock_ops.recvmsg(o,l);if(!c)return 0;if(r)var _=qt(r,o.family,Ke.lookup_name(c.addr),c.port,i);return te.set(c.buffer,a>>>0),c.buffer.byteLength}catch(g){if(typeof m>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Ss(s,a,l,d){try{return a=oe.getStr(a),d=oe.getStr(d),a=oe.calculateAt(s,a),d=oe.calculateAt(l,d),m.rename(a,d),0}catch(r){if(typeof m>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function ks(s){try{return s=oe.getStr(s),m.rmdir(s),0}catch(a){if(typeof m>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function As(s,a,l,d,r,i){try{var o=tt(s),c=Ht(r,i,!0);return c?o.sock_ops.sendmsg(o,X,a,l,c.addr,c.port):m.write(o.stream,X,a,l)}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Rs(s,a,l){try{var d=p.createSocket(s,a,l);return d.stream.fd}catch(r){if(typeof m>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Ds(s,a){try{return s=oe.getStr(s),oe.doStat(m.stat,s,a)}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function Ts(s,a,l){try{return a=oe.getStr(a),a=oe.calculateAt(s,a),l===0?m.unlink(a):l===512?m.rmdir(a):Q("Invalid flags passed to unlinkat"),0}catch(d){if(typeof m>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}var Ps=!0;function Fs(){return Ps}function Cs(s){return j[s>>>2]+v[s+4>>>2]*4294967296}function nr(s){return s%4===0&&(s%100!==0||s%400===0)}var xs=[0,31,60,91,121,152,182,213,244,274,305,335],Ms=[0,31,59,90,120,151,181,212,243,273,304,334];function Os(s){var a=nr(s.getFullYear()),l=a?xs:Ms,d=l[s.getMonth()]+s.getDate()-1;return d}function ir(s,a){var l=new Date(Cs(s)*1e3);v[a>>>2]=l.getSeconds(),v[a+4>>>2]=l.getMinutes(),v[a+8>>>2]=l.getHours(),v[a+12>>>2]=l.getDate(),v[a+16>>>2]=l.getMonth(),v[a+20>>>2]=l.getFullYear()-1900,v[a+24>>>2]=l.getDay();var d=Os(l)|0;v[a+28>>>2]=d,v[a+36>>>2]=-(l.getTimezoneOffset()*60);var r=new Date(l.getFullYear(),0,1),i=new Date(l.getFullYear(),6,1).getTimezoneOffset(),o=r.getTimezoneOffset(),c=(i!=o&&l.getTimezoneOffset()==Math.min(o,i))|0;v[a+32>>>2]=c}function Ln(s){var a=Se(s)+1,l=ur(a);return l&&tr(s,l,a),l}function Ls(s,a,l){var d=new Date().getFullYear(),r=new Date(d,0,1),i=new Date(d,6,1),o=r.getTimezoneOffset(),c=i.getTimezoneOffset(),_=Math.max(o,c);j[s>>>2]=_*60,v[a>>>2]=+(o!=c);function g(x){var G=x.toTimeString().match(/\(([A-Za-z ]+)\)$/);return G?G[1]:"GMT"}var b=g(r),w=g(i),k=Ln(b),F=Ln(w);c<o?(j[l>>>2]=k,j[l+4>>>2]=F):(j[l>>>2]=F,j[l+4>>>2]=k)}function Is(){Q("")}function Ns(s,a){Q(Cn)}function In(s,a){return globalThis.DUCKDB_RUNTIME.createDirectory(e,s,a)}function Bs(s,a){return globalThis.DUCKDB_RUNTIME.checkDirectory(e,s,a)}function Us(s,a){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(e,s,a)}function Hs(s,a){return globalThis.DUCKDB_RUNTIME.removeDirectory(e,s,a)}function qs(s){return globalThis.DUCKDB_RUNTIME.closeFile(e,s)}function $s(s,a,l,d){return globalThis.DUCKDB_RUNTIME.checkFile(e,s,a,l,d)}function Ws(s){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(e,s)}function js(s,a,l,d){return globalThis.DUCKDB_RUNTIME.moveFile(e,s,a,l,d)}function zs(s,a){return globalThis.DUCKDB_RUNTIME.openFile(e,s,a)}function Gs(s,a,l,d){return globalThis.DUCKDB_RUNTIME.readFile(e,s,a,l,d)}function Vs(s,a){return globalThis.DUCKDB_RUNTIME.truncateFile(e,s,a)}function Ys(s,a,l,d){return globalThis.DUCKDB_RUNTIME.writeFile(e,s,a,l,d)}function Ks(s){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(s)}function Xs(s,a){return globalThis.DUCKDB_RUNTIME.glob(e,s,a)}function Qs(s){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(e,s)}function Js(s,a,l,d,r,i){return globalThis.DUCKDB_RUNTIME.callScalarUDF(e,s,a,l,d,r,i)}function Zs(){return Date.now()}function Nn(){return 4294901760}function eo(){return Nn()}var Bn;T&&(global.performance=require("perf_hooks").performance),Bn=()=>performance.now();function to(s,a,l){te.copyWithin(s>>>0,a>>>0,a+l>>>0)}function Un(s){var a=J.buffer,l=s-a.byteLength+65535>>>16;try{return J.grow(l),ze(),1}catch{}}function ro(s){var a=te.length;s=s>>>0;var l=Nn();if(s>l)return!1;for(var d=(_,g)=>_+(g-_%g)%g,r=1;r<=4;r*=2){var i=a*(1+.2/r);i=Math.min(i,s+100663296);var o=Math.min(l,d(Math.max(s,i),65536)),c=Un(o);if(c)return!0}return!1}var Tr={};function no(){return E||"./this.program"}function sr(){if(!sr.strings){var s=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:s,_:no()};for(var l in Tr)Tr[l]===void 0?delete a[l]:a[l]=Tr[l];var d=[];for(var l in a)d.push(`${l}=${a[l]}`);sr.strings=d}return sr.strings}function io(s,a){for(var l=0;l<s.length;++l)X[a++>>>0]=s.charCodeAt(l);X[a>>>0]=0}function un(s,a){var l=0;return sr().forEach(function(d,r){var i=a+l;j[s+r*4>>>2]=i,io(d,i),l+=d.length+1}),0}function so(s,a){var l=sr();j[s>>>2]=l.length;var d=0;return l.forEach(function(r){d+=r.length+1}),j[a>>>2]=d,0}function or(s){try{var a=oe.getStreamFromFD(s);return m.close(a),0}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return l.errno}}function oo(s,a){try{var l=0,d=0,r=0,i=oe.getStreamFromFD(s),o=i.tty?2:m.isDir(i.mode)?3:m.isLink(i.mode)?7:4;return X[a>>>0]=o,he[a+2>>>1]=r,ee=[l>>>0,(L=l,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[a+8>>>2]=ee[0],v[a+12>>>2]=ee[1],ee=[d>>>0,(L=d,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[a+16>>>2]=ee[0],v[a+20>>>2]=ee[1],0}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return c.errno}}function Hn(s,a,l,d){for(var r=0,i=0;i<l;i++){var o=j[a>>>2],c=j[a+4>>>2];a+=8;var _=m.read(s,X,o,c,d);if(_<0)return-1;if(r+=_,_<c)break;typeof d<"u"&&(d+=_)}return r}function ao(s,a,l,d,r,i){try{var o=Dr(d,r);if(isNaN(o))return 61;var c=oe.getStreamFromFD(s),_=Hn(c,a,l,o);return j[i>>>2]=_,0}catch(g){if(typeof m>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function qn(s,a,l,d){for(var r=0,i=0;i<l;i++){var o=j[a>>>2],c=j[a+4>>>2];a+=8;var _=m.write(s,X,o,c,d);if(_<0)return-1;r+=_,typeof d<"u"&&(d+=_)}return r}function uo(s,a,l,d,r,i){try{var o=Dr(d,r);if(isNaN(o))return 61;var c=oe.getStreamFromFD(s),_=qn(c,a,l,o);return j[i>>>2]=_,0}catch(g){if(typeof m>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function $n(s,a,l,d){try{var r=oe.getStreamFromFD(s),i=Hn(r,a,l);return j[d>>>2]=i,0}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function co(s,a,l,d,r){try{var i=Dr(a,l);if(isNaN(i))return 61;var o=oe.getStreamFromFD(s);return m.llseek(o,i,d),ee=[o.position>>>0,(L=o.position,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[r>>>2]=ee[0],v[r+4>>>2]=ee[1],o.getdents&&i===0&&d===0&&(o.getdents=null),0}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return c.errno}}function Wn(s){try{var a=oe.getStreamFromFD(s);return a.stream_ops&&a.stream_ops.fsync?a.stream_ops.fsync(a):0}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return l.errno}}function lo(s,a,l,d){try{var r=oe.getStreamFromFD(s),i=qn(r,a,l);return j[d>>>2]=i,0}catch(o){if(typeof m>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function fo(s,a,l,d){var r=0,i=0,o=0,c=0,_=0,g=0,b;function w(k,F,x,G,H,$){var P,U,ne,Z;return U=k===10?28:16,H=k===10?Te(H):nn(H),P=ur(U),Z=qt(P,k,H,$),M(!Z),ne=ur(32),v[ne+4>>>2]=k,v[ne+8>>>2]=F,v[ne+12>>>2]=x,j[ne+24>>>2]=G,j[ne+20>>>2]=P,k===10?v[ne+16>>>2]=28:v[ne+16>>>2]=16,v[ne+28>>>2]=0,ne}if(l&&(o=v[l>>>2],c=v[l+4>>>2],_=v[l+8>>>2],g=v[l+12>>>2]),_&&!g&&(g=_===2?17:6),!_&&g&&(_=g===17?2:1),g===0&&(g=6),_===0&&(_=1),!s&&!a)return-2;if(o&-1088||l!==0&&v[l>>>2]&2&&!s)return-1;if(o&32)return-2;if(_!==0&&_!==1&&_!==2)return-7;if(c!==0&&c!==2&&c!==10)return-6;if(a&&(a=Bt(a),i=parseInt(a,10),isNaN(i)))return o&1024?-2:-8;if(!s)return c===0&&(c=2),o&1||(c===2?r=xr(2130706433):r=[0,0,0,1]),b=w(c,_,g,null,r,i),j[d>>>2]=b,0;if(s=Bt(s),r=kr(s),r!==null)if(c===0||c===2)c=2;else if(c===10&&o&8)r=[0,0,xr(65535),r],c=10;else return-2;else if(r=Ar(s),r!==null)if(c===0||c===10)c=10;else return-2;return r!=null?(b=w(c,_,g,s,r,i),j[d>>>2]=b,0):o&4?-2:(s=Ke.lookup_name(s),r=kr(s),c===0?c=2:c===10&&(r=[0,0,xr(65535),r]),b=w(c,_,g,null,r,i),j[d>>>2]=b,0)}function _o(s,a){return Sr(te.subarray(s>>>0,s+a>>>0)),0}function ho(s,a,l,d,r,i,o){var c=Dt(s,a);if(c.errno)return-6;var _=c.port,g=c.addr,b=!1;if(l&&d){var w;if(o&1||!(w=Ke.lookup_addr(g))){if(o&8)return-2}else g=w;var k=tr(g,l,d);k+1>=d&&(b=!0)}if(r&&i){_=""+_;var k=tr(_,r,i);k+1>=i&&(b=!0)}return b?-12:0}function po(s,a){for(var l=0,d=0;d<=a;l+=s[d++]);return l}var jn=[31,29,31,30,31,30,31,31,30,31,30,31],zn=[31,28,31,30,31,30,31,31,30,31,30,31];function mo(s,a){for(var l=new Date(s.getTime());a>0;){var d=nr(l.getFullYear()),r=l.getMonth(),i=(d?jn:zn)[r];if(a>i-l.getDate())a-=i-l.getDate()+1,l.setDate(1),r<11?l.setMonth(r+1):(l.setMonth(0),l.setFullYear(l.getFullYear()+1));else return l.setDate(l.getDate()+a),l}return l}function Gn(s,a){X.set(s,a>>>0)}function Vn(s,a,l,d){var r=v[d+40>>>2],i={tm_sec:v[d>>>2],tm_min:v[d+4>>>2],tm_hour:v[d+8>>>2],tm_mday:v[d+12>>>2],tm_mon:v[d+16>>>2],tm_year:v[d+20>>>2],tm_wday:v[d+24>>>2],tm_yday:v[d+28>>>2],tm_isdst:v[d+32>>>2],tm_gmtoff:v[d+36>>>2],tm_zone:r?Bt(r):""},o=Bt(l),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _ in c)o=o.replace(new RegExp(_,"g"),c[_]);var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"];function w(P,U,ne){for(var Z=typeof P=="number"?P.toString():P||"";Z.length<U;)Z=ne[0]+Z;return Z}function k(P,U){return w(P,U,"0")}function F(P,U){function ne(O){return O<0?-1:O>0?1:0}var Z;return(Z=ne(P.getFullYear()-U.getFullYear()))===0&&(Z=ne(P.getMonth()-U.getMonth()))===0&&(Z=ne(P.getDate()-U.getDate())),Z}function x(P){switch(P.getDay()){case 0:return new Date(P.getFullYear()-1,11,29);case 1:return P;case 2:return new Date(P.getFullYear(),0,3);case 3:return new Date(P.getFullYear(),0,2);case 4:return new Date(P.getFullYear(),0,1);case 5:return new Date(P.getFullYear()-1,11,31);case 6:return new Date(P.getFullYear()-1,11,30)}}function G(P){var U=mo(new Date(P.tm_year+1900,0,1),P.tm_yday),ne=new Date(U.getFullYear(),0,4),Z=new Date(U.getFullYear()+1,0,4),O=x(ne),W=x(Z);return F(O,U)<=0?F(W,U)<=0?U.getFullYear()+1:U.getFullYear():U.getFullYear()-1}var H={"%a":function(P){return g[P.tm_wday].substring(0,3)},"%A":function(P){return g[P.tm_wday]},"%b":function(P){return b[P.tm_mon].substring(0,3)},"%B":function(P){return b[P.tm_mon]},"%C":function(P){var U=P.tm_year+1900;return k(U/100|0,2)},"%d":function(P){return k(P.tm_mday,2)},"%e":function(P){return w(P.tm_mday,2," ")},"%g":function(P){return G(P).toString().substring(2)},"%G":function(P){return G(P)},"%H":function(P){return k(P.tm_hour,2)},"%I":function(P){var U=P.tm_hour;return U==0?U=12:U>12&&(U-=12),k(U,2)},"%j":function(P){return k(P.tm_mday+po(nr(P.tm_year+1900)?jn:zn,P.tm_mon-1),3)},"%m":function(P){return k(P.tm_mon+1,2)},"%M":function(P){return k(P.tm_min,2)},"%n":function(){return`
`},"%p":function(P){return P.tm_hour>=0&&P.tm_hour<12?"AM":"PM"},"%S":function(P){return k(P.tm_sec,2)},"%t":function(){return"	"},"%u":function(P){return P.tm_wday||7},"%U":function(P){var U=P.tm_yday+7-P.tm_wday;return k(Math.floor(U/7),2)},"%V":function(P){var U=Math.floor((P.tm_yday+7-(P.tm_wday+6)%7)/7);if((P.tm_wday+371-P.tm_yday-2)%7<=2&&U++,U){if(U==53){var Z=(P.tm_wday+371-P.tm_yday)%7;Z!=4&&(Z!=3||!nr(P.tm_year))&&(U=1)}}else{U=52;var ne=(P.tm_wday+7-P.tm_yday-1)%7;(ne==4||ne==5&&nr(P.tm_year%400-1))&&U++}return k(U,2)},"%w":function(P){return P.tm_wday},"%W":function(P){var U=P.tm_yday+7-(P.tm_wday+6)%7;return k(Math.floor(U/7),2)},"%y":function(P){return(P.tm_year+1900).toString().substring(2)},"%Y":function(P){return P.tm_year+1900},"%z":function(P){var U=P.tm_gmtoff,ne=U>=0;return U=Math.abs(U)/60,U=U/60*100+U%60,(ne?"+":"-")+("0000"+U).slice(-4)},"%Z":function(P){return P.tm_zone},"%%":function(){return"%"}};o=o.replace(/%%/g,"\0\0");for(var _ in H)o.includes(_)&&(o=o.replace(new RegExp(_,"g"),H[_](i)));o=o.replace(/\0\0/g,"%");var $=It(o,!1);return $.length>a?0:(Gn($,s),$.length-1)}function Yn(s,a,l,d,r){return Vn(s,a,l,d)}function go(){I("missing function: unzClose"),Q(-1)}function Kn(){I("missing function: unzCloseCurrentFile"),Q(-1)}function yo(){I("missing function: unzGetCurrentFileInfo"),Q(-1)}function bo(){I("missing function: unzGetCurrentFileInfo64"),Q(-1)}function vo(){I("missing function: unzGetGlobalInfo"),Q(-1)}function wo(){I("missing function: unzGoToFirstFile"),Q(-1)}function Eo(){I("missing function: unzGoToNextFile"),Q(-1)}function So(){I("missing function: unzLocateFile"),Q(-1)}function ko(){I("missing function: unzOpen2"),Q(-1)}function Ao(){I("missing function: unzOpenCurrentFile"),Q(-1)}function Ro(){I("missing function: unzReadCurrentFile"),Q(-1)}function Do(s){ge=s,Vr()||(e.onExit&&e.onExit(s),V=!0),A(s,new Jr(s))}function To(s,a){ge=s,Do(s)}function Po(s){if(s instanceof Jr||s=="unwind")return ge;A(1,s)}function Fo(s){var a=e["_"+s];return a}function Co(s){var a=Se(s)+1,l=lr(a);return tr(s,l,a),l}function xo(s,a,l,d,r){var i={string:x=>{var G=0;return x!=null&&x!==0&&(G=Co(x)),G},array:x=>{var G=lr(x.length);return Gn(x,G),G}};function o(x){return a==="string"?Bt(x):a==="boolean"?!!x:x}var c=Fo(s),_=[],g=0;if(d)for(var b=0;b<d.length;b++){var w=i[l[b]];w?(g===0&&(g=$t()),_[b]=w(d[b])):_[b]=d[b]}var k=c.apply(null,_);function F(x){return g!==0&&ln(g),o(x)}return k=F(k),k}var Xn=function(s,a,l,d){s||(s=this),this.parent=s,this.mount=s.mount,this.mounted=null,this.id=m.nextInode++,this.name=a,this.mode=l,this.node_ops={},this.stream_ops={},this.rdev=d},Pr=365,Fr=146;Object.defineProperties(Xn.prototype,{read:{get:function(){return(this.mode&Pr)===Pr},set:function(s){s?this.mode|=Pr:this.mode&=~Pr}},write:{get:function(){return(this.mode&Fr)===Fr},set:function(s){s?this.mode|=Fr:this.mode&=~Fr}},isFolder:{get:function(){return m.isDir(this.mode)}},isDevice:{get:function(){return m.isChrdev(this.mode)}}}),m.FSNode=Xn,m.createPreloadedFile=fe,m.staticInit();var Mo={f:es,R:ts,T:rs,l:ns,n:is,b:ss,z:os,e:as,a:us,m:cs,i:ls,Aa:xn,va:rn,za:Rr,ya:sn,ra:Qe,c:on,qa:hs,M:ps,la:ms,ta:gs,ua:rr,I:ys,na:an,ma:bs,oa:vs,J:ws,wa:Es,ja:Ss,D:ks,xa:As,F:Rs,pa:Ds,E:Ts,K:Fs,V:ir,W:Ls,d:Is,Ba:Ns,ba:In,ca:Bs,_:Us,$:Hs,B:qs,Y:$s,L:Ws,Z:js,ea:zs,o:Gs,da:Vs,C:Ys,fa:Ks,X:Xs,A:Qs,ga:Js,u:Zs,S:eo,g:Bn,Da:to,Ea:ro,aa:un,ia:so,j:or,Ca:oo,O:ao,N:uo,H:$n,P:co,ka:Wn,t:lo,G:fo,ha:_o,sa:ho,U:Yn,h:go,s:Kn,x:yo,p:bo,Q:vo,y:wo,w:Eo,r:So,v:ko,q:Ao,k:Ro},Oo=Zi(),Cr=function(){return(Cr=e.asm.Ga).apply(null,arguments)},ar=e._main=function(){return(ar=e._main=e.asm.Ha).apply(null,arguments)},Lo=e._duckdb_web_fs_glob_add_path=function(){return(Lo=e._duckdb_web_fs_glob_add_path=e.asm.Ja).apply(null,arguments)},Tc=e._duckdb_web_clear_response=function(){return(Tc=e._duckdb_web_clear_response=e.asm.Ka).apply(null,arguments)},Io=e._duckdb_web_fail_with=function(){return(Io=e._duckdb_web_fail_with=e.asm.La).apply(null,arguments)},Qn=e._duckdb_web_reset=function(){return(Qn=e._duckdb_web_reset=e.asm.Ma).apply(null,arguments)},No=e._duckdb_web_connect=function(){return(No=e._duckdb_web_connect=e.asm.Na).apply(null,arguments)},Bo=e._duckdb_web_disconnect=function(){return(Bo=e._duckdb_web_disconnect=e.asm.Oa).apply(null,arguments)},Uo=e._duckdb_web_flush_files=function(){return(Uo=e._duckdb_web_flush_files=e.asm.Pa).apply(null,arguments)},Ho=e._duckdb_web_flush_file=function(){return(Ho=e._duckdb_web_flush_file=e.asm.Qa).apply(null,arguments)},qo=e._duckdb_web_open=function(){return(qo=e._duckdb_web_open=e.asm.Ra).apply(null,arguments)},$o=e._duckdb_web_get_global_file_info=function(){return($o=e._duckdb_web_get_global_file_info=e.asm.Sa).apply(null,arguments)},Wo=e._duckdb_web_collect_file_stats=function(){return(Wo=e._duckdb_web_collect_file_stats=e.asm.Ta).apply(null,arguments)},jo=e._duckdb_web_export_file_stats=function(){return(jo=e._duckdb_web_export_file_stats=e.asm.Ua).apply(null,arguments)},zo=e._duckdb_web_fs_drop_file=function(){return(zo=e._duckdb_web_fs_drop_file=e.asm.Va).apply(null,arguments)},Go=e._duckdb_web_fs_drop_files=function(){return(Go=e._duckdb_web_fs_drop_files=e.asm.Wa).apply(null,arguments)},Vo=e._duckdb_web_fs_glob_file_infos=function(){return(Vo=e._duckdb_web_fs_glob_file_infos=e.asm.Xa).apply(null,arguments)},Yo=e._duckdb_web_fs_get_file_info_by_id=function(){return(Yo=e._duckdb_web_fs_get_file_info_by_id=e.asm.Ya).apply(null,arguments)},Ko=e._duckdb_web_fs_get_file_info_by_name=function(){return(Ko=e._duckdb_web_fs_get_file_info_by_name=e.asm.Za).apply(null,arguments)},Xo=e._duckdb_web_fs_register_file_url=function(){return(Xo=e._duckdb_web_fs_register_file_url=e.asm._a).apply(null,arguments)},Qo=e._duckdb_web_fs_register_file_buffer=function(){return(Qo=e._duckdb_web_fs_register_file_buffer=e.asm.$a).apply(null,arguments)},Jo=e._duckdb_web_copy_file_to_buffer=function(){return(Jo=e._duckdb_web_copy_file_to_buffer=e.asm.ab).apply(null,arguments)},Zo=e._duckdb_web_copy_file_to_path=function(){return(Zo=e._duckdb_web_copy_file_to_path=e.asm.bb).apply(null,arguments)},ea=e._duckdb_web_get_version=function(){return(ea=e._duckdb_web_get_version=e.asm.cb).apply(null,arguments)},ta=e._duckdb_web_get_feature_flags=function(){return(ta=e._duckdb_web_get_feature_flags=e.asm.db).apply(null,arguments)},ra=e._duckdb_web_tokenize=function(){return(ra=e._duckdb_web_tokenize=e.asm.eb).apply(null,arguments)},na=e._duckdb_web_udf_scalar_create=function(){return(na=e._duckdb_web_udf_scalar_create=e.asm.fb).apply(null,arguments)},ia=e._duckdb_web_prepared_create=function(){return(ia=e._duckdb_web_prepared_create=e.asm.gb).apply(null,arguments)},sa=e._duckdb_web_prepared_close=function(){return(sa=e._duckdb_web_prepared_close=e.asm.hb).apply(null,arguments)},oa=e._duckdb_web_prepared_run=function(){return(oa=e._duckdb_web_prepared_run=e.asm.ib).apply(null,arguments)},aa=e._duckdb_web_prepared_send=function(){return(aa=e._duckdb_web_prepared_send=e.asm.jb).apply(null,arguments)},ua=e._duckdb_web_query_run=function(){return(ua=e._duckdb_web_query_run=e.asm.kb).apply(null,arguments)},ca=e._duckdb_web_pending_query_start=function(){return(ca=e._duckdb_web_pending_query_start=e.asm.lb).apply(null,arguments)},la=e._duckdb_web_pending_query_poll=function(){return(la=e._duckdb_web_pending_query_poll=e.asm.mb).apply(null,arguments)},fa=e._duckdb_web_pending_query_cancel=function(){return(fa=e._duckdb_web_pending_query_cancel=e.asm.nb).apply(null,arguments)},da=e._duckdb_web_query_fetch_results=function(){return(da=e._duckdb_web_query_fetch_results=e.asm.ob).apply(null,arguments)},_a=e._duckdb_web_get_tablenames=function(){return(_a=e._duckdb_web_get_tablenames=e.asm.pb).apply(null,arguments)},ha=e._duckdb_web_insert_arrow_from_ipc_stream=function(){return(ha=e._duckdb_web_insert_arrow_from_ipc_stream=e.asm.qb).apply(null,arguments)},pa=e._duckdb_web_insert_csv_from_path=function(){return(pa=e._duckdb_web_insert_csv_from_path=e.asm.rb).apply(null,arguments)},ma=e._duckdb_web_insert_json_from_path=function(){return(ma=e._duckdb_web_insert_json_from_path=e.asm.sb).apply(null,arguments)},Jn=function(){return(Jn=e.asm.tb).apply(null,arguments)},xr=function(){return(xr=e.asm.ub).apply(null,arguments)},Mr=function(){return(Mr=e.asm.vb).apply(null,arguments)},cn=function(){return(cn=e.asm.wb).apply(null,arguments)},ur=e._malloc=function(){return(ur=e._malloc=e.asm.xb).apply(null,arguments)},Or=e._free=function(){return(Or=e._free=e.asm.yb).apply(null,arguments)},cr=function(){return(cr=e.asm.zb).apply(null,arguments)},Lr=function(){return(Lr=e.asm.Ab).apply(null,arguments)},$t=function(){return($t=e.asm.Bb).apply(null,arguments)},ln=function(){return(ln=e.asm.Cb).apply(null,arguments)},lr=function(){return(lr=e.asm.Db).apply(null,arguments)};e.stackAlloc=lr,e.stackSave=$t,e.stackRestore=ln,e.ccall=xo;var Wt;ft=function s(){Wt||fr(),Wt||(ft=s)};function fn(){var s=ar,a=0,l=0;try{var d=s(a,l);return To(d,!0),d}catch(r){return Po(r)}}function fr(){if(qe>0||(Y(),qe>0))return;function s(){Wt||(Wt=!0,e.calledRun=!0,!V&&(De(),z(),u(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),dn&&fn(),pe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),s()},1)):s()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();var dn=!0;return e.noInitialRun&&(dn=!1),fr(),t.ready}})();typeof _i=="object"&&typeof Ba=="object"?Ba.exports=Na:typeof define=="function"&&define.amd?define([],function(){return Na}):typeof _i=="object"&&(_i.DuckDB=Na)});var Ol=q((hi,Ha)=>{"use strict";var Ua=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(t={}){var e=typeof t<"u"?t:{},u,f;e.ready=new Promise((r,i)=>{u=r,f=i});var h=Object.assign({},e),y=[],E="./this.program",A=(r,i)=>{throw i},R=typeof window=="object",S=typeof importScripts=="function",T=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D="";function re(r){return e.locateFile?e.locateFile(r,D):D+r}var B,N,K,ie;if(T){var me=require("fs"),de=require("path");S?D=de.dirname(D)+"/":D=__dirname+"/",B=(r,i)=>(r=Kr(r)?new URL(r):de.normalize(r),me.readFileSync(r,i?void 0:"utf8")),K=r=>{var i=B(r,!0);return i.buffer||(i=new Uint8Array(i)),i},N=(r,i,o,c=!0)=>{r=Kr(r)?new URL(r):de.normalize(r),me.readFile(r,c?void 0:"utf8",(_,g)=>{_?o(_):i(c?g.buffer:g)})},!e.thisProgram&&process.argv.length>1&&(E=process.argv[1].replace(/\\/g,"/")),y=process.argv.slice(2),A=(r,i)=>{throw process.exitCode=r,i},e.inspect=()=>"[Emscripten Module object]"}else(R||S)&&(S?D=self.location.href:typeof document<"u"&&document.currentScript&&(D=document.currentScript.src),n&&(D=n),D.indexOf("blob:")!==0?D=D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1):D="",B=r=>{var i=new XMLHttpRequest;return i.open("GET",r,!1),i.send(null),i.responseText},S&&(K=r=>{var i=new XMLHttpRequest;return i.open("GET",r,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),N=(r,i,o)=>{var c=new XMLHttpRequest;c.open("GET",r,!0),c.responseType="arraybuffer",c.onload=()=>{if(c.status==200||c.status==0&&c.response){i(c.response);return}o()},c.onerror=o,c.send(null)},ie=r=>document.title=r);var ke=e.print||console.log.bind(console),I=e.printErr||console.error.bind(console);Object.assign(e,h),h=null,e.arguments&&(y=e.arguments),e.thisProgram&&(E=e.thisProgram),e.quit&&(A=e.quit);var _e;e.wasmBinary&&(_e=e.wasmBinary);var ue=e.noExitRuntime||!0;typeof WebAssembly!="object"&&Q("no native wasm support detected");var J,V=!1,ge;function M(r,i){r||Q(i)}var X,te,he,C,v,j,Ee,Xe;function ze(){var r=J.buffer;e.HEAP8=X=new Int8Array(r),e.HEAP16=he=new Int16Array(r),e.HEAP32=v=new Int32Array(r),e.HEAPU8=te=new Uint8Array(r),e.HEAPU16=C=new Uint16Array(r),e.HEAPU32=j=new Uint32Array(r),e.HEAPF32=Ee=new Float32Array(r),e.HEAPF64=Xe=new Float64Array(r)}var We,gt=[],Zt=[],Ot=[],Ze=[],ye=!1,Lt=0;function Vr(){return ue||Lt>0}function Y(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Fe(e.preRun.shift());At(gt)}function De(){ye=!0,!e.noFSInit&&!p.init.initialized&&p.init(),p.ignorePermissions=!1,se.init(),Te.root=p.mount(Te,{},null),At(Zt)}function z(){At(Ot)}function pe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ie(e.postRun.shift());At(Ze)}function Fe(r){gt.unshift(r)}function He(r){Zt.unshift(r)}function Ie(r){Ze.unshift(r)}var qe=0,st=null,ft=null;function L_(r){return r}function er(r){qe++,e.monitorRunDependencies&&e.monitorRunDependencies(qe)}function kt(r){if(qe--,e.monitorRunDependencies&&e.monitorRunDependencies(qe),qe==0&&(st!==null&&(clearInterval(st),st=null),ft)){var i=ft;ft=null,i()}}function Q(r){e.onAbort&&e.onAbort(r),r="Aborted("+r+")",I(r),V=!0,ge=1,r+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(r);throw f(i),i}var Xi="data:application/octet-stream;base64,";function Yr(r){return r.startsWith(Xi)}function Kr(r){return r.startsWith("file://")}var et;et="./duckdb-mvp.wasm",Yr(et)||(et=re(et));function Xr(r){try{if(r==et&&_e)return new Uint8Array(_e);if(K)return K(r);throw"both async and sync fetching of the wasm failed"}catch(i){Q(i)}}function Qi(r){return!_e&&(R||S)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at '"+r+"'";return i.arrayBuffer()}).catch(()=>Xr(r)):Promise.resolve().then(()=>Xr(r))}function Qr(r,i,o){return Qi(r).then(c=>WebAssembly.instantiate(c,i)).then(c=>c).then(o,c=>{I("failed to asynchronously prepare wasm: "+c),Q(c)})}function Ji(r,i,o,c){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!Yr(i)&&!T&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(_=>{var g=WebAssembly.instantiateStreaming(_,o);return g.then(c,function(b){return I("wasm streaming compile failed: "+b),I("falling back to ArrayBuffer instantiation"),Qr(i,o,c)})}):Qr(i,o,c)}function Zi(){var r={a:Lo};function i(c,_){var g=c.exports;return e.asm=g,J=e.asm.Ga,ze(),We=e.asm.Ja,He(e.asm.Ha),kt("wasm-instantiate"),g}er("wasm-instantiate");function o(c){i(c.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(r,i)}catch(c){I("Module.instantiateWasm callback failed with error: "+c),f(c)}return Ji(_e,et,r,o).catch(f),{}}var L,ee;function Jr(r){this.name="ExitStatus",this.message=`Program terminated with exit(${r})`,this.status=r}function At(r){for(;r.length>0;)r.shift()(e)}function es(){I("missing function: XML_GetBuffer"),Q(-1)}function ts(){I("missing function: XML_GetErrorCode"),Q(-1)}function rs(){I("missing function: XML_Parse"),Q(-1)}function ns(){I("missing function: XML_ParseBuffer"),Q(-1)}function is(){I("missing function: XML_ParserCreate"),Q(-1)}function ss(){I("missing function: XML_ParserFree"),Q(-1)}function os(){I("missing function: XML_ResumeParser"),Q(-1)}function as(){I("missing function: XML_SetCharacterDataHandler"),Q(-1)}function us(){I("missing function: XML_SetElementHandler"),Q(-1)}function cs(){I("missing function: XML_SetUserData"),Q(-1)}function ls(){I("missing function: XML_StopParser"),Q(-1)}function Cn(r){this.excPtr=r,this.ptr=r-24,this.set_type=function(i){j[this.ptr+4>>>2]=i},this.get_type=function(){return j[this.ptr+4>>>2]},this.set_destructor=function(i){j[this.ptr+8>>>2]=i},this.get_destructor=function(){return j[this.ptr+8>>>2]},this.set_caught=function(i){i=i?1:0,X[this.ptr+12>>>0]=i},this.get_caught=function(){return X[this.ptr+12>>>0]!=0},this.set_rethrown=function(i){i=i?1:0,X[this.ptr+13>>>0]=i},this.get_rethrown=function(){return X[this.ptr+13>>>0]!=0},this.init=function(i,o){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(o)},this.set_adjusted_ptr=function(i){j[this.ptr+16>>>2]=i},this.get_adjusted_ptr=function(){return j[this.ptr+16>>>2]},this.get_exception_ptr=function(){var i=dn(this.get_type());if(i)return j[this.excPtr>>>2];var o=this.get_adjusted_ptr();return o!==0?o:this.excPtr}}var xn=0,Ae=0;function fs(r,i,o){var c=new Cn(r);throw c.init(i,o),xn=r,Ae++,xn}var Sr="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function dt(r,i,o){Q(Sr)}var Se={isAbs:r=>r.charAt(0)==="/",splitPath:r=>{var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return i.exec(r).slice(1)},normalizeArray:(r,i)=>{for(var o=0,c=r.length-1;c>=0;c--){var _=r[c];_==="."?r.splice(c,1):_===".."?(r.splice(c,1),o++):o&&(r.splice(c,1),o--)}if(i)for(;o;o--)r.unshift("..");return r},normalize:r=>{var i=Se.isAbs(r),o=r.substr(-1)==="/";return r=Se.normalizeArray(r.split("/").filter(c=>!!c),!i).join("/"),!r&&!i&&(r="."),r&&o&&(r+="/"),(i?"/":"")+r},dirname:r=>{var i=Se.splitPath(r),o=i[0],c=i[1];return!o&&!c?".":(c&&(c=c.substr(0,c.length-1)),o+c)},basename:r=>{if(r==="/")return"/";r=Se.normalize(r),r=r.replace(/\/$/,"");var i=r.lastIndexOf("/");return i===-1?r:r.substr(i+1)},join:function(){var r=Array.prototype.slice.call(arguments);return Se.normalize(r.join("/"))},join2:(r,i)=>Se.normalize(r+"/"+i)};function Zr(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return c=>crypto.getRandomValues(c);if(T)try{var r=require("crypto"),i=r.randomFillSync;if(i)return c=>r.randomFillSync(c);var o=r.randomBytes;return c=>(c.set(o(c.byteLength)),c)}catch{}Q("initRandomDevice")}function It(r){return(It=Zr())(r)}var ot={resolve:function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var c=o>=0?arguments[o]:p.cwd();if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";r=c+"/"+r,i=Se.isAbs(c)}return r=Se.normalizeArray(r.split("/").filter(_=>!!_),!i).join("/"),(i?"/":"")+r||"."},relative:(r,i)=>{r=ot.resolve(r).substr(1),i=ot.resolve(i).substr(1);function o(F){for(var x=0;x<F.length&&F[x]==="";x++);for(var G=F.length-1;G>=0&&F[G]==="";G--);return x>G?[]:F.slice(x,G-x+1)}for(var c=o(r.split("/")),_=o(i.split("/")),g=Math.min(c.length,_.length),b=g,w=0;w<g;w++)if(c[w]!==_[w]){b=w;break}for(var k=[],w=b;w<c.length;w++)k.push("..");return k=k.concat(_.slice(b)),k.join("/")}};function _t(r){for(var i=0,o=0;o<r.length;++o){var c=r.charCodeAt(o);c<=127?i++:c<=2047?i+=2:c>=55296&&c<=57343?(i+=4,++o):i+=3}return i}function at(r,i,o,c){if(o>>>=0,!(c>0))return 0;for(var _=o,g=o+c-1,b=0;b<r.length;++b){var w=r.charCodeAt(b);if(w>=55296&&w<=57343){var k=r.charCodeAt(++b);w=65536+((w&1023)<<10)|k&1023}if(w<=127){if(o>=g)break;i[o++>>>0]=w}else if(w<=2047){if(o+1>=g)break;i[o++>>>0]=192|w>>6,i[o++>>>0]=128|w&63}else if(w<=65535){if(o+2>=g)break;i[o++>>>0]=224|w>>12,i[o++>>>0]=128|w>>6&63,i[o++>>>0]=128|w&63}else{if(o+3>=g)break;i[o++>>>0]=240|w>>18,i[o++>>>0]=128|w>>12&63,i[o++>>>0]=128|w>>6&63,i[o++>>>0]=128|w&63}}return i[o>>>0]=0,o-_}function Nt(r,i,o){var c=o>0?o:_t(r)+1,_=new Array(c),g=at(r,_,0,_.length);return i&&(_.length=g),_}var Mn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Rt(r,i,o){i>>>=0;for(var c=i+o,_=i;r[_]&&!(_>=c);)++_;if(_-i>16&&r.buffer&&Mn)return Mn.decode(r.subarray(i,_));for(var g="";i<_;){var b=r[i++];if(!(b&128)){g+=String.fromCharCode(b);continue}var w=r[i++]&63;if((b&224)==192){g+=String.fromCharCode((b&31)<<6|w);continue}var k=r[i++]&63;if((b&240)==224?b=(b&15)<<12|w<<6|k:b=(b&7)<<18|w<<12|k<<6|r[i++]&63,b<65536)g+=String.fromCharCode(b);else{var F=b-65536;g+=String.fromCharCode(55296|F>>10,56320|F&1023)}}return g}var se={ttys:[],init:function(){},shutdown:function(){},register:function(r,i){se.ttys[r]={input:[],output:[],ops:i},p.registerDevice(r,se.stream_ops)},stream_ops:{open:function(r){var i=se.ttys[r.node.rdev];if(!i)throw new p.ErrnoError(43);r.tty=i,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,i,o,c,_){if(!r.tty||!r.tty.ops.get_char)throw new p.ErrnoError(60);for(var g=0,b=0;b<c;b++){var w;try{w=r.tty.ops.get_char(r.tty)}catch{throw new p.ErrnoError(29)}if(w===void 0&&g===0)throw new p.ErrnoError(6);if(w==null)break;g++,i[o+b]=w}return g&&(r.node.timestamp=Date.now()),g},write:function(r,i,o,c,_){if(!r.tty||!r.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var g=0;g<c;g++)r.tty.ops.put_char(r.tty,i[o+g])}catch{throw new p.ErrnoError(29)}return c&&(r.node.timestamp=Date.now()),g}},default_tty_ops:{get_char:function(r){if(!r.input.length){var i=null;if(T){var o=256,c=Buffer.alloc(o),_=0;try{_=me.readSync(process.stdin.fd,c,0,o,-1)}catch(g){if(g.toString().includes("EOF"))_=0;else throw g}_>0?i=c.slice(0,_).toString("utf-8"):i=null}else typeof window<"u"&&typeof window.prompt=="function"?(i=window.prompt("Input: "),i!==null&&(i+=`
`)):typeof readline=="function"&&(i=readline(),i!==null&&(i+=`
`));if(!i)return null;r.input=Nt(i,!0)}return r.input.shift()},put_char:function(r,i){i===null||i===10?(ke(Rt(r.output,0)),r.output=[]):i!=0&&r.output.push(i)},fsync:function(r){r.output&&r.output.length>0&&(ke(Rt(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,i){i===null||i===10?(I(Rt(r.output,0)),r.output=[]):i!=0&&r.output.push(i)},fsync:function(r){r.output&&r.output.length>0&&(I(Rt(r.output,0)),r.output=[])}}};function en(r,i){return te.fill(0,r,r+i),r}function ds(r,i){return Math.ceil(r/i)*i}function On(r){r=ds(r,65536);var i=lr(65536,r);return i?en(i,r):0}var fe={ops_table:null,mount:function(r){return fe.createNode(null,"/",16895,0)},createNode:function(r,i,o,c){if(p.isBlkdev(o)||p.isFIFO(o))throw new p.ErrnoError(63);fe.ops_table||(fe.ops_table={dir:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr,lookup:fe.node_ops.lookup,mknod:fe.node_ops.mknod,rename:fe.node_ops.rename,unlink:fe.node_ops.unlink,rmdir:fe.node_ops.rmdir,readdir:fe.node_ops.readdir,symlink:fe.node_ops.symlink},stream:{llseek:fe.stream_ops.llseek}},file:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr},stream:{llseek:fe.stream_ops.llseek,read:fe.stream_ops.read,write:fe.stream_ops.write,allocate:fe.stream_ops.allocate,mmap:fe.stream_ops.mmap,msync:fe.stream_ops.msync}},link:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr,readlink:fe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr},stream:p.chrdev_stream_ops}});var _=p.createNode(r,i,o,c);return p.isDir(_.mode)?(_.node_ops=fe.ops_table.dir.node,_.stream_ops=fe.ops_table.dir.stream,_.contents={}):p.isFile(_.mode)?(_.node_ops=fe.ops_table.file.node,_.stream_ops=fe.ops_table.file.stream,_.usedBytes=0,_.contents=null):p.isLink(_.mode)?(_.node_ops=fe.ops_table.link.node,_.stream_ops=fe.ops_table.link.stream):p.isChrdev(_.mode)&&(_.node_ops=fe.ops_table.chrdev.node,_.stream_ops=fe.ops_table.chrdev.stream),_.timestamp=Date.now(),r&&(r.contents[i]=_,r.timestamp=_.timestamp),_},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,i){i>>>=0;var o=r.contents?r.contents.length:0;if(!(o>=i)){var c=1024*1024;i=Math.max(i,o*(o<c?2:1.125)>>>0),o!=0&&(i=Math.max(i,256));var _=r.contents;r.contents=new Uint8Array(i),r.usedBytes>0&&r.contents.set(_.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,i){if(i>>>=0,r.usedBytes!=i)if(i==0)r.contents=null,r.usedBytes=0;else{var o=r.contents;r.contents=new Uint8Array(i),o&&r.contents.set(o.subarray(0,Math.min(i,r.usedBytes))),r.usedBytes=i}},node_ops:{getattr:function(r){var i={};return i.dev=p.isChrdev(r.mode)?r.id:1,i.ino=r.id,i.mode=r.mode,i.nlink=1,i.uid=0,i.gid=0,i.rdev=r.rdev,p.isDir(r.mode)?i.size=4096:p.isFile(r.mode)?i.size=r.usedBytes:p.isLink(r.mode)?i.size=r.link.length:i.size=0,i.atime=new Date(r.timestamp),i.mtime=new Date(r.timestamp),i.ctime=new Date(r.timestamp),i.blksize=4096,i.blocks=Math.ceil(i.size/i.blksize),i},setattr:function(r,i){i.mode!==void 0&&(r.mode=i.mode),i.timestamp!==void 0&&(r.timestamp=i.timestamp),i.size!==void 0&&fe.resizeFileStorage(r,i.size)},lookup:function(r,i){throw p.genericErrors[44]},mknod:function(r,i,o,c){return fe.createNode(r,i,o,c)},rename:function(r,i,o){if(p.isDir(r.mode)){var c;try{c=p.lookupNode(i,o)}catch{}if(c)for(var _ in c.contents)throw new p.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=o,i.contents[o]=r,i.timestamp=r.parent.timestamp,r.parent=i},unlink:function(r,i){delete r.contents[i],r.timestamp=Date.now()},rmdir:function(r,i){var o=p.lookupNode(r,i);for(var c in o.contents)throw new p.ErrnoError(55);delete r.contents[i],r.timestamp=Date.now()},readdir:function(r){var i=[".",".."];for(var o in r.contents)r.contents.hasOwnProperty(o)&&i.push(o);return i},symlink:function(r,i,o){var c=fe.createNode(r,i,41471,0);return c.link=o,c},readlink:function(r){if(!p.isLink(r.mode))throw new p.ErrnoError(28);return r.link}},stream_ops:{read:function(r,i,o,c,_){var g=r.node.contents;if(_>=r.node.usedBytes)return 0;var b=Math.min(r.node.usedBytes-_,c);if(b>8&&g.subarray)i.set(g.subarray(_,_+b),o);else for(var w=0;w<b;w++)i[o+w]=g[_+w];return b},write:function(r,i,o,c,_,g){if(i.buffer===X.buffer&&(g=!1),!c)return 0;var b=r.node;if(b.timestamp=Date.now(),i.subarray&&(!b.contents||b.contents.subarray)){if(g)return b.contents=i.subarray(o,o+c),b.usedBytes=c,c;if(b.usedBytes===0&&_===0)return b.contents=i.slice(o,o+c),b.usedBytes=c,c;if(_+c<=b.usedBytes)return b.contents.set(i.subarray(o,o+c),_),c}if(fe.expandFileStorage(b,_+c),b.contents.subarray&&i.subarray)b.contents.set(i.subarray(o,o+c),_);else for(var w=0;w<c;w++)b.contents[_+w]=i[o+w];return b.usedBytes=Math.max(b.usedBytes,_+c),c},llseek:function(r,i,o){var c=i;if(o===1?c+=r.position:o===2&&p.isFile(r.node.mode)&&(c+=r.node.usedBytes),c<0)throw new p.ErrnoError(28);return c},allocate:function(r,i,o){fe.expandFileStorage(r.node,i+o),r.node.usedBytes=Math.max(r.node.usedBytes,i+o)},mmap:function(r,i,o,c,_){if(!p.isFile(r.node.mode))throw new p.ErrnoError(43);var g,b,w=r.node.contents;if(!(_&2)&&w.buffer===X.buffer)b=!1,g=w.byteOffset;else{if((o>0||o+i<w.length)&&(w.subarray?w=w.subarray(o,o+i):w=Array.prototype.slice.call(w,o,o+i)),b=!0,g=On(i),!g)throw new p.ErrnoError(48);g>>>=0,X.set(w,g>>>0)}return{ptr:g,allocated:b}},msync:function(r,i,o,c,_){return fe.stream_ops.write(r,i,0,c,o,!1),0}}};function _s(r,i,o,c){var _=c?"":`al ${r}`;N(r,g=>{M(g,`Loading data file "${r}" failed (no arrayBuffer).`),i(new Uint8Array(g)),_&&kt(_)},g=>{if(o)o();else throw`Loading data file "${r}" failed.`}),_&&er(_)}var tn=e.preloadPlugins||[];function m(r,i,o,c){typeof Browser<"u"&&Browser.init();var _=!1;return tn.forEach(function(g){_||g.canHandle(i)&&(g.handle(r,i,o,c),_=!0)}),_}function Bt(r,i,o,c,_,g,b,w,k,F){var x=i?ot.resolve(Se.join2(r,i)):r,G=`cp ${x}`;function H($){function P(U){F&&F(),w||p.createDataFile(r,i,U,c,_,k),g&&g(),kt(G)}m($,x,P,()=>{b&&b(),kt(G)})||P($)}er(G),typeof o=="string"?_s(o,$=>H($),b):H(o)}function oe(r){var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},o=i[r];if(typeof o>"u")throw new Error(`Unknown file open mode: ${r}`);return o}function rn(r,i){var o=0;return r&&(o|=365),i&&(o|=146),o}var p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,i={})=>{if(r=ot.resolve(r),!r)return{path:"",node:null};var o={follow_mount:!0,recurse_count:0};if(i=Object.assign(o,i),i.recurse_count>8)throw new p.ErrnoError(32);for(var c=r.split("/").filter(G=>!!G),_=p.root,g="/",b=0;b<c.length;b++){var w=b===c.length-1;if(w&&i.parent)break;if(_=p.lookupNode(_,c[b]),g=Se.join2(g,c[b]),p.isMountpoint(_)&&(!w||w&&i.follow_mount)&&(_=_.mounted.root),!w||i.follow)for(var k=0;p.isLink(_.mode);){var F=p.readlink(g);g=ot.resolve(Se.dirname(g),F);var x=p.lookupPath(g,{recurse_count:i.recurse_count+1});if(_=x.node,k++>40)throw new p.ErrnoError(32)}}return{path:g,node:_}},getPath:r=>{for(var i;;){if(p.isRoot(r)){var o=r.mount.mountpoint;return i?o[o.length-1]!=="/"?`${o}/${i}`:o+i:o}i=i?`${r.name}/${i}`:r.name,r=r.parent}},hashName:(r,i)=>{for(var o=0,c=0;c<i.length;c++)o=(o<<5)-o+i.charCodeAt(c)|0;return(r+o>>>0)%p.nameTable.length},hashAddNode:r=>{var i=p.hashName(r.parent.id,r.name);r.name_next=p.nameTable[i],p.nameTable[i]=r},hashRemoveNode:r=>{var i=p.hashName(r.parent.id,r.name);if(p.nameTable[i]===r)p.nameTable[i]=r.name_next;else for(var o=p.nameTable[i];o;){if(o.name_next===r){o.name_next=r.name_next;break}o=o.name_next}},lookupNode:(r,i)=>{var o=p.mayLookup(r);if(o)throw new p.ErrnoError(o,r);for(var c=p.hashName(r.id,i),_=p.nameTable[c];_;_=_.name_next){var g=_.name;if(_.parent.id===r.id&&g===i)return _}return p.lookup(r,i)},createNode:(r,i,o,c)=>{var _=new p.FSNode(r,i,o,c);return p.hashAddNode(_),_},destroyNode:r=>{p.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(r&61440)===32768,isDir:r=>(r&61440)===16384,isLink:r=>(r&61440)===40960,isChrdev:r=>(r&61440)===8192,isBlkdev:r=>(r&61440)===24576,isFIFO:r=>(r&61440)===4096,isSocket:r=>(r&49152)===49152,flagsToPermissionString:r=>{var i=["r","w","rw"][r&3];return r&512&&(i+="w"),i},nodePermissions:(r,i)=>p.ignorePermissions?0:i.includes("r")&&!(r.mode&292)||i.includes("w")&&!(r.mode&146)||i.includes("x")&&!(r.mode&73)?2:0,mayLookup:r=>{var i=p.nodePermissions(r,"x");return i||(r.node_ops.lookup?0:2)},mayCreate:(r,i)=>{try{var o=p.lookupNode(r,i);return 20}catch{}return p.nodePermissions(r,"wx")},mayDelete:(r,i,o)=>{var c;try{c=p.lookupNode(r,i)}catch(g){return g.errno}var _=p.nodePermissions(r,"wx");if(_)return _;if(o){if(!p.isDir(c.mode))return 54;if(p.isRoot(c)||p.getPath(c)===p.cwd())return 10}else if(p.isDir(c.mode))return 31;return 0},mayOpen:(r,i)=>r?p.isLink(r.mode)?32:p.isDir(r.mode)&&(p.flagsToPermissionString(i)!=="r"||i&512)?31:p.nodePermissions(r,p.flagsToPermissionString(i)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var r=0;r<=p.MAX_OPEN_FDS;r++)if(!p.streams[r])return r;throw new p.ErrnoError(33)},getStream:r=>p.streams[r],createStream:(r,i=-1)=>(p.FSStream||(p.FSStream=function(){this.shared={}},p.FSStream.prototype={},Object.defineProperties(p.FSStream.prototype,{object:{get:function(){return this.node},set:function(o){this.node=o}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(o){this.shared.flags=o}},position:{get:function(){return this.shared.position},set:function(o){this.shared.position=o}}})),r=Object.assign(new p.FSStream,r),i==-1&&(i=p.nextfd()),r.fd=i,p.streams[i]=r,r),closeStream:r=>{p.streams[r]=null},chrdev_stream_ops:{open:r=>{var i=p.getDevice(r.node.rdev);r.stream_ops=i.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new p.ErrnoError(70)}},major:r=>r>>8,minor:r=>r&255,makedev:(r,i)=>r<<8|i,registerDevice:(r,i)=>{p.devices[r]={stream_ops:i}},getDevice:r=>p.devices[r],getMounts:r=>{for(var i=[],o=[r];o.length;){var c=o.pop();i.push(c),o.push.apply(o,c.mounts)}return i},syncfs:(r,i)=>{typeof r=="function"&&(i=r,r=!1),p.syncFSRequests++,p.syncFSRequests>1&&I(`warning: ${p.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var o=p.getMounts(p.root.mount),c=0;function _(b){return p.syncFSRequests--,i(b)}function g(b){if(b)return g.errored?void 0:(g.errored=!0,_(b));++c>=o.length&&_(null)}o.forEach(b=>{if(!b.type.syncfs)return g(null);b.type.syncfs(b,r,g)})},mount:(r,i,o)=>{var c=o==="/",_=!o,g;if(c&&p.root)throw new p.ErrnoError(10);if(!c&&!_){var b=p.lookupPath(o,{follow_mount:!1});if(o=b.path,g=b.node,p.isMountpoint(g))throw new p.ErrnoError(10);if(!p.isDir(g.mode))throw new p.ErrnoError(54)}var w={type:r,opts:i,mountpoint:o,mounts:[]},k=r.mount(w);return k.mount=w,w.root=k,c?p.root=k:g&&(g.mounted=w,g.mount&&g.mount.mounts.push(w)),k},unmount:r=>{var i=p.lookupPath(r,{follow_mount:!1});if(!p.isMountpoint(i.node))throw new p.ErrnoError(28);var o=i.node,c=o.mounted,_=p.getMounts(c);Object.keys(p.nameTable).forEach(b=>{for(var w=p.nameTable[b];w;){var k=w.name_next;_.includes(w.mount)&&p.destroyNode(w),w=k}}),o.mounted=null;var g=o.mount.mounts.indexOf(c);o.mount.mounts.splice(g,1)},lookup:(r,i)=>r.node_ops.lookup(r,i),mknod:(r,i,o)=>{var c=p.lookupPath(r,{parent:!0}),_=c.node,g=Se.basename(r);if(!g||g==="."||g==="..")throw new p.ErrnoError(28);var b=p.mayCreate(_,g);if(b)throw new p.ErrnoError(b);if(!_.node_ops.mknod)throw new p.ErrnoError(63);return _.node_ops.mknod(_,g,i,o)},create:(r,i)=>(i=i!==void 0?i:438,i&=4095,i|=32768,p.mknod(r,i,0)),mkdir:(r,i)=>(i=i!==void 0?i:511,i&=1023,i|=16384,p.mknod(r,i,0)),mkdirTree:(r,i)=>{for(var o=r.split("/"),c="",_=0;_<o.length;++_)if(o[_]){c+="/"+o[_];try{p.mkdir(c,i)}catch(g){if(g.errno!=20)throw g}}},mkdev:(r,i,o)=>(typeof o>"u"&&(o=i,i=438),i|=8192,p.mknod(r,i,o)),symlink:(r,i)=>{if(!ot.resolve(r))throw new p.ErrnoError(44);var o=p.lookupPath(i,{parent:!0}),c=o.node;if(!c)throw new p.ErrnoError(44);var _=Se.basename(i),g=p.mayCreate(c,_);if(g)throw new p.ErrnoError(g);if(!c.node_ops.symlink)throw new p.ErrnoError(63);return c.node_ops.symlink(c,_,r)},rename:(r,i)=>{var o=Se.dirname(r),c=Se.dirname(i),_=Se.basename(r),g=Se.basename(i),b,w,k;if(b=p.lookupPath(r,{parent:!0}),w=b.node,b=p.lookupPath(i,{parent:!0}),k=b.node,!w||!k)throw new p.ErrnoError(44);if(w.mount!==k.mount)throw new p.ErrnoError(75);var F=p.lookupNode(w,_),x=ot.relative(r,c);if(x.charAt(0)!==".")throw new p.ErrnoError(28);if(x=ot.relative(i,o),x.charAt(0)!==".")throw new p.ErrnoError(55);var G;try{G=p.lookupNode(k,g)}catch{}if(F!==G){var H=p.isDir(F.mode),$=p.mayDelete(w,_,H);if($)throw new p.ErrnoError($);if($=G?p.mayDelete(k,g,H):p.mayCreate(k,g),$)throw new p.ErrnoError($);if(!w.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(F)||G&&p.isMountpoint(G))throw new p.ErrnoError(10);if(k!==w&&($=p.nodePermissions(w,"w"),$))throw new p.ErrnoError($);p.hashRemoveNode(F);try{w.node_ops.rename(F,k,g)}catch(P){throw P}finally{p.hashAddNode(F)}}},rmdir:r=>{var i=p.lookupPath(r,{parent:!0}),o=i.node,c=Se.basename(r),_=p.lookupNode(o,c),g=p.mayDelete(o,c,!0);if(g)throw new p.ErrnoError(g);if(!o.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(_))throw new p.ErrnoError(10);o.node_ops.rmdir(o,c),p.destroyNode(_)},readdir:r=>{var i=p.lookupPath(r,{follow:!0}),o=i.node;if(!o.node_ops.readdir)throw new p.ErrnoError(54);return o.node_ops.readdir(o)},unlink:r=>{var i=p.lookupPath(r,{parent:!0}),o=i.node;if(!o)throw new p.ErrnoError(44);var c=Se.basename(r),_=p.lookupNode(o,c),g=p.mayDelete(o,c,!1);if(g)throw new p.ErrnoError(g);if(!o.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(_))throw new p.ErrnoError(10);o.node_ops.unlink(o,c),p.destroyNode(_)},readlink:r=>{var i=p.lookupPath(r),o=i.node;if(!o)throw new p.ErrnoError(44);if(!o.node_ops.readlink)throw new p.ErrnoError(28);return ot.resolve(p.getPath(o.parent),o.node_ops.readlink(o))},stat:(r,i)=>{var o=p.lookupPath(r,{follow:!i}),c=o.node;if(!c)throw new p.ErrnoError(44);if(!c.node_ops.getattr)throw new p.ErrnoError(63);return c.node_ops.getattr(c)},lstat:r=>p.stat(r,!0),chmod:(r,i,o)=>{var c;if(typeof r=="string"){var _=p.lookupPath(r,{follow:!o});c=_.node}else c=r;if(!c.node_ops.setattr)throw new p.ErrnoError(63);c.node_ops.setattr(c,{mode:i&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:(r,i)=>{p.chmod(r,i,!0)},fchmod:(r,i)=>{var o=p.getStream(r);if(!o)throw new p.ErrnoError(8);p.chmod(o.node,i)},chown:(r,i,o,c)=>{var _;if(typeof r=="string"){var g=p.lookupPath(r,{follow:!c});_=g.node}else _=r;if(!_.node_ops.setattr)throw new p.ErrnoError(63);_.node_ops.setattr(_,{timestamp:Date.now()})},lchown:(r,i,o)=>{p.chown(r,i,o,!0)},fchown:(r,i,o)=>{var c=p.getStream(r);if(!c)throw new p.ErrnoError(8);p.chown(c.node,i,o)},truncate:(r,i)=>{if(i<0)throw new p.ErrnoError(28);var o;if(typeof r=="string"){var c=p.lookupPath(r,{follow:!0});o=c.node}else o=r;if(!o.node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(o.mode))throw new p.ErrnoError(31);if(!p.isFile(o.mode))throw new p.ErrnoError(28);var _=p.nodePermissions(o,"w");if(_)throw new p.ErrnoError(_);o.node_ops.setattr(o,{size:i,timestamp:Date.now()})},ftruncate:(r,i)=>{var o=p.getStream(r);if(!o)throw new p.ErrnoError(8);if(!(o.flags&2097155))throw new p.ErrnoError(28);p.truncate(o.node,i)},utime:(r,i,o)=>{var c=p.lookupPath(r,{follow:!0}),_=c.node;_.node_ops.setattr(_,{timestamp:Math.max(i,o)})},open:(r,i,o)=>{if(r==="")throw new p.ErrnoError(44);i=typeof i=="string"?oe(i):i,o=typeof o>"u"?438:o,i&64?o=o&4095|32768:o=0;var c;if(typeof r=="object")c=r;else{r=Se.normalize(r);try{var _=p.lookupPath(r,{follow:!(i&131072)});c=_.node}catch{}}var g=!1;if(i&64)if(c){if(i&128)throw new p.ErrnoError(20)}else c=p.mknod(r,o,0),g=!0;if(!c)throw new p.ErrnoError(44);if(p.isChrdev(c.mode)&&(i&=-513),i&65536&&!p.isDir(c.mode))throw new p.ErrnoError(54);if(!g){var b=p.mayOpen(c,i);if(b)throw new p.ErrnoError(b)}i&512&&!g&&p.truncate(c,0),i&=-131713;var w=p.createStream({node:c,path:p.getPath(c),flags:i,seekable:!0,position:0,stream_ops:c.stream_ops,ungotten:[],error:!1});return w.stream_ops.open&&w.stream_ops.open(w),e.logReadFiles&&!(i&1)&&(p.readFiles||(p.readFiles={}),r in p.readFiles||(p.readFiles[r]=1)),w},close:r=>{if(p.isClosed(r))throw new p.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(i){throw i}finally{p.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,i,o)=>{if(p.isClosed(r))throw new p.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new p.ErrnoError(70);if(o!=0&&o!=1&&o!=2)throw new p.ErrnoError(28);return r.position=r.stream_ops.llseek(r,i,o),r.ungotten=[],r.position},read:(r,i,o,c,_)=>{if(o>>>=0,c<0||_<0)throw new p.ErrnoError(28);if(p.isClosed(r))throw new p.ErrnoError(8);if((r.flags&2097155)===1)throw new p.ErrnoError(8);if(p.isDir(r.node.mode))throw new p.ErrnoError(31);if(!r.stream_ops.read)throw new p.ErrnoError(28);var g=typeof _<"u";if(!g)_=r.position;else if(!r.seekable)throw new p.ErrnoError(70);var b=r.stream_ops.read(r,i,o,c,_);return g||(r.position+=b),b},write:(r,i,o,c,_,g)=>{if(o>>>=0,c<0||_<0)throw new p.ErrnoError(28);if(p.isClosed(r))throw new p.ErrnoError(8);if(!(r.flags&2097155))throw new p.ErrnoError(8);if(p.isDir(r.node.mode))throw new p.ErrnoError(31);if(!r.stream_ops.write)throw new p.ErrnoError(28);r.seekable&&r.flags&1024&&p.llseek(r,0,2);var b=typeof _<"u";if(!b)_=r.position;else if(!r.seekable)throw new p.ErrnoError(70);var w=r.stream_ops.write(r,i,o,c,_,g);return b||(r.position+=w),w},allocate:(r,i,o)=>{if(p.isClosed(r))throw new p.ErrnoError(8);if(i<0||o<=0)throw new p.ErrnoError(28);if(!(r.flags&2097155))throw new p.ErrnoError(8);if(!p.isFile(r.node.mode)&&!p.isDir(r.node.mode))throw new p.ErrnoError(43);if(!r.stream_ops.allocate)throw new p.ErrnoError(138);r.stream_ops.allocate(r,i,o)},mmap:(r,i,o,c,_)=>{if(c&2&&!(_&2)&&(r.flags&2097155)!==2)throw new p.ErrnoError(2);if((r.flags&2097155)===1)throw new p.ErrnoError(2);if(!r.stream_ops.mmap)throw new p.ErrnoError(43);return r.stream_ops.mmap(r,i,o,c,_)},msync:(r,i,o,c,_)=>(o>>>=0,r.stream_ops.msync?r.stream_ops.msync(r,i,o,c,_):0),munmap:r=>0,ioctl:(r,i,o)=>{if(!r.stream_ops.ioctl)throw new p.ErrnoError(59);return r.stream_ops.ioctl(r,i,o)},readFile:(r,i={})=>{if(i.flags=i.flags||0,i.encoding=i.encoding||"binary",i.encoding!=="utf8"&&i.encoding!=="binary")throw new Error(`Invalid encoding type "${i.encoding}"`);var o,c=p.open(r,i.flags),_=p.stat(r),g=_.size,b=new Uint8Array(g);return p.read(c,b,0,g,0),i.encoding==="utf8"?o=Rt(b,0):i.encoding==="binary"&&(o=b),p.close(c),o},writeFile:(r,i,o={})=>{o.flags=o.flags||577;var c=p.open(r,o.flags,o.mode);if(typeof i=="string"){var _=new Uint8Array(_t(i)+1),g=at(i,_,0,_.length);p.write(c,_,0,g,void 0,o.canOwn)}else if(ArrayBuffer.isView(i))p.write(c,i,0,i.byteLength,void 0,o.canOwn);else throw new Error("Unsupported data type");p.close(c)},cwd:()=>p.currentPath,chdir:r=>{var i=p.lookupPath(r,{follow:!0});if(i.node===null)throw new p.ErrnoError(44);if(!p.isDir(i.node.mode))throw new p.ErrnoError(54);var o=p.nodePermissions(i.node,"x");if(o)throw new p.ErrnoError(o);p.currentPath=i.path},createDefaultDirectories:()=>{p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:()=>{p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:()=>0,write:(c,_,g,b,w)=>b}),p.mkdev("/dev/null",p.makedev(1,3)),se.register(p.makedev(5,0),se.default_tty_ops),se.register(p.makedev(6,0),se.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var r=new Uint8Array(1024),i=0,o=()=>(i===0&&(i=It(r).byteLength),r[--i]);p.createDevice("/dev","random",o),p.createDevice("/dev","urandom",o),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{p.mkdir("/proc");var r=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:()=>{var i=p.createNode(r,"fd",16895,73);return i.node_ops={lookup:(o,c)=>{var _=+c,g=p.getStream(_);if(!g)throw new p.ErrnoError(8);var b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>g.path}};return b.parent=b,b}},i}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?p.createDevice("/dev","stdin",e.stdin):p.symlink("/dev/tty","/dev/stdin"),e.stdout?p.createDevice("/dev","stdout",null,e.stdout):p.symlink("/dev/tty","/dev/stdout"),e.stderr?p.createDevice("/dev","stderr",null,e.stderr):p.symlink("/dev/tty1","/dev/stderr");var r=p.open("/dev/stdin",0),i=p.open("/dev/stdout",1),o=p.open("/dev/stderr",1)},ensureErrnoError:()=>{p.ErrnoError||(p.ErrnoError=function(i,o){this.name="ErrnoError",this.node=o,this.setErrno=function(c){this.errno=c},this.setErrno(i),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(r=>{p.genericErrors[r]=new p.ErrnoError(r),p.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(fe,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:fe}},init:(r,i,o)=>{p.init.initialized=!0,p.ensureErrnoError(),e.stdin=r||e.stdin,e.stdout=i||e.stdout,e.stderr=o||e.stderr,p.createStandardStreams()},quit:()=>{p.init.initialized=!1;for(var r=0;r<p.streams.length;r++){var i=p.streams[r];i&&p.close(i)}},findObject:(r,i)=>{var o=p.analyzePath(r,i);return o.exists?o.object:null},analyzePath:(r,i)=>{try{var o=p.lookupPath(r,{follow:!i});r=o.path}catch{}var c={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=p.lookupPath(r,{parent:!0});c.parentExists=!0,c.parentPath=o.path,c.parentObject=o.node,c.name=Se.basename(r),o=p.lookupPath(r,{follow:!i}),c.exists=!0,c.path=o.path,c.object=o.node,c.name=o.node.name,c.isRoot=o.path==="/"}catch(_){c.error=_.errno}return c},createPath:(r,i,o,c)=>{r=typeof r=="string"?r:p.getPath(r);for(var _=i.split("/").reverse();_.length;){var g=_.pop();if(g){var b=Se.join2(r,g);try{p.mkdir(b)}catch{}r=b}}return b},createFile:(r,i,o,c,_)=>{var g=Se.join2(typeof r=="string"?r:p.getPath(r),i),b=rn(c,_);return p.create(g,b)},createDataFile:(r,i,o,c,_,g)=>{var b=i;r&&(r=typeof r=="string"?r:p.getPath(r),b=i?Se.join2(r,i):r);var w=rn(c,_),k=p.create(b,w);if(o){if(typeof o=="string"){for(var F=new Array(o.length),x=0,G=o.length;x<G;++x)F[x]=o.charCodeAt(x);o=F}p.chmod(k,w|146);var H=p.open(k,577);p.write(H,o,0,o.length,0,g),p.close(H),p.chmod(k,w)}return k},createDevice:(r,i,o,c)=>{var _=Se.join2(typeof r=="string"?r:p.getPath(r),i),g=rn(!!o,!!c);p.createDevice.major||(p.createDevice.major=64);var b=p.makedev(p.createDevice.major++,0);return p.registerDevice(b,{open:w=>{w.seekable=!1},close:w=>{c&&c.buffer&&c.buffer.length&&c(10)},read:(w,k,F,x,G)=>{for(var H=0,$=0;$<x;$++){var P;try{P=o()}catch{throw new p.ErrnoError(29)}if(P===void 0&&H===0)throw new p.ErrnoError(6);if(P==null)break;H++,k[F+$]=P}return H&&(w.node.timestamp=Date.now()),H},write:(w,k,F,x,G)=>{for(var H=0;H<x;H++)try{c(k[F+H])}catch{throw new p.ErrnoError(29)}return x&&(w.node.timestamp=Date.now()),H}}),p.mkdev(_,g,b)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(B)try{r.contents=Nt(B(r.url),!0),r.usedBytes=r.contents.length}catch{throw new p.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(r,i,o,c,_)=>{function g(){this.lengthKnown=!1,this.chunks=[]}if(g.prototype.get=function($){if(!($>this.length-1||$<0)){var P=$%this.chunkSize,U=$/this.chunkSize|0;return this.getter(U)[P]}},g.prototype.setDataGetter=function($){this.getter=$},g.prototype.cacheLength=function(){var $=new XMLHttpRequest;if($.open("HEAD",o,!1),$.send(null),!($.status>=200&&$.status<300||$.status===304))throw new Error("Couldn't load "+o+". Status: "+$.status);var P=Number($.getResponseHeader("Content-length")),U,ne=(U=$.getResponseHeader("Accept-Ranges"))&&U==="bytes",Z=(U=$.getResponseHeader("Content-Encoding"))&&U==="gzip",O=1024*1024;ne||(O=P);var W=(ce,Me)=>{if(ce>Me)throw new Error("invalid range ("+ce+", "+Me+") or no bytes requested!");if(Me>P-1)throw new Error("only "+P+" bytes available! programmer error!");var Ce=new XMLHttpRequest;if(Ce.open("GET",o,!1),P!==O&&Ce.setRequestHeader("Range","bytes="+ce+"-"+Me),Ce.responseType="arraybuffer",Ce.overrideMimeType&&Ce.overrideMimeType("text/plain; charset=x-user-defined"),Ce.send(null),!(Ce.status>=200&&Ce.status<300||Ce.status===304))throw new Error("Couldn't load "+o+". Status: "+Ce.status);return Ce.response!==void 0?new Uint8Array(Ce.response||[]):Nt(Ce.responseText||"",!0)},be=this;be.setDataGetter(ce=>{var Me=ce*O,Ce=(ce+1)*O-1;if(Ce=Math.min(Ce,P-1),typeof be.chunks[ce]>"u"&&(be.chunks[ce]=W(Me,Ce)),typeof be.chunks[ce]>"u")throw new Error("doXHR failed!");return be.chunks[ce]}),(Z||!P)&&(O=P=1,P=this.getter(0).length,O=P,ke("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=P,this._chunkSize=O,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!S)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var b=new g;Object.defineProperties(b,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var w={isDevice:!1,contents:b}}else var w={isDevice:!1,url:o};var k=p.createFile(r,i,w,c,_);w.contents?k.contents=w.contents:w.url&&(k.contents=null,k.url=w.url),Object.defineProperties(k,{usedBytes:{get:function(){return this.contents.length}}});var F={},x=Object.keys(k.stream_ops);x.forEach(H=>{var $=k.stream_ops[H];F[H]=function(){return p.forceLoadFile(k),$.apply(null,arguments)}});function G(H,$,P,U,ne){var Z=H.node.contents;if(ne>=Z.length)return 0;var O=Math.min(Z.length-ne,U);if(Z.slice)for(var W=0;W<O;W++)$[P+W]=Z[ne+W];else for(var W=0;W<O;W++)$[P+W]=Z.get(ne+W);return O}return F.read=(H,$,P,U,ne)=>(p.forceLoadFile(k),G(H,$,P,U,ne)),F.mmap=(H,$,P,U,ne)=>{p.forceLoadFile(k);var Z=On($);if(!Z)throw new p.ErrnoError(48);return G(H,X,Z,$,P),{ptr:Z,allocated:!0}},k.stream_ops=F,k}};function tt(r,i){return r>>>=0,r?Rt(te,r,i):""}var ae={DEFAULT_POLLMASK:5,calculateAt:function(r,i,o){if(Se.isAbs(i))return i;var c;if(r===-100)c=p.cwd();else{var _=ae.getStreamFromFD(r);c=_.path}if(i.length==0){if(!o)throw new p.ErrnoError(44);return c}return Se.join2(c,i)},doStat:function(r,i,o){try{var c=r(i)}catch(w){if(w&&w.node&&Se.normalize(i)!==Se.normalize(p.getPath(w.node)))return-54;throw w}v[o>>>2]=c.dev,v[o+8>>>2]=c.ino,v[o+12>>>2]=c.mode,j[o+16>>>2]=c.nlink,v[o+20>>>2]=c.uid,v[o+24>>>2]=c.gid,v[o+28>>>2]=c.rdev,ee=[c.size>>>0,(L=c.size,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[o+40>>>2]=ee[0],v[o+44>>>2]=ee[1],v[o+48>>>2]=4096,v[o+52>>>2]=c.blocks;var _=c.atime.getTime(),g=c.mtime.getTime(),b=c.ctime.getTime();return ee=[Math.floor(_/1e3)>>>0,(L=Math.floor(_/1e3),+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[o+56>>>2]=ee[0],v[o+60>>>2]=ee[1],j[o+64>>>2]=_%1e3*1e3,ee=[Math.floor(g/1e3)>>>0,(L=Math.floor(g/1e3),+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[o+72>>>2]=ee[0],v[o+76>>>2]=ee[1],j[o+80>>>2]=g%1e3*1e3,ee=[Math.floor(b/1e3)>>>0,(L=Math.floor(b/1e3),+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[o+88>>>2]=ee[0],v[o+92>>>2]=ee[1],j[o+96>>>2]=b%1e3*1e3,ee=[c.ino>>>0,(L=c.ino,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[o+104>>>2]=ee[0],v[o+108>>>2]=ee[1],0},doMsync:function(r,i,o,c,_){if(!p.isFile(i.node.mode))throw new p.ErrnoError(43);if(c&2)return 0;r>>>=0;var g=te.slice(r,r+o);p.msync(i,g,_,o,c)},varargs:void 0,get:function(){ae.varargs+=4;var r=v[ae.varargs-4>>>2];return r},getStr:function(r){var i=tt(r);return i},getStreamFromFD:function(r){var i=p.getStream(r);if(!i)throw new p.ErrnoError(8);return i}};function nn(r,i,o,c,_){try{for(var g=0,b=i?v[i>>>2]:0,w=i?v[i+4>>>2]:0,k=o?v[o>>>2]:0,F=o?v[o+4>>>2]:0,x=c?v[c>>>2]:0,G=c?v[c+4>>>2]:0,H=0,$=0,P=0,U=0,ne=0,Z=0,O=(i?v[i>>>2]:0)|(o?v[o>>>2]:0)|(c?v[c>>>2]:0),W=(i?v[i+4>>>2]:0)|(o?v[o+4>>>2]:0)|(c?v[c+4>>>2]:0),be=function(_n,I_,N_,Pc){return _n<32?I_&Pc:N_&Pc},ce=0;ce<r;ce++){var Me=1<<ce%32;if(be(ce,O,W,Me)){var Ce=ae.getStreamFromFD(ce),dr=ae.DEFAULT_POLLMASK;Ce.stream_ops.poll&&(dr=Ce.stream_ops.poll(Ce)),dr&1&&be(ce,b,w,Me)&&(ce<32?H=H|Me:$=$|Me,g++),dr&4&&be(ce,k,F,Me)&&(ce<32?P=P|Me:U=U|Me,g++),dr&2&&be(ce,x,G,Me)&&(ce<32?ne=ne|Me:Z=Z|Me,g++)}}return i&&(v[i>>>2]=H,v[i+4>>>2]=$),o&&(v[o>>>2]=P,v[o+4>>>2]=U),c&&(v[c>>>2]=ne,v[c+4>>>2]=Z),g}catch(_n){if(typeof p>"u"||_n.name!=="ErrnoError")throw _n;return-_n.errno}}var Te={mount:function(r){return e.websocket=e.websocket&&typeof e.websocket=="object"?e.websocket:{},e.websocket._callbacks={},e.websocket.on=function(i,o){return typeof o=="function"&&(this._callbacks[i]=o),this},e.websocket.emit=function(i,o){typeof this._callbacks[i]=="function"&&this._callbacks[i].call(this,o)},p.createNode(null,"/",16895,0)},createSocket:function(r,i,o){i&=-526337;var c=i==1;if(c&&o&&o!=6)throw new p.ErrnoError(66);var _={family:r,type:i,protocol:o,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Te.websocket_sock_ops},g=Te.nextname(),b=p.createNode(Te.root,g,49152,0);b.sock=_;var w=p.createStream({path:g,node:b,flags:2,seekable:!1,stream_ops:Te.stream_ops});return _.stream=w,_},getSocket:function(r){var i=p.getStream(r);return!i||!p.isSocket(i.node.mode)?null:i.node.sock},stream_ops:{poll:function(r){var i=r.node.sock;return i.sock_ops.poll(i)},ioctl:function(r,i,o){var c=r.node.sock;return c.sock_ops.ioctl(c,i,o)},read:function(r,i,o,c,_){var g=r.node.sock,b=g.sock_ops.recvmsg(g,c);return b?(i.set(b.buffer,o),b.buffer.length):0},write:function(r,i,o,c,_){var g=r.node.sock;return g.sock_ops.sendmsg(g,i,o,c)},close:function(r){var i=r.node.sock;i.sock_ops.close(i)}},nextname:function(){return Te.nextname.current||(Te.nextname.current=0),"socket["+Te.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(r,i,o){var c;if(typeof i=="object"&&(c=i,i=null,o=null),c)if(c._socket)i=c._socket.remoteAddress,o=c._socket.remotePort;else{var _=/ws[s]?:\/\/([^:]+):(\d+)/.exec(c.url);if(!_)throw new Error("WebSocket URL must be in the format ws(s)://address:port");i=_[1],o=parseInt(_[2],10)}else try{var g=e.websocket&&typeof e.websocket=="object",b="ws:#".replace("#","//");if(g&&typeof e.websocket.url=="string"&&(b=e.websocket.url),b==="ws://"||b==="wss://"){var w=i.split("/");b=b+w[0]+":"+o+"/"+w.slice(1).join("/")}var k="binary";g&&typeof e.websocket.subprotocol=="string"&&(k=e.websocket.subprotocol);var F=void 0;k!=="null"&&(k=k.replace(/^ +| +$/g,"").split(/ *, */),F=k),g&&e.websocket.subprotocol===null&&(k="null",F=void 0);var x;T?x=An():x=WebSocket,c=new x(b,F),c.binaryType="arraybuffer"}catch{throw new p.ErrnoError(23)}var G={addr:i,port:o,socket:c,dgram_send_queue:[]};return Te.websocket_sock_ops.addPeer(r,G),Te.websocket_sock_ops.handlePeerEvents(r,G),r.type===2&&typeof r.sport<"u"&&G.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(r.sport&65280)>>8,r.sport&255])),G},getPeer:function(r,i,o){return r.peers[i+":"+o]},addPeer:function(r,i){r.peers[i.addr+":"+i.port]=i},removePeer:function(r,i){delete r.peers[i.addr+":"+i.port]},handlePeerEvents:function(r,i){var o=!0,c=function(){e.websocket.emit("open",r.stream.fd);try{for(var g=i.dgram_send_queue.shift();g;)i.socket.send(g),g=i.dgram_send_queue.shift()}catch{i.socket.close()}};function _(g){if(typeof g=="string"){var b=new TextEncoder;g=b.encode(g)}else{if(M(g.byteLength!==void 0),g.byteLength==0)return;g=new Uint8Array(g)}var w=o;if(o=!1,w&&g.length===10&&g[0]===255&&g[1]===255&&g[2]===255&&g[3]===255&&g[4]==="p".charCodeAt(0)&&g[5]==="o".charCodeAt(0)&&g[6]==="r".charCodeAt(0)&&g[7]==="t".charCodeAt(0)){var k=g[8]<<8|g[9];Te.websocket_sock_ops.removePeer(r,i),i.port=k,Te.websocket_sock_ops.addPeer(r,i);return}r.recv_queue.push({addr:i.addr,port:i.port,data:g}),e.websocket.emit("message",r.stream.fd)}T?(i.socket.on("open",c),i.socket.on("message",function(g,b){b&&_(new Uint8Array(g).buffer)}),i.socket.on("close",function(){e.websocket.emit("close",r.stream.fd)}),i.socket.on("error",function(g){r.error=14,e.websocket.emit("error",[r.stream.fd,r.error,"ECONNREFUSED: Connection refused"])})):(i.socket.onopen=c,i.socket.onclose=function(){e.websocket.emit("close",r.stream.fd)},i.socket.onmessage=function(b){_(b.data)},i.socket.onerror=function(g){r.error=14,e.websocket.emit("error",[r.stream.fd,r.error,"ECONNREFUSED: Connection refused"])})},poll:function(r){if(r.type===1&&r.server)return r.pending.length?65:0;var i=0,o=r.type===1?Te.websocket_sock_ops.getPeer(r,r.daddr,r.dport):null;return(r.recv_queue.length||!o||o&&o.socket.readyState===o.socket.CLOSING||o&&o.socket.readyState===o.socket.CLOSED)&&(i|=65),(!o||o&&o.socket.readyState===o.socket.OPEN)&&(i|=4),(o&&o.socket.readyState===o.socket.CLOSING||o&&o.socket.readyState===o.socket.CLOSED)&&(i|=16),i},ioctl:function(r,i,o){switch(i){case 21531:var c=0;return r.recv_queue.length&&(c=r.recv_queue[0].data.length),v[o>>>2]=c,0;default:return 28}},close:function(r){if(r.server){try{r.server.close()}catch{}r.server=null}for(var i=Object.keys(r.peers),o=0;o<i.length;o++){var c=r.peers[i[o]];try{c.socket.close()}catch{}Te.websocket_sock_ops.removePeer(r,c)}return 0},bind:function(r,i,o){if(typeof r.saddr<"u"||typeof r.sport<"u")throw new p.ErrnoError(28);if(r.saddr=i,r.sport=o,r.type===2){r.server&&(r.server.close(),r.server=null);try{r.sock_ops.listen(r,0)}catch(c){if(c.name!=="ErrnoError"||c.errno!==138)throw c}}},connect:function(r,i,o){if(r.server)throw new p.ErrnoError(138);if(typeof r.daddr<"u"&&typeof r.dport<"u"){var c=Te.websocket_sock_ops.getPeer(r,r.daddr,r.dport);if(c)throw c.socket.readyState===c.socket.CONNECTING?new p.ErrnoError(7):new p.ErrnoError(30)}var _=Te.websocket_sock_ops.createPeer(r,i,o);throw r.daddr=_.addr,r.dport=_.port,new p.ErrnoError(26)},listen:function(r,i){if(!T)throw new p.ErrnoError(138);if(r.server)throw new p.ErrnoError(28);var o=An().Server,c=r.saddr;r.server=new o({host:c,port:r.sport}),e.websocket.emit("listen",r.stream.fd),r.server.on("connection",function(_){if(r.type===1){var g=Te.createSocket(r.family,r.type,r.protocol),b=Te.websocket_sock_ops.createPeer(g,_);g.daddr=b.addr,g.dport=b.port,r.pending.push(g),e.websocket.emit("connection",g.stream.fd)}else Te.websocket_sock_ops.createPeer(r,_),e.websocket.emit("connection",r.stream.fd)}),r.server.on("close",function(){e.websocket.emit("close",r.stream.fd),r.server=null}),r.server.on("error",function(_){r.error=23,e.websocket.emit("error",[r.stream.fd,r.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(r){if(!r.server||!r.pending.length)throw new p.ErrnoError(28);var i=r.pending.shift();return i.stream.flags=r.stream.flags,i},getname:function(r,i){var o,c;if(i){if(r.daddr===void 0||r.dport===void 0)throw new p.ErrnoError(53);o=r.daddr,c=r.dport}else o=r.saddr||0,c=r.sport||0;return{addr:o,port:c}},sendmsg:function(r,i,o,c,_,g){if(r.type===2){if((_===void 0||g===void 0)&&(_=r.daddr,g=r.dport),_===void 0||g===void 0)throw new p.ErrnoError(17)}else _=r.daddr,g=r.dport;var b=Te.websocket_sock_ops.getPeer(r,_,g);if(r.type===1){if(!b||b.socket.readyState===b.socket.CLOSING||b.socket.readyState===b.socket.CLOSED)throw new p.ErrnoError(53);if(b.socket.readyState===b.socket.CONNECTING)throw new p.ErrnoError(6)}ArrayBuffer.isView(i)&&(o+=i.byteOffset,i=i.buffer);var w;if(w=i.slice(o,o+c),r.type===2&&(!b||b.socket.readyState!==b.socket.OPEN))return(!b||b.socket.readyState===b.socket.CLOSING||b.socket.readyState===b.socket.CLOSED)&&(b=Te.websocket_sock_ops.createPeer(r,_,g)),b.dgram_send_queue.push(w),c;try{return b.socket.send(w),c}catch{throw new p.ErrnoError(28)}},recvmsg:function(r,i){if(r.type===1&&r.server)throw new p.ErrnoError(53);var o=r.recv_queue.shift();if(!o){if(r.type===1){var c=Te.websocket_sock_ops.getPeer(r,r.daddr,r.dport);if(!c)throw new p.ErrnoError(53);if(c.socket.readyState===c.socket.CLOSING||c.socket.readyState===c.socket.CLOSED)return null;throw new p.ErrnoError(6)}throw new p.ErrnoError(6)}var _=o.data.byteLength||o.data.length,g=o.data.byteOffset||0,b=o.data.buffer||o.data,w=Math.min(i,_),k={buffer:new Uint8Array(b,g,w),addr:o.addr,port:o.port};if(r.type===1&&w<_){var F=_-w;o.data=new Uint8Array(b,g+w,F),r.recv_queue.unshift(o)}return k}}};function Dt(r){var i=Te.getSocket(r);if(!i)throw new p.ErrnoError(8);return i}function kr(r){return v[ur()>>>2]=r,r}function Ut(r){return(r&255)+"."+(r>>8&255)+"."+(r>>16&255)+"."+(r>>24&255)}function Ar(r){var i="",o=0,c=0,_=0,g=0,b=0,w=0,k=[r[0]&65535,r[0]>>16,r[1]&65535,r[1]>>16,r[2]&65535,r[2]>>16,r[3]&65535,r[3]>>16],F=!0,x="";for(w=0;w<5;w++)if(k[w]!==0){F=!1;break}if(F){if(x=Ut(k[6]|k[7]<<16),k[5]===-1)return i="::ffff:",i+=x,i;if(k[5]===0)return i="::",x==="0.0.0.0"&&(x=""),x==="0.0.0.1"&&(x="1"),i+=x,i}for(o=0;o<8;o++)k[o]===0&&(o-_>1&&(b=0),_=o,b++),b>c&&(c=b,g=o-c+1);for(o=0;o<8;o++){if(c>1&&k[o]===0&&o>=g&&o<g+c){o===g&&(i+=":",g===0&&(i+=":"));continue}i+=Number(Lr(k[o]&65535)).toString(16),i+=o<7?":":""}return i}function Ke(r,i){var o=he[r>>>1],c=Lr(C[r+2>>>1]),_;switch(o){case 2:if(i!==16)return{errno:28};_=v[r+4>>>2],_=Ut(_);break;case 10:if(i!==28)return{errno:28};_=[v[r+8>>>2],v[r+12>>>2],v[r+16>>>2],v[r+20>>>2]],_=Ar(_);break;default:return{errno:5}}return{family:o,addr:_,port:c}}function Ht(r){for(var i=r.split("."),o=0;o<4;o++){var c=Number(i[o]);if(isNaN(c))return null;i[o]=c}return(i[0]|i[1]<<8|i[2]<<16|i[3]<<24)>>>0}function Rr(r){return parseInt(r)}function sn(r){var i,o,c,_,g=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,b=[];if(!g.test(r))return null;if(r==="::")return[0,0,0,0,0,0,0,0];for(r.startsWith("::")?r=r.replace("::","Z:"):r=r.replace("::",":Z:"),r.indexOf(".")>0?(r=r.replace(new RegExp("[.]","g"),":"),i=r.split(":"),i[i.length-4]=Rr(i[i.length-4])+Rr(i[i.length-3])*256,i[i.length-3]=Rr(i[i.length-2])+Rr(i[i.length-1])*256,i=i.slice(0,i.length-2)):i=r.split(":"),c=0,_=0,o=0;o<i.length;o++)if(typeof i[o]=="string")if(i[o]==="Z"){for(_=0;_<8-i.length+1;_++)b[o+_]=0;c=_-1}else b[o+c]=cr(parseInt(i[o],16));else b[o+c]=i[o];return[b[1]<<16|b[0],b[3]<<16|b[2],b[5]<<16|b[4],b[7]<<16|b[6]]}var Qe={address_map:{id:1,addrs:{},names:{}},lookup_name:function(r){var i=Ht(r);if(i!==null||(i=sn(r),i!==null))return r;var o;if(Qe.address_map.addrs[r])o=Qe.address_map.addrs[r];else{var c=Qe.address_map.id++;M(c<65535,"exceeded max address mappings of 65535"),o="172.29."+(c&255)+"."+(c&65280),Qe.address_map.names[o]=r,Qe.address_map.addrs[r]=o}return o},lookup_addr:function(r){return Qe.address_map.names[r]?Qe.address_map.names[r]:null}};function on(r,i,o){if(o&&r===0)return null;var c=Ke(r,i);if(c.errno)throw new p.ErrnoError(c.errno);return c.addr=Qe.lookup_addr(c.addr)||c.addr,c}function hs(r,i,o,c,_,g){try{var b=Dt(r),w=on(i,o);return b.sock_ops.bind(b,w.addr,w.port),0}catch(k){if(typeof p>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function Dr(r,i,o,c,_,g){try{var b=Dt(r),w=on(i,o);return b.sock_ops.connect(b,w.addr,w.port),0}catch(k){if(typeof p>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function ps(r,i,o,c){try{if(i=ae.getStr(i),i=ae.calculateAt(r,i),o&-8)return-28;var _=p.lookupPath(i,{follow:!0}),g=_.node;if(!g)return-44;var b="";return o&4&&(b+="r"),o&2&&(b+="w"),o&1&&(b+="x"),b&&p.nodePermissions(g,b)?-2:0}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function tr(r,i,o){ae.varargs=o;try{var c=ae.getStreamFromFD(r);switch(i){case 0:{var _=ae.get();if(_<0)return-28;var g;return g=p.createStream(c,_),g.fd}case 1:case 2:return 0;case 3:return c.flags;case 4:{var _=ae.get();return c.flags|=_,0}case 5:{var _=ae.get(),b=0;return he[_+b>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return kr(28),-1;default:return-28}}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function ms(r,i){try{var o=ae.getStreamFromFD(r);return ae.doStat(p.stat,o.path,i)}catch(c){if(typeof p>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function qt(r,i){return i+2097152>>>0<4194305-!!r?(r>>>0)+i*4294967296:NaN}function gs(r,i,o){try{var c=qt(i,o);return isNaN(c)?-61:(p.ftruncate(r,c),0)}catch(_){if(typeof p>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function rr(r,i,o){return at(r,te,i,o)}function ys(r,i,o){try{var c=ae.getStreamFromFD(r);c.getdents||(c.getdents=p.readdir(c.path));for(var _=280,g=0,b=p.llseek(c,0,1),w=Math.floor(b/_);w<c.getdents.length&&g+_<=o;){var k,F,x=c.getdents[w];if(x===".")k=c.node.id,F=4;else if(x===".."){var G=p.lookupPath(c.path,{parent:!0});k=G.node.id,F=4}else{var H=p.lookupNode(c.node,x);k=H.id,F=p.isChrdev(H.mode)?2:p.isDir(H.mode)?4:p.isLink(H.mode)?10:8}ee=[k>>>0,(L=k,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[i+g>>>2]=ee[0],v[i+g+4>>>2]=ee[1],ee=[(w+1)*_>>>0,(L=(w+1)*_,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[i+g+8>>>2]=ee[0],v[i+g+12>>>2]=ee[1],he[i+g+16>>>1]=280,X[i+g+18>>>0]=F,rr(x,i+g+19,256),g+=_,w+=1}return p.llseek(c,w*_,0),g}catch($){if(typeof p>"u"||$.name!=="ErrnoError")throw $;return-$.errno}}function an(r,i,o,c,_){switch(i){case 2:o=Ht(o),en(r,16),_&&(v[_>>>2]=16),he[r>>>1]=i,v[r+4>>>2]=o,he[r+2>>>1]=cr(c);break;case 10:o=sn(o),en(r,28),_&&(v[_>>>2]=28),v[r>>>2]=i,v[r+8>>>2]=o[0],v[r+12>>>2]=o[1],v[r+16>>>2]=o[2],v[r+20>>>2]=o[3],he[r+2>>>1]=cr(c);break;default:return 5}return 0}function bs(r,i,o,c,_,g){try{var b=Dt(r);if(!b.daddr)return-53;var w=an(i,b.family,Qe.lookup_name(b.daddr),b.dport,o);return 0}catch(k){if(typeof p>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function vs(r,i,o,c,_,g){try{var b=Dt(r);return i===1&&o===4?(v[c>>>2]=b.error,v[_>>>2]=4,b.error=null,0):-50}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function ws(r,i,o){ae.varargs=o;try{var c=ae.getStreamFromFD(r);switch(i){case 21509:case 21505:return c.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return c.tty?0:-59;case 21519:{if(!c.tty)return-59;var _=ae.get();return v[_>>>2]=0,0}case 21520:return c.tty?-28:-59;case 21531:{var _=ae.get();return p.ioctl(c,i,_)}case 21523:return c.tty?0:-59;case 21524:return c.tty?0:-59;default:return-28}}catch(g){if(typeof p>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Es(r,i){try{return r=ae.getStr(r),ae.doStat(p.lstat,r,i)}catch(o){if(typeof p>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function Ss(r,i,o){try{return i=ae.getStr(i),i=ae.calculateAt(r,i),i=Se.normalize(i),i[i.length-1]==="/"&&(i=i.substr(0,i.length-1)),p.mkdir(i,o,0),0}catch(c){if(typeof p>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function ks(r,i,o,c){try{i=ae.getStr(i);var _=c&256,g=c&4096;return c=c&-6401,i=ae.calculateAt(r,i,g),ae.doStat(_?p.lstat:p.stat,i,o)}catch(b){if(typeof p>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function As(r,i,o,c){ae.varargs=c;try{i=ae.getStr(i),i=ae.calculateAt(r,i);var _=c?ae.get():0;return p.open(i,o,_).fd}catch(g){if(typeof p>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Rs(r,i,o,c,_,g){try{var b=Dt(r),w=b.sock_ops.recvmsg(b,o);if(!w)return 0;if(_)var k=an(_,b.family,Qe.lookup_name(w.addr),w.port,g);return te.set(w.buffer,i>>>0),w.buffer.byteLength}catch(F){if(typeof p>"u"||F.name!=="ErrnoError")throw F;return-F.errno}}function Ds(r,i,o,c){try{return i=ae.getStr(i),c=ae.getStr(c),i=ae.calculateAt(r,i),c=ae.calculateAt(o,c),p.rename(i,c),0}catch(_){if(typeof p>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Ts(r){try{return r=ae.getStr(r),p.rmdir(r),0}catch(i){if(typeof p>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Ps(r,i,o,c,_,g){try{var b=Dt(r),w=on(_,g,!0);return w?b.sock_ops.sendmsg(b,X,i,o,w.addr,w.port):p.write(b.stream,X,i,o)}catch(k){if(typeof p>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function Fs(r,i,o){try{var c=Te.createSocket(r,i,o);return c.stream.fd}catch(_){if(typeof p>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Cs(r,i){try{return r=ae.getStr(r),ae.doStat(p.stat,r,i)}catch(o){if(typeof p>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function nr(r,i,o){try{return i=ae.getStr(i),i=ae.calculateAt(r,i),o===0?p.unlink(i):o===512?p.rmdir(i):Q("Invalid flags passed to unlinkat"),0}catch(c){if(typeof p>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}var xs=!0;function Ms(){return xs}function Os(r){return j[r>>>2]+v[r+4>>>2]*4294967296}function ir(r){return r%4===0&&(r%100!==0||r%400===0)}var Ln=[0,31,60,91,121,152,182,213,244,274,305,335],Ls=[0,31,59,90,120,151,181,212,243,273,304,334];function Is(r){var i=ir(r.getFullYear()),o=i?Ln:Ls,c=o[r.getMonth()]+r.getDate()-1;return c}function Ns(r,i){var o=new Date(Os(r)*1e3);v[i>>>2]=o.getSeconds(),v[i+4>>>2]=o.getMinutes(),v[i+8>>>2]=o.getHours(),v[i+12>>>2]=o.getDate(),v[i+16>>>2]=o.getMonth(),v[i+20>>>2]=o.getFullYear()-1900,v[i+24>>>2]=o.getDay();var c=Is(o)|0;v[i+28>>>2]=c,v[i+36>>>2]=-(o.getTimezoneOffset()*60);var _=new Date(o.getFullYear(),0,1),g=new Date(o.getFullYear(),6,1).getTimezoneOffset(),b=_.getTimezoneOffset(),w=(g!=b&&o.getTimezoneOffset()==Math.min(b,g))|0;v[i+32>>>2]=w}function In(r){var i=_t(r)+1,o=$t(i);return o&&rr(r,o,i),o}function Bs(r,i,o){var c=new Date().getFullYear(),_=new Date(c,0,1),g=new Date(c,6,1),b=_.getTimezoneOffset(),w=g.getTimezoneOffset(),k=Math.max(b,w);j[r>>>2]=k*60,v[i>>>2]=+(b!=w);function F(P){var U=P.toTimeString().match(/\(([A-Za-z ]+)\)$/);return U?U[1]:"GMT"}var x=F(_),G=F(g),H=In(x),$=In(G);w<b?(j[o>>>2]=H,j[o+4>>>2]=$):(j[o>>>2]=$,j[o+4>>>2]=H)}function Us(){Q("")}function Hs(r,i){Q(Sr)}function qs(r,i){return globalThis.DUCKDB_RUNTIME.createDirectory(e,r,i)}function $s(r,i){return globalThis.DUCKDB_RUNTIME.checkDirectory(e,r,i)}function Ws(r,i){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(e,r,i)}function js(r,i){return globalThis.DUCKDB_RUNTIME.removeDirectory(e,r,i)}function zs(r){return globalThis.DUCKDB_RUNTIME.closeFile(e,r)}function Gs(r,i,o,c){return globalThis.DUCKDB_RUNTIME.checkFile(e,r,i,o,c)}function Vs(r){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(e,r)}function Ys(r,i,o,c){return globalThis.DUCKDB_RUNTIME.moveFile(e,r,i,o,c)}function Ks(r,i){return globalThis.DUCKDB_RUNTIME.openFile(e,r,i)}function Xs(r,i,o,c){return globalThis.DUCKDB_RUNTIME.readFile(e,r,i,o,c)}function Qs(r,i){return globalThis.DUCKDB_RUNTIME.truncateFile(e,r,i)}function Js(r,i,o,c){return globalThis.DUCKDB_RUNTIME.writeFile(e,r,i,o,c)}function Zs(r){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(r)}function Nn(r,i){return globalThis.DUCKDB_RUNTIME.glob(e,r,i)}function eo(r){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(e,r)}function Bn(r,i,o,c,_,g){return globalThis.DUCKDB_RUNTIME.callScalarUDF(e,r,i,o,c,_,g)}function to(){return Date.now()}function Un(){return 4294901760}function ro(){return Un()}var Tr;T&&(global.performance=require("perf_hooks").performance),Tr=()=>performance.now();function no(r,i,o){te.copyWithin(r>>>0,i>>>0,i+o>>>0)}function sr(r){var i=J.buffer,o=r-i.byteLength+65535>>>16;try{return J.grow(o),ze(),1}catch{}}function io(r){var i=te.length;r=r>>>0;var o=Un();if(r>o)return!1;for(var c=(k,F)=>k+(F-k%F)%F,_=1;_<=4;_*=2){var g=i*(1+.2/_);g=Math.min(g,r+100663296);var b=Math.min(o,c(Math.max(r,g),65536)),w=sr(b);if(w)return!0}return!1}var un={};function so(){return E||"./this.program"}function or(){if(!or.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:so()};for(var o in un)un[o]===void 0?delete i[o]:i[o]=un[o];var c=[];for(var o in i)c.push(`${o}=${i[o]}`);or.strings=c}return or.strings}function oo(r,i){for(var o=0;o<r.length;++o)X[i++>>>0]=r.charCodeAt(o);X[i>>>0]=0}function Hn(r,i){var o=0;return or().forEach(function(c,_){var g=i+o;j[r+_*4>>>2]=g,oo(c,g),o+=c.length+1}),0}function ao(r,i){var o=or();j[r>>>2]=o.length;var c=0;return o.forEach(function(_){c+=_.length+1}),j[i>>>2]=c,0}function qn(r){try{var i=ae.getStreamFromFD(r);return p.close(i),0}catch(o){if(typeof p>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function uo(r,i){try{var o=0,c=0,_=0,g=ae.getStreamFromFD(r),b=g.tty?2:p.isDir(g.mode)?3:p.isLink(g.mode)?7:4;return X[i>>>0]=b,he[i+2>>>1]=_,ee=[o>>>0,(L=o,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[i+8>>>2]=ee[0],v[i+12>>>2]=ee[1],ee=[c>>>0,(L=c,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[i+16>>>2]=ee[0],v[i+20>>>2]=ee[1],0}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return w.errno}}function $n(r,i,o,c){for(var _=0,g=0;g<o;g++){var b=j[i>>>2],w=j[i+4>>>2];i+=8;var k=p.read(r,X,b,w,c);if(k<0)return-1;if(_+=k,k<w)break;typeof c<"u"&&(c+=k)}return _}function co(r,i,o,c,_,g){try{var b=qt(c,_);if(isNaN(b))return 61;var w=ae.getStreamFromFD(r),k=$n(w,i,o,b);return j[g>>>2]=k,0}catch(F){if(typeof p>"u"||F.name!=="ErrnoError")throw F;return F.errno}}function Wn(r,i,o,c){for(var _=0,g=0;g<o;g++){var b=j[i>>>2],w=j[i+4>>>2];i+=8;var k=p.write(r,X,b,w,c);if(k<0)return-1;_+=k,typeof c<"u"&&(c+=k)}return _}function lo(r,i,o,c,_,g){try{var b=qt(c,_);if(isNaN(b))return 61;var w=ae.getStreamFromFD(r),k=Wn(w,i,o,b);return j[g>>>2]=k,0}catch(F){if(typeof p>"u"||F.name!=="ErrnoError")throw F;return F.errno}}function fo(r,i,o,c){try{var _=ae.getStreamFromFD(r),g=$n(_,i,o);return j[c>>>2]=g,0}catch(b){if(typeof p>"u"||b.name!=="ErrnoError")throw b;return b.errno}}function _o(r,i,o,c,_){try{var g=qt(i,o);if(isNaN(g))return 61;var b=ae.getStreamFromFD(r);return p.llseek(b,g,c),ee=[b.position>>>0,(L=b.position,+Math.abs(L)>=1?L>0?+Math.floor(L/4294967296)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],v[_>>>2]=ee[0],v[_+4>>>2]=ee[1],b.getdents&&g===0&&c===0&&(b.getdents=null),0}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return w.errno}}function ho(r){try{var i=ae.getStreamFromFD(r);return i.stream_ops&&i.stream_ops.fsync?i.stream_ops.fsync(i):0}catch(o){if(typeof p>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function po(r,i,o,c){try{var _=ae.getStreamFromFD(r),g=Wn(_,i,o);return j[c>>>2]=g,0}catch(b){if(typeof p>"u"||b.name!=="ErrnoError")throw b;return b.errno}}function jn(r,i,o,c){var _=0,g=0,b=0,w=0,k=0,F=0,x;function G(H,$,P,U,ne,Z){var O,W,be,ce;return W=H===10?28:16,ne=H===10?Ar(ne):Ut(ne),O=$t(W),ce=an(O,H,ne,Z),M(!ce),be=$t(32),v[be+4>>>2]=H,v[be+8>>>2]=$,v[be+12>>>2]=P,j[be+24>>>2]=U,j[be+20>>>2]=O,H===10?v[be+16>>>2]=28:v[be+16>>>2]=16,v[be+28>>>2]=0,be}if(o&&(b=v[o>>>2],w=v[o+4>>>2],k=v[o+8>>>2],F=v[o+12>>>2]),k&&!F&&(F=k===2?17:6),!k&&F&&(k=F===17?2:1),F===0&&(F=6),k===0&&(k=1),!r&&!i)return-2;if(b&-1088||o!==0&&v[o>>>2]&2&&!r)return-1;if(b&32)return-2;if(k!==0&&k!==1&&k!==2)return-7;if(w!==0&&w!==2&&w!==10)return-6;if(i&&(i=tt(i),g=parseInt(i,10),isNaN(g)))return b&1024?-2:-8;if(!r)return w===0&&(w=2),b&1||(w===2?_=Or(2130706433):_=[0,0,0,1]),x=G(w,k,F,null,_,g),j[c>>>2]=x,0;if(r=tt(r),_=Ht(r),_!==null)if(w===0||w===2)w=2;else if(w===10&&b&8)_=[0,0,Or(65535),_],w=10;else return-2;else if(_=sn(r),_!==null)if(w===0||w===10)w=10;else return-2;return _!=null?(x=G(w,k,F,r,_,g),j[c>>>2]=x,0):b&4?-2:(r=Qe.lookup_name(r),_=Ht(r),w===0?w=2:w===10&&(_=[0,0,Or(65535),_]),x=G(w,k,F,null,_,g),j[c>>>2]=x,0)}function zn(r,i){return It(te.subarray(r>>>0,r+i>>>0)),0}function mo(r,i,o,c,_,g,b){var w=Ke(r,i);if(w.errno)return-6;var k=w.port,F=w.addr,x=!1;if(o&&c){var G;if(b&1||!(G=Qe.lookup_addr(F))){if(b&8)return-2}else F=G;var H=rr(F,o,c);H+1>=c&&(x=!0)}if(_&&g){k=""+k;var H=rr(k,_,g);H+1>=g&&(x=!0)}return x?-12:0}function Gn(r,i){for(var o=0,c=0;c<=i;o+=r[c++]);return o}var Vn=[31,29,31,30,31,30,31,31,30,31,30,31],Yn=[31,28,31,30,31,30,31,31,30,31,30,31];function go(r,i){for(var o=new Date(r.getTime());i>0;){var c=ir(o.getFullYear()),_=o.getMonth(),g=(c?Vn:Yn)[_];if(i>g-o.getDate())i-=g-o.getDate()+1,o.setDate(1),_<11?o.setMonth(_+1):(o.setMonth(0),o.setFullYear(o.getFullYear()+1));else return o.setDate(o.getDate()+i),o}return o}function Kn(r,i){X.set(r,i>>>0)}function yo(r,i,o,c){var _=v[c+40>>>2],g={tm_sec:v[c>>>2],tm_min:v[c+4>>>2],tm_hour:v[c+8>>>2],tm_mday:v[c+12>>>2],tm_mon:v[c+16>>>2],tm_year:v[c+20>>>2],tm_wday:v[c+24>>>2],tm_yday:v[c+28>>>2],tm_isdst:v[c+32>>>2],tm_gmtoff:v[c+36>>>2],tm_zone:_?tt(_):""},b=tt(o),w={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var k in w)b=b.replace(new RegExp(k,"g"),w[k]);var F=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=["January","February","March","April","May","June","July","August","September","October","November","December"];function G(O,W,be){for(var ce=typeof O=="number"?O.toString():O||"";ce.length<W;)ce=be[0]+ce;return ce}function H(O,W){return G(O,W,"0")}function $(O,W){function be(Me){return Me<0?-1:Me>0?1:0}var ce;return(ce=be(O.getFullYear()-W.getFullYear()))===0&&(ce=be(O.getMonth()-W.getMonth()))===0&&(ce=be(O.getDate()-W.getDate())),ce}function P(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function U(O){var W=go(new Date(O.tm_year+1900,0,1),O.tm_yday),be=new Date(W.getFullYear(),0,4),ce=new Date(W.getFullYear()+1,0,4),Me=P(be),Ce=P(ce);return $(Me,W)<=0?$(Ce,W)<=0?W.getFullYear()+1:W.getFullYear():W.getFullYear()-1}var ne={"%a":function(O){return F[O.tm_wday].substring(0,3)},"%A":function(O){return F[O.tm_wday]},"%b":function(O){return x[O.tm_mon].substring(0,3)},"%B":function(O){return x[O.tm_mon]},"%C":function(O){var W=O.tm_year+1900;return H(W/100|0,2)},"%d":function(O){return H(O.tm_mday,2)},"%e":function(O){return G(O.tm_mday,2," ")},"%g":function(O){return U(O).toString().substring(2)},"%G":function(O){return U(O)},"%H":function(O){return H(O.tm_hour,2)},"%I":function(O){var W=O.tm_hour;return W==0?W=12:W>12&&(W-=12),H(W,2)},"%j":function(O){return H(O.tm_mday+Gn(ir(O.tm_year+1900)?Vn:Yn,O.tm_mon-1),3)},"%m":function(O){return H(O.tm_mon+1,2)},"%M":function(O){return H(O.tm_min,2)},"%n":function(){return`
`},"%p":function(O){return O.tm_hour>=0&&O.tm_hour<12?"AM":"PM"},"%S":function(O){return H(O.tm_sec,2)},"%t":function(){return"	"},"%u":function(O){return O.tm_wday||7},"%U":function(O){var W=O.tm_yday+7-O.tm_wday;return H(Math.floor(W/7),2)},"%V":function(O){var W=Math.floor((O.tm_yday+7-(O.tm_wday+6)%7)/7);if((O.tm_wday+371-O.tm_yday-2)%7<=2&&W++,W){if(W==53){var ce=(O.tm_wday+371-O.tm_yday)%7;ce!=4&&(ce!=3||!ir(O.tm_year))&&(W=1)}}else{W=52;var be=(O.tm_wday+7-O.tm_yday-1)%7;(be==4||be==5&&ir(O.tm_year%400-1))&&W++}return H(W,2)},"%w":function(O){return O.tm_wday},"%W":function(O){var W=O.tm_yday+7-(O.tm_wday+6)%7;return H(Math.floor(W/7),2)},"%y":function(O){return(O.tm_year+1900).toString().substring(2)},"%Y":function(O){return O.tm_year+1900},"%z":function(O){var W=O.tm_gmtoff,be=W>=0;return W=Math.abs(W)/60,W=W/60*100+W%60,(be?"+":"-")+("0000"+W).slice(-4)},"%Z":function(O){return O.tm_zone},"%%":function(){return"%"}};b=b.replace(/%%/g,"\0\0");for(var k in ne)b.includes(k)&&(b=b.replace(new RegExp(k,"g"),ne[k](g)));b=b.replace(/\0\0/g,"%");var Z=Nt(b,!1);return Z.length>i?0:(Kn(Z,r),Z.length-1)}function bo(r,i,o,c,_){return yo(r,i,o,c)}function vo(){I("missing function: unzClose"),Q(-1)}function wo(){I("missing function: unzCloseCurrentFile"),Q(-1)}function Eo(){I("missing function: unzGetCurrentFileInfo"),Q(-1)}function So(){I("missing function: unzGetCurrentFileInfo64"),Q(-1)}function ko(){I("missing function: unzGetGlobalInfo"),Q(-1)}function Ao(){I("missing function: unzGoToFirstFile"),Q(-1)}function Ro(){I("missing function: unzGoToNextFile"),Q(-1)}function Do(){I("missing function: unzLocateFile"),Q(-1)}function To(){I("missing function: unzOpen2"),Q(-1)}function Po(){I("missing function: unzOpenCurrentFile"),Q(-1)}function Fo(){I("missing function: unzReadCurrentFile"),Q(-1)}function Co(r){ge=r,Vr()||(e.onExit&&e.onExit(r),V=!0),A(r,new Jr(r))}function xo(r,i){ge=r,Co(r)}function Xn(r){if(r instanceof Jr||r=="unwind")return ge;A(1,r)}function Pr(r){var i=e["_"+r];return i}function Fr(r){var i=_t(r)+1,o=fr(i);return rr(r,o,i),o}function Mo(r,i,o,c,_){var g={string:P=>{var U=0;return P!=null&&P!==0&&(U=Fr(P)),U},array:P=>{var U=fr(P.length);return Kn(P,U),U}};function b(P){return i==="string"?tt(P):i==="boolean"?!!P:P}var w=Pr(r),k=[],F=0;if(c)for(var x=0;x<c.length;x++){var G=g[o[x]];G?(F===0&&(F=Wt()),k[x]=G(c[x])):k[x]=c[x]}var H=w.apply(null,k);function $(P){return F!==0&&fn(F),b(P)}return H=$(H),H}var Oo=function(r,i,o,c){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=p.nextInode++,this.name=i,this.mode=o,this.node_ops={},this.stream_ops={},this.rdev=c},Cr=365,ar=146;Object.defineProperties(Oo.prototype,{read:{get:function(){return(this.mode&Cr)===Cr},set:function(r){r?this.mode|=Cr:this.mode&=~Cr}},write:{get:function(){return(this.mode&ar)===ar},set:function(r){r?this.mode|=ar:this.mode&=~ar}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=Oo,p.createPreloadedFile=Bt,p.staticInit();var Lo={g:es,T:ts,U:rs,m:ns,o:is,c:ss,z:os,f:as,b:us,n:cs,h:ls,a:fs,Aa:dt,ua:nn,ya:hs,xa:Dr,qa:ps,d:tr,pa:ms,N:gs,ka:ys,sa:bs,ta:vs,I:ws,ma:Es,la:Ss,na:ks,J:As,va:Rs,ia:Ds,D:Ts,wa:Ps,F:Fs,oa:Cs,E:nr,Ca:Ms,W:Ns,X:Bs,e:Us,Ba:Hs,ba:qs,ca:$s,$:Ws,aa:js,B:zs,Z:Gs,M:Vs,_:Ys,ea:Ks,p:Xs,da:Qs,C:Js,fa:Zs,Y:Nn,A:eo,ga:Bn,K:to,Da:ro,i:Tr,za:no,Fa:io,L:Hn,R:ao,k:qn,V:uo,P:co,O:lo,H:fo,Q:_o,ja:ho,u:po,G:jn,ha:zn,ra:mo,Ea:bo,j:vo,t:wo,x:Eo,q:So,S:ko,y:Ao,w:Ro,s:Do,v:To,r:Po,l:Fo},Tc=Zi(),Io=function(){return(Io=e.asm.Ha).apply(null,arguments)},Qn=e._main=function(){return(Qn=e._main=e.asm.Ia).apply(null,arguments)},No=e._duckdb_web_fs_glob_add_path=function(){return(No=e._duckdb_web_fs_glob_add_path=e.asm.Ka).apply(null,arguments)},Bo=e._duckdb_web_clear_response=function(){return(Bo=e._duckdb_web_clear_response=e.asm.La).apply(null,arguments)},Uo=e._duckdb_web_fail_with=function(){return(Uo=e._duckdb_web_fail_with=e.asm.Ma).apply(null,arguments)},Ho=e._duckdb_web_reset=function(){return(Ho=e._duckdb_web_reset=e.asm.Na).apply(null,arguments)},qo=e._duckdb_web_connect=function(){return(qo=e._duckdb_web_connect=e.asm.Oa).apply(null,arguments)},$o=e._duckdb_web_disconnect=function(){return($o=e._duckdb_web_disconnect=e.asm.Pa).apply(null,arguments)},Wo=e._duckdb_web_flush_files=function(){return(Wo=e._duckdb_web_flush_files=e.asm.Qa).apply(null,arguments)},jo=e._duckdb_web_flush_file=function(){return(jo=e._duckdb_web_flush_file=e.asm.Ra).apply(null,arguments)},zo=e._duckdb_web_open=function(){return(zo=e._duckdb_web_open=e.asm.Sa).apply(null,arguments)},Go=e._duckdb_web_get_global_file_info=function(){return(Go=e._duckdb_web_get_global_file_info=e.asm.Ta).apply(null,arguments)},Vo=e._duckdb_web_collect_file_stats=function(){return(Vo=e._duckdb_web_collect_file_stats=e.asm.Ua).apply(null,arguments)},Yo=e._duckdb_web_export_file_stats=function(){return(Yo=e._duckdb_web_export_file_stats=e.asm.Va).apply(null,arguments)},Ko=e._duckdb_web_fs_drop_file=function(){return(Ko=e._duckdb_web_fs_drop_file=e.asm.Wa).apply(null,arguments)},Xo=e._duckdb_web_fs_drop_files=function(){return(Xo=e._duckdb_web_fs_drop_files=e.asm.Xa).apply(null,arguments)},Qo=e._duckdb_web_fs_glob_file_infos=function(){return(Qo=e._duckdb_web_fs_glob_file_infos=e.asm.Ya).apply(null,arguments)},Jo=e._duckdb_web_fs_get_file_info_by_id=function(){return(Jo=e._duckdb_web_fs_get_file_info_by_id=e.asm.Za).apply(null,arguments)},Zo=e._duckdb_web_fs_get_file_info_by_name=function(){return(Zo=e._duckdb_web_fs_get_file_info_by_name=e.asm._a).apply(null,arguments)},ea=e._duckdb_web_fs_register_file_url=function(){return(ea=e._duckdb_web_fs_register_file_url=e.asm.$a).apply(null,arguments)},ta=e._duckdb_web_fs_register_file_buffer=function(){return(ta=e._duckdb_web_fs_register_file_buffer=e.asm.ab).apply(null,arguments)},ra=e._duckdb_web_copy_file_to_buffer=function(){return(ra=e._duckdb_web_copy_file_to_buffer=e.asm.bb).apply(null,arguments)},na=e._duckdb_web_copy_file_to_path=function(){return(na=e._duckdb_web_copy_file_to_path=e.asm.cb).apply(null,arguments)},ia=e._duckdb_web_get_version=function(){return(ia=e._duckdb_web_get_version=e.asm.db).apply(null,arguments)},sa=e._duckdb_web_get_feature_flags=function(){return(sa=e._duckdb_web_get_feature_flags=e.asm.eb).apply(null,arguments)},oa=e._duckdb_web_tokenize=function(){return(oa=e._duckdb_web_tokenize=e.asm.fb).apply(null,arguments)},aa=e._duckdb_web_udf_scalar_create=function(){return(aa=e._duckdb_web_udf_scalar_create=e.asm.gb).apply(null,arguments)},ua=e._duckdb_web_prepared_create=function(){return(ua=e._duckdb_web_prepared_create=e.asm.hb).apply(null,arguments)},ca=e._duckdb_web_prepared_close=function(){return(ca=e._duckdb_web_prepared_close=e.asm.ib).apply(null,arguments)},la=e._duckdb_web_prepared_run=function(){return(la=e._duckdb_web_prepared_run=e.asm.jb).apply(null,arguments)},fa=e._duckdb_web_prepared_send=function(){return(fa=e._duckdb_web_prepared_send=e.asm.kb).apply(null,arguments)},da=e._duckdb_web_query_run=function(){return(da=e._duckdb_web_query_run=e.asm.lb).apply(null,arguments)},_a=e._duckdb_web_pending_query_start=function(){return(_a=e._duckdb_web_pending_query_start=e.asm.mb).apply(null,arguments)},ha=e._duckdb_web_pending_query_poll=function(){return(ha=e._duckdb_web_pending_query_poll=e.asm.nb).apply(null,arguments)},pa=e._duckdb_web_pending_query_cancel=function(){return(pa=e._duckdb_web_pending_query_cancel=e.asm.ob).apply(null,arguments)},ma=e._duckdb_web_query_fetch_results=function(){return(ma=e._duckdb_web_query_fetch_results=e.asm.pb).apply(null,arguments)},Jn=e._duckdb_web_get_tablenames=function(){return(Jn=e._duckdb_web_get_tablenames=e.asm.qb).apply(null,arguments)},xr=e._duckdb_web_insert_arrow_from_ipc_stream=function(){return(xr=e._duckdb_web_insert_arrow_from_ipc_stream=e.asm.rb).apply(null,arguments)},Mr=e._duckdb_web_insert_csv_from_path=function(){return(Mr=e._duckdb_web_insert_csv_from_path=e.asm.sb).apply(null,arguments)},cn=e._duckdb_web_insert_json_from_path=function(){return(cn=e._duckdb_web_insert_json_from_path=e.asm.tb).apply(null,arguments)},ur=function(){return(ur=e.asm.ub).apply(null,arguments)},Or=function(){return(Or=e.asm.vb).apply(null,arguments)},cr=function(){return(cr=e.asm.wb).apply(null,arguments)},Lr=function(){return(Lr=e.asm.xb).apply(null,arguments)},$t=e._malloc=function(){return($t=e._malloc=e.asm.yb).apply(null,arguments)},ln=e._free=function(){return(ln=e._free=e.asm.zb).apply(null,arguments)},lr=function(){return(lr=e.asm.Ab).apply(null,arguments)},Wt=function(){return(Wt=e.asm.Bb).apply(null,arguments)},fn=function(){return(fn=e.asm.Cb).apply(null,arguments)},fr=function(){return(fr=e.asm.Db).apply(null,arguments)},dn=function(){return(dn=e.asm.Eb).apply(null,arguments)};e.stackAlloc=fr,e.stackSave=Wt,e.stackRestore=fn,e.ccall=Mo;var s;ft=function r(){s||l(),s||(ft=r)};function a(){var r=Qn,i=0,o=0;try{var c=r(i,o);return xo(c,!0),c}catch(_){return Xn(_)}}function l(){if(qe>0||(Y(),qe>0))return;function r(){s||(s=!0,e.calledRun=!0,!V&&(De(),z(),u(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),d&&a(),pe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),r()},1)):r()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();var d=!0;return e.noInitialRun&&(d=!1),l(),t.ready}})();typeof hi=="object"&&typeof Ha=="object"?Ha.exports=Ua:typeof define=="function"&&define.amd?define([],function(){return Ua}):typeof hi=="object"&&(hi.DuckDB=Ua)});var Wl=q(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.splitWhen=Hr.flatten=void 0;function up(n){return n.reduce((t,e)=>[].concat(t,e),[])}Hr.flatten=up;function cp(n,t){let e=[[]],u=0;for(let f of n)t(f)?(u++,e[u]=[]):e[u].push(f);return e}Hr.splitWhen=cp});var jl=q(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.isEnoentCodeError=void 0;function lp(n){return n.code==="ENOENT"}Ei.isEnoentCodeError=lp});var zl=q(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.createDirentFromStats=void 0;var za=class{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}};function fp(n,t){return new za(n,t)}Si.createDirentFromStats=fp});var Kl=q(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.convertPosixPathToPattern=Ue.convertWindowsPathToPattern=Ue.convertPathToPattern=Ue.escapePosixPath=Ue.escapeWindowsPath=Ue.escape=Ue.removeLeadingDotSegment=Ue.makeAbsolute=Ue.unixify=void 0;var dp=require("os"),_p=require("path"),Gl=dp.platform()==="win32",hp=2,pp=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,mp=/(\\?)([(){}]|^!|[!+@](?=\())/g,gp=/^\\\\([.?])/,yp=/\\(?![!()+@{}])/g;function bp(n){return n.replace(/\\/g,"/")}Ue.unixify=bp;function vp(n,t){return _p.resolve(n,t)}Ue.makeAbsolute=vp;function wp(n){if(n.charAt(0)==="."){let t=n.charAt(1);if(t==="/"||t==="\\")return n.slice(hp)}return n}Ue.removeLeadingDotSegment=wp;Ue.escape=Gl?Ga:Va;function Ga(n){return n.replace(mp,"\\$2")}Ue.escapeWindowsPath=Ga;function Va(n){return n.replace(pp,"\\$2")}Ue.escapePosixPath=Va;Ue.convertPathToPattern=Gl?Vl:Yl;function Vl(n){return Ga(n).replace(gp,"//$1").replace(yp,"/")}Ue.convertWindowsPathToPattern=Vl;function Yl(n){return Va(n)}Ue.convertPosixPathToPattern=Yl});var Ql=q((rv,Xl)=>{Xl.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1}});var ef=q((nv,Zl)=>{var Ep=Ql(),Jl={"{":"}","(":")","[":"]"},Sp=function(n){if(n[0]==="!")return!0;for(var t=0,e=-2,u=-2,f=-2,h=-2,y=-2;t<n.length;){if(n[t]==="*"||n[t+1]==="?"&&/[\].+)]/.test(n[t])||u!==-1&&n[t]==="["&&n[t+1]!=="]"&&(u<t&&(u=n.indexOf("]",t)),u>t&&(y===-1||y>u||(y=n.indexOf("\\",t),y===-1||y>u)))||f!==-1&&n[t]==="{"&&n[t+1]!=="}"&&(f=n.indexOf("}",t),f>t&&(y=n.indexOf("\\",t),y===-1||y>f))||h!==-1&&n[t]==="("&&n[t+1]==="?"&&/[:!=]/.test(n[t+2])&&n[t+3]!==")"&&(h=n.indexOf(")",t),h>t&&(y=n.indexOf("\\",t),y===-1||y>h))||e!==-1&&n[t]==="("&&n[t+1]!=="|"&&(e<t&&(e=n.indexOf("|",t)),e!==-1&&n[e+1]!==")"&&(h=n.indexOf(")",e),h>e&&(y=n.indexOf("\\",e),y===-1||y>h))))return!0;if(n[t]==="\\"){var E=n[t+1];t+=2;var A=Jl[E];if(A){var R=n.indexOf(A,t);R!==-1&&(t=R+1)}if(n[t]==="!")return!0}else t++}return!1},kp=function(n){if(n[0]==="!")return!0;for(var t=0;t<n.length;){if(/[*?{}()[\]]/.test(n[t]))return!0;if(n[t]==="\\"){var e=n[t+1];t+=2;var u=Jl[e];if(u){var f=n.indexOf(u,t);f!==-1&&(t=f+1)}if(n[t]==="!")return!0}else t++}return!1};Zl.exports=function(t,e){if(typeof t!="string"||t==="")return!1;if(Ep(t))return!0;var u=Sp;return e&&e.strict===!1&&(u=kp),u(t)}});var rf=q((iv,tf)=>{"use strict";var Ap=ef(),Rp=require("path").posix.dirname,Dp=require("os").platform()==="win32",Ya="/",Tp=/\\/g,Pp=/[\{\[].*[\}\]]$/,Fp=/(^|[^\\])([\{\[]|\([^\)]+$)/,Cp=/\\([\!\*\?\|\[\]\(\)\{\}])/g;tf.exports=function(t,e){var u=Object.assign({flipBackslashes:!0},e);u.flipBackslashes&&Dp&&t.indexOf(Ya)<0&&(t=t.replace(Tp,Ya)),Pp.test(t)&&(t+=Ya),t+="a";do t=Rp(t);while(Ap(t)||Fp.test(t));return t.replace(Cp,"$1")}});var ki=q(ut=>{"use strict";ut.isInteger=n=>typeof n=="number"?Number.isInteger(n):typeof n=="string"&&n.trim()!==""?Number.isInteger(Number(n)):!1;ut.find=(n,t)=>n.nodes.find(e=>e.type===t);ut.exceedsLimit=(n,t,e=1,u)=>u===!1||!ut.isInteger(n)||!ut.isInteger(t)?!1:(Number(t)-Number(n))/Number(e)>=u;ut.escapeNode=(n,t=0,e)=>{let u=n.nodes[t];u&&(e&&u.type===e||u.type==="open"||u.type==="close")&&u.escaped!==!0&&(u.value="\\"+u.value,u.escaped=!0)};ut.encloseBrace=n=>n.type!=="brace"||n.commas>>0+n.ranges>>0?!1:(n.invalid=!0,!0);ut.isInvalidBrace=n=>n.type!=="brace"?!1:n.invalid===!0||n.dollar?!0:!(n.commas>>0+n.ranges>>0)||n.open!==!0||n.close!==!0?(n.invalid=!0,!0):!1;ut.isOpenOrClose=n=>n.type==="open"||n.type==="close"?!0:n.open===!0||n.close===!0;ut.reduce=n=>n.reduce((t,e)=>(e.type==="text"&&t.push(e.value),e.type==="range"&&(e.type="text"),t),[]);ut.flatten=(...n)=>{let t=[],e=u=>{for(let f=0;f<u.length;f++){let h=u[f];Array.isArray(h)?e(h,t):h!==void 0&&t.push(h)}return t};return e(n),t}});var Ai=q((ov,sf)=>{"use strict";var nf=ki();sf.exports=(n,t={})=>{let e=(u,f={})=>{let h=t.escapeInvalid&&nf.isInvalidBrace(f),y=u.invalid===!0&&t.escapeInvalid===!0,E="";if(u.value)return(h||y)&&nf.isOpenOrClose(u)?"\\"+u.value:u.value;if(u.value)return u.value;if(u.nodes)for(let A of u.nodes)E+=e(A);return E};return e(n)}});var af=q((av,of)=>{"use strict";of.exports=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1}});var mf=q((uv,pf)=>{"use strict";var uf=af(),br=(n,t,e)=>{if(uf(n)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||n===t)return String(n);if(uf(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let u={relaxZeros:!0,...e};typeof u.strictZeros=="boolean"&&(u.relaxZeros=u.strictZeros===!1);let f=String(u.relaxZeros),h=String(u.shorthand),y=String(u.capture),E=String(u.wrap),A=n+":"+t+"="+f+h+y+E;if(br.cache.hasOwnProperty(A))return br.cache[A].result;let R=Math.min(n,t),S=Math.max(n,t);if(Math.abs(R-S)===1){let N=n+"|"+t;return u.capture?`(${N})`:u.wrap===!1?N:`(?:${N})`}let T=hf(n)||hf(t),D={min:n,max:t,a:R,b:S},re=[],B=[];if(T&&(D.isPadded=T,D.maxLen=String(D.max).length),R<0){let N=S<0?Math.abs(S):1;B=cf(N,Math.abs(R),D,u),R=D.a=0}return S>=0&&(re=cf(R,S,D,u)),D.negatives=B,D.positives=re,D.result=xp(B,re,u),u.capture===!0?D.result=`(${D.result})`:u.wrap!==!1&&re.length+B.length>1&&(D.result=`(?:${D.result})`),br.cache[A]=D,D.result};function xp(n,t,e){let u=Ka(n,t,"-",!1,e)||[],f=Ka(t,n,"",!1,e)||[],h=Ka(n,t,"-?",!0,e)||[];return u.concat(h).concat(f).join("|")}function Mp(n,t){let e=1,u=1,f=ff(n,e),h=new Set([t]);for(;n<=f&&f<=t;)h.add(f),e+=1,f=ff(n,e);for(f=df(t+1,u)-1;n<f&&f<=t;)h.add(f),u+=1,f=df(t+1,u)-1;return h=[...h],h.sort(Ip),h}function Op(n,t,e){if(n===t)return{pattern:n,count:[],digits:0};let u=Lp(n,t),f=u.length,h="",y=0;for(let E=0;E<f;E++){let[A,R]=u[E];A===R?h+=A:A!=="0"||R!=="9"?h+=Np(A,R,e):y++}return y&&(h+=e.shorthand===!0?"\\d":"[0-9]"),{pattern:h,count:[y],digits:f}}function cf(n,t,e,u){let f=Mp(n,t),h=[],y=n,E;for(let A=0;A<f.length;A++){let R=f[A],S=Op(String(y),String(R),u),T="";if(!e.isPadded&&E&&E.pattern===S.pattern){E.count.length>1&&E.count.pop(),E.count.push(S.count[0]),E.string=E.pattern+_f(E.count),y=R+1;continue}e.isPadded&&(T=Bp(R,e,u)),S.string=T+S.pattern+_f(S.count),h.push(S),y=R+1,E=S}return h}function Ka(n,t,e,u,f){let h=[];for(let y of n){let{string:E}=y;!u&&!lf(t,"string",E)&&h.push(e+E),u&&lf(t,"string",E)&&h.push(e+E)}return h}function Lp(n,t){let e=[];for(let u=0;u<n.length;u++)e.push([n[u],t[u]]);return e}function Ip(n,t){return n>t?1:t>n?-1:0}function lf(n,t,e){return n.some(u=>u[t]===e)}function ff(n,t){return Number(String(n).slice(0,-t)+"9".repeat(t))}function df(n,t){return n-n%Math.pow(10,t)}function _f(n){let[t=0,e=""]=n;return e||t>1?`{${t+(e?","+e:"")}}`:""}function Np(n,t,e){return`[${n}${t-n===1?"":"-"}${t}]`}function hf(n){return/^-?(0+)\d/.test(n)}function Bp(n,t,e){if(!t.isPadded)return n;let u=Math.abs(t.maxLen-String(n).length),f=e.relaxZeros!==!1;switch(u){case 0:return"";case 1:return f?"0?":"0";case 2:return f?"0{0,2}":"00";default:return f?`0{0,${u}}`:`0{${u}}`}}br.cache={};br.clearCache=()=>br.cache={};pf.exports=br});var Ja=q((cv,kf)=>{"use strict";var Up=require("util"),bf=mf(),gf=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Hp=n=>t=>n===!0?Number(t):String(t),Xa=n=>typeof n=="number"||typeof n=="string"&&n!=="",Rn=n=>Number.isInteger(+n),Qa=n=>{let t=`${n}`,e=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++e]==="0";);return e>0},qp=(n,t,e)=>typeof n=="string"||typeof t=="string"?!0:e.stringify===!0,$p=(n,t,e)=>{if(t>0){let u=n[0]==="-"?"-":"";u&&(n=n.slice(1)),n=u+n.padStart(u?t-1:t,"0")}return e===!1?String(n):n},yf=(n,t)=>{let e=n[0]==="-"?"-":"";for(e&&(n=n.slice(1),t--);n.length<t;)n="0"+n;return e?"-"+n:n},Wp=(n,t)=>{n.negatives.sort((y,E)=>y<E?-1:y>E?1:0),n.positives.sort((y,E)=>y<E?-1:y>E?1:0);let e=t.capture?"":"?:",u="",f="",h;return n.positives.length&&(u=n.positives.join("|")),n.negatives.length&&(f=`-(${e}${n.negatives.join("|")})`),u&&f?h=`${u}|${f}`:h=u||f,t.wrap?`(${e}${h})`:h},vf=(n,t,e,u)=>{if(e)return bf(n,t,{wrap:!1,...u});let f=String.fromCharCode(n);if(n===t)return f;let h=String.fromCharCode(t);return`[${f}-${h}]`},wf=(n,t,e)=>{if(Array.isArray(n)){let u=e.wrap===!0,f=e.capture?"":"?:";return u?`(${f}${n.join("|")})`:n.join("|")}return bf(n,t,e)},Ef=(...n)=>new RangeError("Invalid range arguments: "+Up.inspect(...n)),Sf=(n,t,e)=>{if(e.strictRanges===!0)throw Ef([n,t]);return[]},jp=(n,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${n}" to be a number`);return[]},zp=(n,t,e=1,u={})=>{let f=Number(n),h=Number(t);if(!Number.isInteger(f)||!Number.isInteger(h)){if(u.strictRanges===!0)throw Ef([n,t]);return[]}f===0&&(f=0),h===0&&(h=0);let y=f>h,E=String(n),A=String(t),R=String(e);e=Math.max(Math.abs(e),1);let S=Qa(E)||Qa(A)||Qa(R),T=S?Math.max(E.length,A.length,R.length):0,D=S===!1&&qp(n,t,u)===!1,re=u.transform||Hp(D);if(u.toRegex&&e===1)return vf(yf(n,T),yf(t,T),!0,u);let B={negatives:[],positives:[]},N=me=>B[me<0?"negatives":"positives"].push(Math.abs(me)),K=[],ie=0;for(;y?f>=h:f<=h;)u.toRegex===!0&&e>1?N(f):K.push($p(re(f,ie),T,D)),f=y?f-e:f+e,ie++;return u.toRegex===!0?e>1?Wp(B,u):wf(K,null,{wrap:!1,...u}):K},Gp=(n,t,e=1,u={})=>{if(!Rn(n)&&n.length>1||!Rn(t)&&t.length>1)return Sf(n,t,u);let f=u.transform||(D=>String.fromCharCode(D)),h=`${n}`.charCodeAt(0),y=`${t}`.charCodeAt(0),E=h>y,A=Math.min(h,y),R=Math.max(h,y);if(u.toRegex&&e===1)return vf(A,R,!1,u);let S=[],T=0;for(;E?h>=y:h<=y;)S.push(f(h,T)),h=E?h-e:h+e,T++;return u.toRegex===!0?wf(S,null,{wrap:!1,options:u}):S},Ri=(n,t,e,u={})=>{if(t==null&&Xa(n))return[n];if(!Xa(n)||!Xa(t))return Sf(n,t,u);if(typeof e=="function")return Ri(n,t,1,{transform:e});if(gf(e))return Ri(n,t,0,e);let f={...u};return f.capture===!0&&(f.wrap=!0),e=e||f.step||1,Rn(e)?Rn(n)&&Rn(t)?zp(n,t,e,f):Gp(n,t,Math.max(Math.abs(e),1),f):e!=null&&!gf(e)?jp(e,f):Ri(n,t,1,e)};kf.exports=Ri});var Df=q((lv,Rf)=>{"use strict";var Vp=Ja(),Af=ki(),Yp=(n,t={})=>{let e=(u,f={})=>{let h=Af.isInvalidBrace(f),y=u.invalid===!0&&t.escapeInvalid===!0,E=h===!0||y===!0,A=t.escapeInvalid===!0?"\\":"",R="";if(u.isOpen===!0||u.isClose===!0)return A+u.value;if(u.type==="open")return E?A+u.value:"(";if(u.type==="close")return E?A+u.value:")";if(u.type==="comma")return u.prev.type==="comma"?"":E?u.value:"|";if(u.value)return u.value;if(u.nodes&&u.ranges>0){let S=Af.reduce(u.nodes),T=Vp(...S,{...t,wrap:!1,toRegex:!0});if(T.length!==0)return S.length>1&&T.length>1?`(${T})`:T}if(u.nodes)for(let S of u.nodes)R+=e(S,u);return R};return e(n)};Rf.exports=Yp});var Ff=q((fv,Pf)=>{"use strict";var Kp=Ja(),Tf=Ai(),qr=ki(),vr=(n="",t="",e=!1)=>{let u=[];if(n=[].concat(n),t=[].concat(t),!t.length)return n;if(!n.length)return e?qr.flatten(t).map(f=>`{${f}}`):t;for(let f of n)if(Array.isArray(f))for(let h of f)u.push(vr(h,t,e));else for(let h of t)e===!0&&typeof h=="string"&&(h=`{${h}}`),u.push(Array.isArray(h)?vr(f,h,e):f+h);return qr.flatten(u)},Xp=(n,t={})=>{let e=t.rangeLimit===void 0?1e3:t.rangeLimit,u=(f,h={})=>{f.queue=[];let y=h,E=h.queue;for(;y.type!=="brace"&&y.type!=="root"&&y.parent;)y=y.parent,E=y.queue;if(f.invalid||f.dollar){E.push(vr(E.pop(),Tf(f,t)));return}if(f.type==="brace"&&f.invalid!==!0&&f.nodes.length===2){E.push(vr(E.pop(),["{}"]));return}if(f.nodes&&f.ranges>0){let T=qr.reduce(f.nodes);if(qr.exceedsLimit(...T,t.step,e))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let D=Kp(...T,t);D.length===0&&(D=Tf(f,t)),E.push(vr(E.pop(),D)),f.nodes=[];return}let A=qr.encloseBrace(f),R=f.queue,S=f;for(;S.type!=="brace"&&S.type!=="root"&&S.parent;)S=S.parent,R=S.queue;for(let T=0;T<f.nodes.length;T++){let D=f.nodes[T];if(D.type==="comma"&&f.type==="brace"){T===1&&R.push(""),R.push("");continue}if(D.type==="close"){E.push(vr(E.pop(),R,A));continue}if(D.value&&D.type!=="open"){R.push(vr(R.pop(),D.value));continue}D.nodes&&u(D,f)}return R};return qr.flatten(u(n))};Pf.exports=Xp});var xf=q((dv,Cf)=>{"use strict";Cf.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Nf=q((_v,If)=>{"use strict";var Qp=Ai(),{MAX_LENGTH:Mf,CHAR_BACKSLASH:Za,CHAR_BACKTICK:Jp,CHAR_COMMA:Zp,CHAR_DOT:em,CHAR_LEFT_PARENTHESES:tm,CHAR_RIGHT_PARENTHESES:rm,CHAR_LEFT_CURLY_BRACE:nm,CHAR_RIGHT_CURLY_BRACE:im,CHAR_LEFT_SQUARE_BRACKET:Of,CHAR_RIGHT_SQUARE_BRACKET:Lf,CHAR_DOUBLE_QUOTE:sm,CHAR_SINGLE_QUOTE:om,CHAR_NO_BREAK_SPACE:am,CHAR_ZERO_WIDTH_NOBREAK_SPACE:um}=xf(),cm=(n,t={})=>{if(typeof n!="string")throw new TypeError("Expected a string");let e=t||{},u=typeof e.maxLength=="number"?Math.min(Mf,e.maxLength):Mf;if(n.length>u)throw new SyntaxError(`Input length (${n.length}), exceeds max characters (${u})`);let f={type:"root",input:n,nodes:[]},h=[f],y=f,E=f,A=0,R=n.length,S=0,T=0,D,re={},B=()=>n[S++],N=K=>{if(K.type==="text"&&E.type==="dot"&&(E.type="text"),E&&E.type==="text"&&K.type==="text"){E.value+=K.value;return}return y.nodes.push(K),K.parent=y,K.prev=E,E=K,K};for(N({type:"bos"});S<R;)if(y=h[h.length-1],D=B(),!(D===um||D===am)){if(D===Za){N({type:"text",value:(t.keepEscaping?D:"")+B()});continue}if(D===Lf){N({type:"text",value:"\\"+D});continue}if(D===Of){A++;let K=!0,ie;for(;S<R&&(ie=B());){if(D+=ie,ie===Of){A++;continue}if(ie===Za){D+=B();continue}if(ie===Lf&&(A--,A===0))break}N({type:"text",value:D});continue}if(D===tm){y=N({type:"paren",nodes:[]}),h.push(y),N({type:"text",value:D});continue}if(D===rm){if(y.type!=="paren"){N({type:"text",value:D});continue}y=h.pop(),N({type:"text",value:D}),y=h[h.length-1];continue}if(D===sm||D===om||D===Jp){let K=D,ie;for(t.keepQuotes!==!0&&(D="");S<R&&(ie=B());){if(ie===Za){D+=ie+B();continue}if(ie===K){t.keepQuotes===!0&&(D+=ie);break}D+=ie}N({type:"text",value:D});continue}if(D===nm){T++;let ie={type:"brace",open:!0,close:!1,dollar:E.value&&E.value.slice(-1)==="$"||y.dollar===!0,depth:T,commas:0,ranges:0,nodes:[]};y=N(ie),h.push(y),N({type:"open",value:D});continue}if(D===im){if(y.type!=="brace"){N({type:"text",value:D});continue}let K="close";y=h.pop(),y.close=!0,N({type:K,value:D}),T--,y=h[h.length-1];continue}if(D===Zp&&T>0){if(y.ranges>0){y.ranges=0;let K=y.nodes.shift();y.nodes=[K,{type:"text",value:Qp(y)}]}N({type:"comma",value:D}),y.commas++;continue}if(D===em&&T>0&&y.commas===0){let K=y.nodes;if(T===0||K.length===0){N({type:"text",value:D});continue}if(E.type==="dot"){if(y.range=[],E.value+=D,E.type="range",y.nodes.length!==3&&y.nodes.length!==5){y.invalid=!0,y.ranges=0,E.type="text";continue}y.ranges++,y.args=[];continue}if(E.type==="range"){K.pop();let ie=K[K.length-1];ie.value+=E.value+D,E=ie,y.ranges--;continue}N({type:"dot",value:D});continue}N({type:"text",value:D})}do if(y=h.pop(),y.type!=="root"){y.nodes.forEach(me=>{me.nodes||(me.type==="open"&&(me.isOpen=!0),me.type==="close"&&(me.isClose=!0),me.nodes||(me.type="text"),me.invalid=!0)});let K=h[h.length-1],ie=K.nodes.indexOf(y);K.nodes.splice(ie,1,...y.nodes)}while(h.length>0);return N({type:"eos"}),f};If.exports=cm});var Hf=q((hv,Uf)=>{"use strict";var Bf=Ai(),lm=Df(),fm=Ff(),dm=Nf(),nt=(n,t={})=>{let e=[];if(Array.isArray(n))for(let u of n){let f=nt.create(u,t);Array.isArray(f)?e.push(...f):e.push(f)}else e=[].concat(nt.create(n,t));return t&&t.expand===!0&&t.nodupes===!0&&(e=[...new Set(e)]),e};nt.parse=(n,t={})=>dm(n,t);nt.stringify=(n,t={})=>Bf(typeof n=="string"?nt.parse(n,t):n,t);nt.compile=(n,t={})=>(typeof n=="string"&&(n=nt.parse(n,t)),lm(n,t));nt.expand=(n,t={})=>{typeof n=="string"&&(n=nt.parse(n,t));let e=fm(n,t);return t.noempty===!0&&(e=e.filter(Boolean)),t.nodupes===!0&&(e=[...new Set(e)]),e};nt.create=(n,t={})=>n===""||n.length<3?[n]:t.expand!==!0?nt.compile(n,t):nt.expand(n,t);Uf.exports=nt});var Dn=q((pv,zf)=>{"use strict";var _m=require("path"),vt="\\\\/",qf=`[^${vt}]`,xt="\\.",hm="\\+",pm="\\?",Di="\\/",mm="(?=.)",$f="[^/]",eu=`(?:${Di}|$)`,Wf=`(?:^|${Di})`,tu=`${xt}{1,2}${eu}`,gm=`(?!${xt})`,ym=`(?!${Wf}${tu})`,bm=`(?!${xt}{0,1}${eu})`,vm=`(?!${tu})`,wm=`[^.${Di}]`,Em=`${$f}*?`,jf={DOT_LITERAL:xt,PLUS_LITERAL:hm,QMARK_LITERAL:pm,SLASH_LITERAL:Di,ONE_CHAR:mm,QMARK:$f,END_ANCHOR:eu,DOTS_SLASH:tu,NO_DOT:gm,NO_DOTS:ym,NO_DOT_SLASH:bm,NO_DOTS_SLASH:vm,QMARK_NO_DOT:wm,STAR:Em,START_ANCHOR:Wf},Sm={...jf,SLASH_LITERAL:`[${vt}]`,QMARK:qf,STAR:`${qf}*?`,DOTS_SLASH:`${xt}{1,2}(?:[${vt}]|$)`,NO_DOT:`(?!${xt})`,NO_DOTS:`(?!(?:^|[${vt}])${xt}{1,2}(?:[${vt}]|$))`,NO_DOT_SLASH:`(?!${xt}{0,1}(?:[${vt}]|$))`,NO_DOTS_SLASH:`(?!${xt}{1,2}(?:[${vt}]|$))`,QMARK_NO_DOT:`[^.${vt}]`,START_ANCHOR:`(?:^|[${vt}])`,END_ANCHOR:`(?:[${vt}]|$)`},km={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};zf.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:km,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:_m.sep,extglobChars(n){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${n.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(n){return n===!0?Sm:jf}}});var Tn=q(Je=>{"use strict";var Am=require("path"),Rm=process.platform==="win32",{REGEX_BACKSLASH:Dm,REGEX_REMOVE_BACKSLASH:Tm,REGEX_SPECIAL_CHARS:Pm,REGEX_SPECIAL_CHARS_GLOBAL:Fm}=Dn();Je.isObject=n=>n!==null&&typeof n=="object"&&!Array.isArray(n);Je.hasRegexChars=n=>Pm.test(n);Je.isRegexChar=n=>n.length===1&&Je.hasRegexChars(n);Je.escapeRegex=n=>n.replace(Fm,"\\$1");Je.toPosixSlashes=n=>n.replace(Dm,"/");Je.removeBackslashes=n=>n.replace(Tm,t=>t==="\\"?"":t);Je.supportsLookbehinds=()=>{let n=process.version.slice(1).split(".").map(Number);return n.length===3&&n[0]>=9||n[0]===8&&n[1]>=10};Je.isWindows=n=>n&&typeof n.windows=="boolean"?n.windows:Rm===!0||Am.sep==="\\";Je.escapeLast=(n,t,e)=>{let u=n.lastIndexOf(t,e);return u===-1?n:n[u-1]==="\\"?Je.escapeLast(n,t,u-1):`${n.slice(0,u)}\\${n.slice(u)}`};Je.removePrefix=(n,t={})=>{let e=n;return e.startsWith("./")&&(e=e.slice(2),t.prefix="./"),e};Je.wrapOutput=(n,t={},e={})=>{let u=e.contains?"":"^",f=e.contains?"":"$",h=`${u}(?:${n})${f}`;return t.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}});var Zf=q((gv,Jf)=>{"use strict";var Gf=Tn(),{CHAR_ASTERISK:ru,CHAR_AT:Cm,CHAR_BACKWARD_SLASH:Pn,CHAR_COMMA:xm,CHAR_DOT:nu,CHAR_EXCLAMATION_MARK:iu,CHAR_FORWARD_SLASH:Qf,CHAR_LEFT_CURLY_BRACE:su,CHAR_LEFT_PARENTHESES:ou,CHAR_LEFT_SQUARE_BRACKET:Mm,CHAR_PLUS:Om,CHAR_QUESTION_MARK:Vf,CHAR_RIGHT_CURLY_BRACE:Lm,CHAR_RIGHT_PARENTHESES:Yf,CHAR_RIGHT_SQUARE_BRACKET:Im}=Dn(),Kf=n=>n===Qf||n===Pn,Xf=n=>{n.isPrefix!==!0&&(n.depth=n.isGlobstar?1/0:1)},Nm=(n,t)=>{let e=t||{},u=n.length-1,f=e.parts===!0||e.scanToEnd===!0,h=[],y=[],E=[],A=n,R=-1,S=0,T=0,D=!1,re=!1,B=!1,N=!1,K=!1,ie=!1,me=!1,de=!1,ke=!1,I=!1,_e=0,ue,J,V={value:"",depth:0,isGlob:!1},ge=()=>R>=u,M=()=>A.charCodeAt(R+1),X=()=>(ue=J,A.charCodeAt(++R));for(;R<u;){J=X();let j;if(J===Pn){me=V.backslashes=!0,J=X(),J===su&&(ie=!0);continue}if(ie===!0||J===su){for(_e++;ge()!==!0&&(J=X());){if(J===Pn){me=V.backslashes=!0,X();continue}if(J===su){_e++;continue}if(ie!==!0&&J===nu&&(J=X())===nu){if(D=V.isBrace=!0,B=V.isGlob=!0,I=!0,f===!0)continue;break}if(ie!==!0&&J===xm){if(D=V.isBrace=!0,B=V.isGlob=!0,I=!0,f===!0)continue;break}if(J===Lm&&(_e--,_e===0)){ie=!1,D=V.isBrace=!0,I=!0;break}}if(f===!0)continue;break}if(J===Qf){if(h.push(R),y.push(V),V={value:"",depth:0,isGlob:!1},I===!0)continue;if(ue===nu&&R===S+1){S+=2;continue}T=R+1;continue}if(e.noext!==!0&&(J===Om||J===Cm||J===ru||J===Vf||J===iu)===!0&&M()===ou){if(B=V.isGlob=!0,N=V.isExtglob=!0,I=!0,J===iu&&R===S&&(ke=!0),f===!0){for(;ge()!==!0&&(J=X());){if(J===Pn){me=V.backslashes=!0,J=X();continue}if(J===Yf){B=V.isGlob=!0,I=!0;break}}continue}break}if(J===ru){if(ue===ru&&(K=V.isGlobstar=!0),B=V.isGlob=!0,I=!0,f===!0)continue;break}if(J===Vf){if(B=V.isGlob=!0,I=!0,f===!0)continue;break}if(J===Mm){for(;ge()!==!0&&(j=X());){if(j===Pn){me=V.backslashes=!0,X();continue}if(j===Im){re=V.isBracket=!0,B=V.isGlob=!0,I=!0;break}}if(f===!0)continue;break}if(e.nonegate!==!0&&J===iu&&R===S){de=V.negated=!0,S++;continue}if(e.noparen!==!0&&J===ou){if(B=V.isGlob=!0,f===!0){for(;ge()!==!0&&(J=X());){if(J===ou){me=V.backslashes=!0,J=X();continue}if(J===Yf){I=!0;break}}continue}break}if(B===!0){if(I=!0,f===!0)continue;break}}e.noext===!0&&(N=!1,B=!1);let te=A,he="",C="";S>0&&(he=A.slice(0,S),A=A.slice(S),T-=S),te&&B===!0&&T>0?(te=A.slice(0,T),C=A.slice(T)):B===!0?(te="",C=A):te=A,te&&te!==""&&te!=="/"&&te!==A&&Kf(te.charCodeAt(te.length-1))&&(te=te.slice(0,-1)),e.unescape===!0&&(C&&(C=Gf.removeBackslashes(C)),te&&me===!0&&(te=Gf.removeBackslashes(te)));let v={prefix:he,input:n,start:S,base:te,glob:C,isBrace:D,isBracket:re,isGlob:B,isExtglob:N,isGlobstar:K,negated:de,negatedExtglob:ke};if(e.tokens===!0&&(v.maxDepth=0,Kf(J)||y.push(V),v.tokens=y),e.parts===!0||e.tokens===!0){let j;for(let Ee=0;Ee<h.length;Ee++){let Xe=j?j+1:S,ze=h[Ee],We=n.slice(Xe,ze);e.tokens&&(Ee===0&&S!==0?(y[Ee].isPrefix=!0,y[Ee].value=he):y[Ee].value=We,Xf(y[Ee]),v.maxDepth+=y[Ee].depth),(Ee!==0||We!=="")&&E.push(We),j=ze}if(j&&j+1<n.length){let Ee=n.slice(j+1);E.push(Ee),e.tokens&&(y[y.length-1].value=Ee,Xf(y[y.length-1]),v.maxDepth+=y[y.length-1].depth)}v.slashes=h,v.parts=E}return v};Jf.exports=Nm});var nd=q((yv,rd)=>{"use strict";var Ti=Dn(),it=Tn(),{MAX_LENGTH:Pi,POSIX_REGEX_SOURCE:Bm,REGEX_NON_SPECIAL_CHARS:Um,REGEX_SPECIAL_CHARS_BACKREF:Hm,REPLACEMENTS:ed}=Ti,qm=(n,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...n,t);n.sort();let e=`[${n.join("-")}]`;try{new RegExp(e)}catch{return n.map(f=>it.escapeRegex(f)).join("..")}return e},$r=(n,t)=>`Missing ${n}: "${t}" - use "\\\\${t}" to match literal characters`,td=(n,t)=>{if(typeof n!="string")throw new TypeError("Expected a string");n=ed[n]||n;let e={...t},u=typeof e.maxLength=="number"?Math.min(Pi,e.maxLength):Pi,f=n.length;if(f>u)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${u}`);let h={type:"bos",value:"",output:e.prepend||""},y=[h],E=e.capture?"":"?:",A=it.isWindows(t),R=Ti.globChars(A),S=Ti.extglobChars(R),{DOT_LITERAL:T,PLUS_LITERAL:D,SLASH_LITERAL:re,ONE_CHAR:B,DOTS_SLASH:N,NO_DOT:K,NO_DOT_SLASH:ie,NO_DOTS_SLASH:me,QMARK:de,QMARK_NO_DOT:ke,STAR:I,START_ANCHOR:_e}=R,ue=Y=>`(${E}(?:(?!${_e}${Y.dot?N:T}).)*?)`,J=e.dot?"":K,V=e.dot?de:ke,ge=e.bash===!0?ue(e):I;e.capture&&(ge=`(${ge})`),typeof e.noext=="boolean"&&(e.noextglob=e.noext);let M={input:n,index:-1,start:0,dot:e.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:y};n=it.removePrefix(n,M),f=n.length;let X=[],te=[],he=[],C=h,v,j=()=>M.index===f-1,Ee=M.peek=(Y=1)=>n[M.index+Y],Xe=M.advance=()=>n[++M.index]||"",ze=()=>n.slice(M.index+1),We=(Y="",De=0)=>{M.consumed+=Y,M.index+=De},gt=Y=>{M.output+=Y.output!=null?Y.output:Y.value,We(Y.value)},Zt=()=>{let Y=1;for(;Ee()==="!"&&(Ee(2)!=="("||Ee(3)==="?");)Xe(),M.start++,Y++;return Y%2===0?!1:(M.negated=!0,M.start++,!0)},Ot=Y=>{M[Y]++,he.push(Y)},Ze=Y=>{M[Y]--,he.pop()},ye=Y=>{if(C.type==="globstar"){let De=M.braces>0&&(Y.type==="comma"||Y.type==="brace"),z=Y.extglob===!0||X.length&&(Y.type==="pipe"||Y.type==="paren");Y.type!=="slash"&&Y.type!=="paren"&&!De&&!z&&(M.output=M.output.slice(0,-C.output.length),C.type="star",C.value="*",C.output=ge,M.output+=C.output)}if(X.length&&Y.type!=="paren"&&(X[X.length-1].inner+=Y.value),(Y.value||Y.output)&&gt(Y),C&&C.type==="text"&&Y.type==="text"){C.value+=Y.value,C.output=(C.output||"")+Y.value;return}Y.prev=C,y.push(Y),C=Y},Lt=(Y,De)=>{let z={...S[De],conditions:1,inner:""};z.prev=C,z.parens=M.parens,z.output=M.output;let pe=(e.capture?"(":"")+z.open;Ot("parens"),ye({type:Y,value:De,output:M.output?"":B}),ye({type:"paren",extglob:!0,value:Xe(),output:pe}),X.push(z)},Vr=Y=>{let De=Y.close+(e.capture?")":""),z;if(Y.type==="negate"){let pe=ge;Y.inner&&Y.inner.length>1&&Y.inner.includes("/")&&(pe=ue(e)),(pe!==ge||j()||/^\)+$/.test(ze()))&&(De=Y.close=`)$))${pe}`),Y.inner.includes("*")&&(z=ze())&&/^\.[^\\/.]+$/.test(z)&&(De=Y.close=`)${z})${pe})`),Y.prev.type==="bos"&&(M.negatedExtglob=!0)}ye({type:"paren",extglob:!0,value:v,output:De}),Ze("parens")};if(e.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(n)){let Y=!1,De=n.replace(Hm,(z,pe,Fe,He,Ie,qe)=>He==="\\"?(Y=!0,z):He==="?"?pe?pe+He+(Ie?de.repeat(Ie.length):""):qe===0?V+(Ie?de.repeat(Ie.length):""):de.repeat(Fe.length):He==="."?T.repeat(Fe.length):He==="*"?pe?pe+He+(Ie?ge:""):ge:pe?z:`\\${z}`);return Y===!0&&(e.unescape===!0?De=De.replace(/\\/g,""):De=De.replace(/\\+/g,z=>z.length%2===0?"\\\\":z?"\\":"")),De===n&&e.contains===!0?(M.output=n,M):(M.output=it.wrapOutput(De,M,t),M)}for(;!j();){if(v=Xe(),v==="\0")continue;if(v==="\\"){let z=Ee();if(z==="/"&&e.bash!==!0||z==="."||z===";")continue;if(!z){v+="\\",ye({type:"text",value:v});continue}let pe=/^\\+/.exec(ze()),Fe=0;if(pe&&pe[0].length>2&&(Fe=pe[0].length,M.index+=Fe,Fe%2!==0&&(v+="\\")),e.unescape===!0?v=Xe():v+=Xe(),M.brackets===0){ye({type:"text",value:v});continue}}if(M.brackets>0&&(v!=="]"||C.value==="["||C.value==="[^")){if(e.posix!==!1&&v===":"){let z=C.value.slice(1);if(z.includes("[")&&(C.posix=!0,z.includes(":"))){let pe=C.value.lastIndexOf("["),Fe=C.value.slice(0,pe),He=C.value.slice(pe+2),Ie=Bm[He];if(Ie){C.value=Fe+Ie,M.backtrack=!0,Xe(),!h.output&&y.indexOf(C)===1&&(h.output=B);continue}}}(v==="["&&Ee()!==":"||v==="-"&&Ee()==="]")&&(v=`\\${v}`),v==="]"&&(C.value==="["||C.value==="[^")&&(v=`\\${v}`),e.posix===!0&&v==="!"&&C.value==="["&&(v="^"),C.value+=v,gt({value:v});continue}if(M.quotes===1&&v!=='"'){v=it.escapeRegex(v),C.value+=v,gt({value:v});continue}if(v==='"'){M.quotes=M.quotes===1?0:1,e.keepQuotes===!0&&ye({type:"text",value:v});continue}if(v==="("){Ot("parens"),ye({type:"paren",value:v});continue}if(v===")"){if(M.parens===0&&e.strictBrackets===!0)throw new SyntaxError($r("opening","("));let z=X[X.length-1];if(z&&M.parens===z.parens+1){Vr(X.pop());continue}ye({type:"paren",value:v,output:M.parens?")":"\\)"}),Ze("parens");continue}if(v==="["){if(e.nobracket===!0||!ze().includes("]")){if(e.nobracket!==!0&&e.strictBrackets===!0)throw new SyntaxError($r("closing","]"));v=`\\${v}`}else Ot("brackets");ye({type:"bracket",value:v});continue}if(v==="]"){if(e.nobracket===!0||C&&C.type==="bracket"&&C.value.length===1){ye({type:"text",value:v,output:`\\${v}`});continue}if(M.brackets===0){if(e.strictBrackets===!0)throw new SyntaxError($r("opening","["));ye({type:"text",value:v,output:`\\${v}`});continue}Ze("brackets");let z=C.value.slice(1);if(C.posix!==!0&&z[0]==="^"&&!z.includes("/")&&(v=`/${v}`),C.value+=v,gt({value:v}),e.literalBrackets===!1||it.hasRegexChars(z))continue;let pe=it.escapeRegex(C.value);if(M.output=M.output.slice(0,-C.value.length),e.literalBrackets===!0){M.output+=pe,C.value=pe;continue}C.value=`(${E}${pe}|${C.value})`,M.output+=C.value;continue}if(v==="{"&&e.nobrace!==!0){Ot("braces");let z={type:"brace",value:v,output:"(",outputIndex:M.output.length,tokensIndex:M.tokens.length};te.push(z),ye(z);continue}if(v==="}"){let z=te[te.length-1];if(e.nobrace===!0||!z){ye({type:"text",value:v,output:v});continue}let pe=")";if(z.dots===!0){let Fe=y.slice(),He=[];for(let Ie=Fe.length-1;Ie>=0&&(y.pop(),Fe[Ie].type!=="brace");Ie--)Fe[Ie].type!=="dots"&&He.unshift(Fe[Ie].value);pe=qm(He,e),M.backtrack=!0}if(z.comma!==!0&&z.dots!==!0){let Fe=M.output.slice(0,z.outputIndex),He=M.tokens.slice(z.tokensIndex);z.value=z.output="\\{",v=pe="\\}",M.output=Fe;for(let Ie of He)M.output+=Ie.output||Ie.value}ye({type:"brace",value:v,output:pe}),Ze("braces"),te.pop();continue}if(v==="|"){X.length>0&&X[X.length-1].conditions++,ye({type:"text",value:v});continue}if(v===","){let z=v,pe=te[te.length-1];pe&&he[he.length-1]==="braces"&&(pe.comma=!0,z="|"),ye({type:"comma",value:v,output:z});continue}if(v==="/"){if(C.type==="dot"&&M.index===M.start+1){M.start=M.index+1,M.consumed="",M.output="",y.pop(),C=h;continue}ye({type:"slash",value:v,output:re});continue}if(v==="."){if(M.braces>0&&C.type==="dot"){C.value==="."&&(C.output=T);let z=te[te.length-1];C.type="dots",C.output+=v,C.value+=v,z.dots=!0;continue}if(M.braces+M.parens===0&&C.type!=="bos"&&C.type!=="slash"){ye({type:"text",value:v,output:T});continue}ye({type:"dot",value:v,output:T});continue}if(v==="?"){if(!(C&&C.value==="(")&&e.noextglob!==!0&&Ee()==="("&&Ee(2)!=="?"){Lt("qmark",v);continue}if(C&&C.type==="paren"){let pe=Ee(),Fe=v;if(pe==="<"&&!it.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(C.value==="("&&!/[!=<:]/.test(pe)||pe==="<"&&!/<([!=]|\w+>)/.test(ze()))&&(Fe=`\\${v}`),ye({type:"text",value:v,output:Fe});continue}if(e.dot!==!0&&(C.type==="slash"||C.type==="bos")){ye({type:"qmark",value:v,output:ke});continue}ye({type:"qmark",value:v,output:de});continue}if(v==="!"){if(e.noextglob!==!0&&Ee()==="("&&(Ee(2)!=="?"||!/[!=<:]/.test(Ee(3)))){Lt("negate",v);continue}if(e.nonegate!==!0&&M.index===0){Zt();continue}}if(v==="+"){if(e.noextglob!==!0&&Ee()==="("&&Ee(2)!=="?"){Lt("plus",v);continue}if(C&&C.value==="("||e.regex===!1){ye({type:"plus",value:v,output:D});continue}if(C&&(C.type==="bracket"||C.type==="paren"||C.type==="brace")||M.parens>0){ye({type:"plus",value:v});continue}ye({type:"plus",value:D});continue}if(v==="@"){if(e.noextglob!==!0&&Ee()==="("&&Ee(2)!=="?"){ye({type:"at",extglob:!0,value:v,output:""});continue}ye({type:"text",value:v});continue}if(v!=="*"){(v==="$"||v==="^")&&(v=`\\${v}`);let z=Um.exec(ze());z&&(v+=z[0],M.index+=z[0].length),ye({type:"text",value:v});continue}if(C&&(C.type==="globstar"||C.star===!0)){C.type="star",C.star=!0,C.value+=v,C.output=ge,M.backtrack=!0,M.globstar=!0,We(v);continue}let Y=ze();if(e.noextglob!==!0&&/^\([^?]/.test(Y)){Lt("star",v);continue}if(C.type==="star"){if(e.noglobstar===!0){We(v);continue}let z=C.prev,pe=z.prev,Fe=z.type==="slash"||z.type==="bos",He=pe&&(pe.type==="star"||pe.type==="globstar");if(e.bash===!0&&(!Fe||Y[0]&&Y[0]!=="/")){ye({type:"star",value:v,output:""});continue}let Ie=M.braces>0&&(z.type==="comma"||z.type==="brace"),qe=X.length&&(z.type==="pipe"||z.type==="paren");if(!Fe&&z.type!=="paren"&&!Ie&&!qe){ye({type:"star",value:v,output:""});continue}for(;Y.slice(0,3)==="/**";){let st=n[M.index+4];if(st&&st!=="/")break;Y=Y.slice(3),We("/**",3)}if(z.type==="bos"&&j()){C.type="globstar",C.value+=v,C.output=ue(e),M.output=C.output,M.globstar=!0,We(v);continue}if(z.type==="slash"&&z.prev.type!=="bos"&&!He&&j()){M.output=M.output.slice(0,-(z.output+C.output).length),z.output=`(?:${z.output}`,C.type="globstar",C.output=ue(e)+(e.strictSlashes?")":"|$)"),C.value+=v,M.globstar=!0,M.output+=z.output+C.output,We(v);continue}if(z.type==="slash"&&z.prev.type!=="bos"&&Y[0]==="/"){let st=Y[1]!==void 0?"|$":"";M.output=M.output.slice(0,-(z.output+C.output).length),z.output=`(?:${z.output}`,C.type="globstar",C.output=`${ue(e)}${re}|${re}${st})`,C.value+=v,M.output+=z.output+C.output,M.globstar=!0,We(v+Xe()),ye({type:"slash",value:"/",output:""});continue}if(z.type==="bos"&&Y[0]==="/"){C.type="globstar",C.value+=v,C.output=`(?:^|${re}|${ue(e)}${re})`,M.output=C.output,M.globstar=!0,We(v+Xe()),ye({type:"slash",value:"/",output:""});continue}M.output=M.output.slice(0,-C.output.length),C.type="globstar",C.output=ue(e),C.value+=v,M.output+=C.output,M.globstar=!0,We(v);continue}let De={type:"star",value:v,output:ge};if(e.bash===!0){De.output=".*?",(C.type==="bos"||C.type==="slash")&&(De.output=J+De.output),ye(De);continue}if(C&&(C.type==="bracket"||C.type==="paren")&&e.regex===!0){De.output=v,ye(De);continue}(M.index===M.start||C.type==="slash"||C.type==="dot")&&(C.type==="dot"?(M.output+=ie,C.output+=ie):e.dot===!0?(M.output+=me,C.output+=me):(M.output+=J,C.output+=J),Ee()!=="*"&&(M.output+=B,C.output+=B)),ye(De)}for(;M.brackets>0;){if(e.strictBrackets===!0)throw new SyntaxError($r("closing","]"));M.output=it.escapeLast(M.output,"["),Ze("brackets")}for(;M.parens>0;){if(e.strictBrackets===!0)throw new SyntaxError($r("closing",")"));M.output=it.escapeLast(M.output,"("),Ze("parens")}for(;M.braces>0;){if(e.strictBrackets===!0)throw new SyntaxError($r("closing","}"));M.output=it.escapeLast(M.output,"{"),Ze("braces")}if(e.strictSlashes!==!0&&(C.type==="star"||C.type==="bracket")&&ye({type:"maybe_slash",value:"",output:`${re}?`}),M.backtrack===!0){M.output="";for(let Y of M.tokens)M.output+=Y.output!=null?Y.output:Y.value,Y.suffix&&(M.output+=Y.suffix)}return M};td.fastpaths=(n,t)=>{let e={...t},u=typeof e.maxLength=="number"?Math.min(Pi,e.maxLength):Pi,f=n.length;if(f>u)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${u}`);n=ed[n]||n;let h=it.isWindows(t),{DOT_LITERAL:y,SLASH_LITERAL:E,ONE_CHAR:A,DOTS_SLASH:R,NO_DOT:S,NO_DOTS:T,NO_DOTS_SLASH:D,STAR:re,START_ANCHOR:B}=Ti.globChars(h),N=e.dot?T:S,K=e.dot?D:S,ie=e.capture?"":"?:",me={negated:!1,prefix:""},de=e.bash===!0?".*?":re;e.capture&&(de=`(${de})`);let ke=J=>J.noglobstar===!0?de:`(${ie}(?:(?!${B}${J.dot?R:y}).)*?)`,I=J=>{switch(J){case"*":return`${N}${A}${de}`;case".*":return`${y}${A}${de}`;case"*.*":return`${N}${de}${y}${A}${de}`;case"*/*":return`${N}${de}${E}${A}${K}${de}`;case"**":return N+ke(e);case"**/*":return`(?:${N}${ke(e)}${E})?${K}${A}${de}`;case"**/*.*":return`(?:${N}${ke(e)}${E})?${K}${de}${y}${A}${de}`;case"**/.*":return`(?:${N}${ke(e)}${E})?${y}${A}${de}`;default:{let V=/^(.*?)\.(\w+)$/.exec(J);if(!V)return;let ge=I(V[1]);return ge?ge+y+V[2]:void 0}}},_e=it.removePrefix(n,me),ue=I(_e);return ue&&e.strictSlashes!==!0&&(ue+=`${E}?`),ue};rd.exports=td});var sd=q((bv,id)=>{"use strict";var $m=require("path"),Wm=Zf(),au=nd(),uu=Tn(),jm=Dn(),zm=n=>n&&typeof n=="object"&&!Array.isArray(n),Be=(n,t,e=!1)=>{if(Array.isArray(n)){let S=n.map(D=>Be(D,t,e));return D=>{for(let re of S){let B=re(D);if(B)return B}return!1}}let u=zm(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!u)throw new TypeError("Expected pattern to be a non-empty string");let f=t||{},h=uu.isWindows(t),y=u?Be.compileRe(n,t):Be.makeRe(n,t,!1,!0),E=y.state;delete y.state;let A=()=>!1;if(f.ignore){let S={...t,ignore:null,onMatch:null,onResult:null};A=Be(f.ignore,S,e)}let R=(S,T=!1)=>{let{isMatch:D,match:re,output:B}=Be.test(S,y,t,{glob:n,posix:h}),N={glob:n,state:E,regex:y,posix:h,input:S,output:B,match:re,isMatch:D};return typeof f.onResult=="function"&&f.onResult(N),D===!1?(N.isMatch=!1,T?N:!1):A(S)?(typeof f.onIgnore=="function"&&f.onIgnore(N),N.isMatch=!1,T?N:!1):(typeof f.onMatch=="function"&&f.onMatch(N),T?N:!0)};return e&&(R.state=E),R};Be.test=(n,t,e,{glob:u,posix:f}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};let h=e||{},y=h.format||(f?uu.toPosixSlashes:null),E=n===u,A=E&&y?y(n):n;return E===!1&&(A=y?y(n):n,E=A===u),(E===!1||h.capture===!0)&&(h.matchBase===!0||h.basename===!0?E=Be.matchBase(n,t,e,f):E=t.exec(A)),{isMatch:!!E,match:E,output:A}};Be.matchBase=(n,t,e,u=uu.isWindows(e))=>(t instanceof RegExp?t:Be.makeRe(t,e)).test($m.basename(n));Be.isMatch=(n,t,e)=>Be(t,e)(n);Be.parse=(n,t)=>Array.isArray(n)?n.map(e=>Be.parse(e,t)):au(n,{...t,fastpaths:!1});Be.scan=(n,t)=>Wm(n,t);Be.compileRe=(n,t,e=!1,u=!1)=>{if(e===!0)return n.output;let f=t||{},h=f.contains?"":"^",y=f.contains?"":"$",E=`${h}(?:${n.output})${y}`;n&&n.negated===!0&&(E=`^(?!${E}).*$`);let A=Be.toRegex(E,t);return u===!0&&(A.state=n),A};Be.makeRe=(n,t={},e=!1,u=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let f={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(f.output=au.fastpaths(n,t)),f.output||(f=au(n,t)),Be.compileRe(f,t,e,u)};Be.toRegex=(n,t)=>{try{let e=t||{};return new RegExp(n,e.flags||(e.nocase?"i":""))}catch(e){if(t&&t.debug===!0)throw e;return/$^/}};Be.constants=jm;id.exports=Be});var ad=q((vv,od)=>{"use strict";od.exports=sd()});var dd=q((wv,fd)=>{"use strict";var cd=require("util"),ld=Hf(),wt=ad(),cu=Tn(),ud=n=>n===""||n==="./",Le=(n,t,e)=>{t=[].concat(t),n=[].concat(n);let u=new Set,f=new Set,h=new Set,y=0,E=S=>{h.add(S.output),e&&e.onResult&&e.onResult(S)};for(let S=0;S<t.length;S++){let T=wt(String(t[S]),{...e,onResult:E},!0),D=T.state.negated||T.state.negatedExtglob;D&&y++;for(let re of n){let B=T(re,!0);(D?!B.isMatch:B.isMatch)&&(D?u.add(B.output):(u.delete(B.output),f.add(B.output)))}}let R=(y===t.length?[...h]:[...f]).filter(S=>!u.has(S));if(e&&R.length===0){if(e.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(e.nonull===!0||e.nullglob===!0)return e.unescape?t.map(S=>S.replace(/\\/g,"")):t}return R};Le.match=Le;Le.matcher=(n,t)=>wt(n,t);Le.isMatch=(n,t,e)=>wt(t,e)(n);Le.any=Le.isMatch;Le.not=(n,t,e={})=>{t=[].concat(t).map(String);let u=new Set,f=[],y=Le(n,t,{...e,onResult:E=>{e.onResult&&e.onResult(E),f.push(E.output)}});for(let E of f)y.includes(E)||u.add(E);return[...u]};Le.contains=(n,t,e)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${cd.inspect(n)}"`);if(Array.isArray(t))return t.some(u=>Le.contains(n,u,e));if(typeof t=="string"){if(ud(n)||ud(t))return!1;if(n.includes(t)||n.startsWith("./")&&n.slice(2).includes(t))return!0}return Le.isMatch(n,t,{...e,contains:!0})};Le.matchKeys=(n,t,e)=>{if(!cu.isObject(n))throw new TypeError("Expected the first argument to be an object");let u=Le(Object.keys(n),t,e),f={};for(let h of u)f[h]=n[h];return f};Le.some=(n,t,e)=>{let u=[].concat(n);for(let f of[].concat(t)){let h=wt(String(f),e);if(u.some(y=>h(y)))return!0}return!1};Le.every=(n,t,e)=>{let u=[].concat(n);for(let f of[].concat(t)){let h=wt(String(f),e);if(!u.every(y=>h(y)))return!1}return!0};Le.all=(n,t,e)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${cd.inspect(n)}"`);return[].concat(t).every(u=>wt(u,e)(n))};Le.capture=(n,t,e)=>{let u=cu.isWindows(e),h=wt.makeRe(String(n),{...e,capture:!0}).exec(u?cu.toPosixSlashes(t):t);if(h)return h.slice(1).map(y=>y===void 0?"":y)};Le.makeRe=(...n)=>wt.makeRe(...n);Le.scan=(...n)=>wt.scan(...n);Le.parse=(n,t)=>{let e=[];for(let u of[].concat(n||[]))for(let f of ld(String(u),t))e.push(wt.parse(f,t));return e};Le.braces=(n,t)=>{if(typeof n!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(n)?[n]:ld(n,t)};Le.braceExpand=(n,t)=>{if(typeof n!="string")throw new TypeError("Expected a string");return Le.braces(n,{...t,expand:!0})};fd.exports=Le});var vd=q(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.removeDuplicateSlashes=le.matchAny=le.convertPatternsToRe=le.makeRe=le.getPatternParts=le.expandBraceExpansion=le.expandPatternsWithBraceExpansion=le.isAffectDepthOfReadingPattern=le.endsWithSlashGlobStar=le.hasGlobStar=le.getBaseDirectory=le.isPatternRelatedToParentDirectory=le.getPatternsOutsideCurrentDirectory=le.getPatternsInsideCurrentDirectory=le.getPositivePatterns=le.getNegativePatterns=le.isPositivePattern=le.isNegativePattern=le.convertToNegativePattern=le.convertToPositivePattern=le.isDynamicPattern=le.isStaticPattern=void 0;var Gm=require("path"),Vm=rf(),lu=dd(),_d="**",Ym="\\",Km=/[*?]|^!/,Xm=/\[[^[]*]/,Qm=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Jm=/[!*+?@]\([^(]*\)/,Zm=/,|\.\./,eg=/(?!^)\/{2,}/g;function hd(n,t={}){return!pd(n,t)}le.isStaticPattern=hd;function pd(n,t={}){return n===""?!1:!!(t.caseSensitiveMatch===!1||n.includes(Ym)||Km.test(n)||Xm.test(n)||Qm.test(n)||t.extglob!==!1&&Jm.test(n)||t.braceExpansion!==!1&&tg(n))}le.isDynamicPattern=pd;function tg(n){let t=n.indexOf("{");if(t===-1)return!1;let e=n.indexOf("}",t+1);if(e===-1)return!1;let u=n.slice(t,e);return Zm.test(u)}function rg(n){return Fi(n)?n.slice(1):n}le.convertToPositivePattern=rg;function ng(n){return"!"+n}le.convertToNegativePattern=ng;function Fi(n){return n.startsWith("!")&&n[1]!=="("}le.isNegativePattern=Fi;function md(n){return!Fi(n)}le.isPositivePattern=md;function ig(n){return n.filter(Fi)}le.getNegativePatterns=ig;function sg(n){return n.filter(md)}le.getPositivePatterns=sg;function og(n){return n.filter(t=>!fu(t))}le.getPatternsInsideCurrentDirectory=og;function ag(n){return n.filter(fu)}le.getPatternsOutsideCurrentDirectory=ag;function fu(n){return n.startsWith("..")||n.startsWith("./..")}le.isPatternRelatedToParentDirectory=fu;function ug(n){return Vm(n,{flipBackslashes:!1})}le.getBaseDirectory=ug;function cg(n){return n.includes(_d)}le.hasGlobStar=cg;function gd(n){return n.endsWith("/"+_d)}le.endsWithSlashGlobStar=gd;function lg(n){let t=Gm.basename(n);return gd(n)||hd(t)}le.isAffectDepthOfReadingPattern=lg;function fg(n){return n.reduce((t,e)=>t.concat(yd(e)),[])}le.expandPatternsWithBraceExpansion=fg;function yd(n){let t=lu.braces(n,{expand:!0,nodupes:!0});return t.sort((e,u)=>e.length-u.length),t.filter(e=>e!=="")}le.expandBraceExpansion=yd;function dg(n,t){let{parts:e}=lu.scan(n,Object.assign(Object.assign({},t),{parts:!0}));return e.length===0&&(e=[n]),e[0].startsWith("/")&&(e[0]=e[0].slice(1),e.unshift("")),e}le.getPatternParts=dg;function bd(n,t){return lu.makeRe(n,t)}le.makeRe=bd;function _g(n,t){return n.map(e=>bd(e,t))}le.convertPatternsToRe=_g;function hg(n,t){return t.some(e=>e.test(n))}le.matchAny=hg;function pg(n){return n.replace(eg,"/")}le.removeDuplicateSlashes=pg});var kd=q((Sv,Sd)=>{"use strict";var mg=require("stream"),wd=mg.PassThrough,gg=Array.prototype.slice;Sd.exports=yg;function yg(){let n=[],t=gg.call(arguments),e=!1,u=t[t.length-1];u&&!Array.isArray(u)&&u.pipe==null?t.pop():u={};let f=u.end!==!1,h=u.pipeError===!0;u.objectMode==null&&(u.objectMode=!0),u.highWaterMark==null&&(u.highWaterMark=64*1024);let y=wd(u);function E(){for(let S=0,T=arguments.length;S<T;S++)n.push(Ed(arguments[S],u));return A(),this}function A(){if(e)return;e=!0;let S=n.shift();if(!S){process.nextTick(R);return}Array.isArray(S)||(S=[S]);let T=S.length+1;function D(){--T>0||(e=!1,A())}function re(B){function N(){B.removeListener("merge2UnpipeEnd",N),B.removeListener("end",N),h&&B.removeListener("error",K),D()}function K(ie){y.emit("error",ie)}if(B._readableState.endEmitted)return D();B.on("merge2UnpipeEnd",N),B.on("end",N),h&&B.on("error",K),B.pipe(y,{end:!1}),B.resume()}for(let B=0;B<S.length;B++)re(S[B]);D()}function R(){e=!1,y.emit("queueDrain"),f&&y.end()}return y.setMaxListeners(0),y.add=E,y.on("unpipe",function(S){S.emit("merge2UnpipeEnd")}),t.length&&E.apply(null,t),y}function Ed(n,t){if(Array.isArray(n))for(let e=0,u=n.length;e<u;e++)n[e]=Ed(n[e],t);else{if(!n._readableState&&n.pipe&&(n=n.pipe(wd(t))),!n._readableState||!n.pause||!n.pipe)throw new Error("Only readable stream can be merged.");n.pause()}return n}});var Rd=q(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.merge=void 0;var bg=kd();function vg(n){let t=bg(n);return n.forEach(e=>{e.once("error",u=>t.emit("error",u))}),t.once("close",()=>Ad(n)),t.once("end",()=>Ad(n)),t}Ci.merge=vg;function Ad(n){n.forEach(t=>t.emit("close"))}});var Dd=q(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isEmpty=Wr.isString=void 0;function wg(n){return typeof n=="string"}Wr.isString=wg;function Eg(n){return n===""}Wr.isEmpty=Eg});var Mt=q(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.string=Ve.stream=Ve.pattern=Ve.path=Ve.fs=Ve.errno=Ve.array=void 0;var Sg=Wl();Ve.array=Sg;var kg=jl();Ve.errno=kg;var Ag=zl();Ve.fs=Ag;var Rg=Kl();Ve.path=Rg;var Dg=vd();Ve.pattern=Dg;var Tg=Rd();Ve.stream=Tg;var Pg=Dd();Ve.string=Pg});var Cd=q(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.convertPatternGroupToTask=Ye.convertPatternGroupsToTasks=Ye.groupPatternsByBaseDirectory=Ye.getNegativePatternsAsPositive=Ye.getPositivePatterns=Ye.convertPatternsToTasks=Ye.generate=void 0;var pt=Mt();function Fg(n,t){let e=Td(n,t),u=Td(t.ignore,t),f=Pd(e),h=Fd(e,u),y=f.filter(S=>pt.pattern.isStaticPattern(S,t)),E=f.filter(S=>pt.pattern.isDynamicPattern(S,t)),A=du(y,h,!1),R=du(E,h,!0);return A.concat(R)}Ye.generate=Fg;function Td(n,t){let e=n;return t.braceExpansion&&(e=pt.pattern.expandPatternsWithBraceExpansion(e)),t.baseNameMatch&&(e=e.map(u=>u.includes("/")?u:`**/${u}`)),e.map(u=>pt.pattern.removeDuplicateSlashes(u))}function du(n,t,e){let u=[],f=pt.pattern.getPatternsOutsideCurrentDirectory(n),h=pt.pattern.getPatternsInsideCurrentDirectory(n),y=_u(f),E=_u(h);return u.push(...hu(y,t,e)),"."in E?u.push(pu(".",h,t,e)):u.push(...hu(E,t,e)),u}Ye.convertPatternsToTasks=du;function Pd(n){return pt.pattern.getPositivePatterns(n)}Ye.getPositivePatterns=Pd;function Fd(n,t){return pt.pattern.getNegativePatterns(n).concat(t).map(pt.pattern.convertToPositivePattern)}Ye.getNegativePatternsAsPositive=Fd;function _u(n){let t={};return n.reduce((e,u)=>{let f=pt.pattern.getBaseDirectory(u);return f in e?e[f].push(u):e[f]=[u],e},t)}Ye.groupPatternsByBaseDirectory=_u;function hu(n,t,e){return Object.keys(n).map(u=>pu(u,n[u],t,e))}Ye.convertPatternGroupsToTasks=hu;function pu(n,t,e,u){return{dynamic:u,positive:t,negative:e,base:n,patterns:[].concat(t,e.map(pt.pattern.convertToNegativePattern))}}Ye.convertPatternGroupToTask=pu});var Md=q(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.read=void 0;function Cg(n,t,e){t.fs.lstat(n,(u,f)=>{if(u!==null){xd(e,u);return}if(!f.isSymbolicLink()||!t.followSymbolicLink){mu(e,f);return}t.fs.stat(n,(h,y)=>{if(h!==null){if(t.throwErrorOnBrokenSymbolicLink){xd(e,h);return}mu(e,f);return}t.markSymbolicLink&&(y.isSymbolicLink=()=>!0),mu(e,y)})})}xi.read=Cg;function xd(n,t){n(t)}function mu(n,t){n(null,t)}});var Od=q(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.read=void 0;function xg(n,t){let e=t.fs.lstatSync(n);if(!e.isSymbolicLink()||!t.followSymbolicLink)return e;try{let u=t.fs.statSync(n);return t.markSymbolicLink&&(u.isSymbolicLink=()=>!0),u}catch(u){if(!t.throwErrorOnBrokenSymbolicLink)return e;throw u}}Mi.read=xg});var Ld=q(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.createFileSystemAdapter=Vt.FILE_SYSTEM_ADAPTER=void 0;var Oi=require("fs");Vt.FILE_SYSTEM_ADAPTER={lstat:Oi.lstat,stat:Oi.stat,lstatSync:Oi.lstatSync,statSync:Oi.statSync};function Mg(n){return n===void 0?Vt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Vt.FILE_SYSTEM_ADAPTER),n)}Vt.createFileSystemAdapter=Mg});var Id=q(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});var Og=Ld(),gu=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Og.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return t??e}};yu.default=gu});var wr=q(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.statSync=Yt.stat=Yt.Settings=void 0;var Nd=Md(),Lg=Od(),bu=Id();Yt.Settings=bu.default;function Ig(n,t,e){if(typeof t=="function"){Nd.read(n,vu(),t);return}Nd.read(n,vu(t),e)}Yt.stat=Ig;function Ng(n,t){let e=vu(t);return Lg.read(n,e)}Yt.statSync=Ng;function vu(n={}){return n instanceof bu.default?n:new bu.default(n)}});var Hd=q((Mv,Ud)=>{var Bd;Ud.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):n=>(Bd||(Bd=Promise.resolve())).then(n).catch(t=>setTimeout(()=>{throw t},0))});var $d=q((Ov,qd)=>{qd.exports=Ug;var Bg=Hd();function Ug(n,t){let e,u,f,h=!0;Array.isArray(n)?(e=[],u=n.length):(f=Object.keys(n),e={},u=f.length);function y(A){function R(){t&&t(A,e),t=null}h?Bg(R):R()}function E(A,R,S){e[A]=S,(--u===0||R)&&y(R)}u?f?f.forEach(function(A){n[A](function(R,S){E(A,R,S)})}):n.forEach(function(A,R){A(function(S,T){E(R,S,T)})}):y(null),h=!1}});var wu=q(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Li=process.versions.node.split(".");if(Li[0]===void 0||Li[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Wd=Number.parseInt(Li[0],10),Hg=Number.parseInt(Li[1],10),jd=10,qg=10,$g=Wd>jd,Wg=Wd===jd&&Hg>=qg;Ii.IS_SUPPORT_READDIR_WITH_FILE_TYPES=$g||Wg});var zd=q(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.createDirentFromStats=void 0;var Eu=class{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}};function jg(n,t){return new Eu(n,t)}Ni.createDirentFromStats=jg});var Su=q(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.fs=void 0;var zg=zd();Bi.fs=zg});var ku=q(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.joinPathSegments=void 0;function Gg(n,t,e){return n.endsWith(e)?n+t:n+e+t}Ui.joinPathSegments=Gg});var Qd=q(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.readdir=Kt.readdirWithFileTypes=Kt.read=void 0;var Vg=wr(),Gd=$d(),Yg=wu(),Vd=Su(),Yd=ku();function Kg(n,t,e){if(!t.stats&&Yg.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Kd(n,t,e);return}Xd(n,t,e)}Kt.read=Kg;function Kd(n,t,e){t.fs.readdir(n,{withFileTypes:!0},(u,f)=>{if(u!==null){Hi(e,u);return}let h=f.map(E=>({dirent:E,name:E.name,path:Yd.joinPathSegments(n,E.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){Au(e,h);return}let y=h.map(E=>Xg(E,t));Gd(y,(E,A)=>{if(E!==null){Hi(e,E);return}Au(e,A)})})}Kt.readdirWithFileTypes=Kd;function Xg(n,t){return e=>{if(!n.dirent.isSymbolicLink()){e(null,n);return}t.fs.stat(n.path,(u,f)=>{if(u!==null){if(t.throwErrorOnBrokenSymbolicLink){e(u);return}e(null,n);return}n.dirent=Vd.fs.createDirentFromStats(n.name,f),e(null,n)})}}function Xd(n,t,e){t.fs.readdir(n,(u,f)=>{if(u!==null){Hi(e,u);return}let h=f.map(y=>{let E=Yd.joinPathSegments(n,y,t.pathSegmentSeparator);return A=>{Vg.stat(E,t.fsStatSettings,(R,S)=>{if(R!==null){A(R);return}let T={name:y,path:E,dirent:Vd.fs.createDirentFromStats(y,S)};t.stats&&(T.stats=S),A(null,T)})}});Gd(h,(y,E)=>{if(y!==null){Hi(e,y);return}Au(e,E)})})}Kt.readdir=Xd;function Hi(n,t){n(t)}function Au(n,t){n(null,t)}});var r_=q(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.readdir=Xt.readdirWithFileTypes=Xt.read=void 0;var Qg=wr(),Jg=wu(),Jd=Su(),Zd=ku();function Zg(n,t){return!t.stats&&Jg.IS_SUPPORT_READDIR_WITH_FILE_TYPES?e_(n,t):t_(n,t)}Xt.read=Zg;function e_(n,t){return t.fs.readdirSync(n,{withFileTypes:!0}).map(u=>{let f={dirent:u,name:u.name,path:Zd.joinPathSegments(n,u.name,t.pathSegmentSeparator)};if(f.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let h=t.fs.statSync(f.path);f.dirent=Jd.fs.createDirentFromStats(f.name,h)}catch(h){if(t.throwErrorOnBrokenSymbolicLink)throw h}return f})}Xt.readdirWithFileTypes=e_;function t_(n,t){return t.fs.readdirSync(n).map(u=>{let f=Zd.joinPathSegments(n,u,t.pathSegmentSeparator),h=Qg.statSync(f,t.fsStatSettings),y={name:u,path:f,dirent:Jd.fs.createDirentFromStats(u,h)};return t.stats&&(y.stats=h),y})}Xt.readdir=t_});var n_=q(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.createFileSystemAdapter=Qt.FILE_SYSTEM_ADAPTER=void 0;var jr=require("fs");Qt.FILE_SYSTEM_ADAPTER={lstat:jr.lstat,stat:jr.stat,lstatSync:jr.lstatSync,statSync:jr.statSync,readdir:jr.readdir,readdirSync:jr.readdirSync};function ey(n){return n===void 0?Qt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Qt.FILE_SYSTEM_ADAPTER),n)}Qt.createFileSystemAdapter=ey});var i_=q(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var ty=require("path"),ry=wr(),ny=n_(),Ru=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=ny.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,ty.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new ry.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return t??e}};Du.default=Ru});var qi=q(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.Settings=Jt.scandirSync=Jt.scandir=void 0;var s_=Qd(),iy=r_(),Tu=i_();Jt.Settings=Tu.default;function sy(n,t,e){if(typeof t=="function"){s_.read(n,Pu(),t);return}s_.read(n,Pu(t),e)}Jt.scandir=sy;function oy(n,t){let e=Pu(t);return iy.read(n,e)}Jt.scandirSync=oy;function Pu(n={}){return n instanceof Tu.default?n:new Tu.default(n)}});var a_=q((jv,o_)=>{"use strict";function ay(n){var t=new n,e=t;function u(){var h=t;return h.next?t=h.next:(t=new n,e=t),h.next=null,h}function f(h){e.next=h,e=h}return{get:u,release:f}}o_.exports=ay});var c_=q((zv,Fu)=>{"use strict";var uy=a_();function u_(n,t,e){if(typeof n=="function"&&(e=t,t=n,n=null),e<1)throw new Error("fastqueue concurrency must be greater than 1");var u=uy(cy),f=null,h=null,y=0,E=null,A={push:N,drain:ct,saturated:ct,pause:S,paused:!1,concurrency:e,running:R,resume:re,idle:B,length:T,getQueue:D,unshift:K,empty:ct,kill:me,killAndDrain:de,error:ke};return A;function R(){return y}function S(){A.paused=!0}function T(){for(var I=f,_e=0;I;)I=I.next,_e++;return _e}function D(){for(var I=f,_e=[];I;)_e.push(I.value),I=I.next;return _e}function re(){if(A.paused){A.paused=!1;for(var I=0;I<A.concurrency;I++)y++,ie()}}function B(){return y===0&&A.length()===0}function N(I,_e){var ue=u.get();ue.context=n,ue.release=ie,ue.value=I,ue.callback=_e||ct,ue.errorHandler=E,y===A.concurrency||A.paused?h?(h.next=ue,h=ue):(f=ue,h=ue,A.saturated()):(y++,t.call(n,ue.value,ue.worked))}function K(I,_e){var ue=u.get();ue.context=n,ue.release=ie,ue.value=I,ue.callback=_e||ct,y===A.concurrency||A.paused?f?(ue.next=f,f=ue):(f=ue,h=ue,A.saturated()):(y++,t.call(n,ue.value,ue.worked))}function ie(I){I&&u.release(I);var _e=f;_e?A.paused?y--:(h===f&&(h=null),f=_e.next,_e.next=null,t.call(n,_e.value,_e.worked),h===null&&A.empty()):--y===0&&A.drain()}function me(){f=null,h=null,A.drain=ct}function de(){f=null,h=null,A.drain(),A.drain=ct}function ke(I){E=I}}function ct(){}function cy(){this.value=null,this.callback=ct,this.next=null,this.release=ct,this.context=null,this.errorHandler=null;var n=this;this.worked=function(e,u){var f=n.callback,h=n.errorHandler,y=n.value;n.value=null,n.callback=ct,n.errorHandler&&h(e,y),f.call(n.context,e,u),n.release(n)}}function ly(n,t,e){typeof n=="function"&&(e=t,t=n,n=null);function u(S,T){t.call(this,S).then(function(D){T(null,D)},T)}var f=u_(n,u,e),h=f.push,y=f.unshift;return f.push=E,f.unshift=A,f.drained=R,f;function E(S){var T=new Promise(function(D,re){h(S,function(B,N){if(B){re(B);return}D(N)})});return T.catch(ct),T}function A(S){var T=new Promise(function(D,re){y(S,function(B,N){if(B){re(B);return}D(N)})});return T.catch(ct),T}function R(){var S=f.drain,T=new Promise(function(D){f.drain=function(){S(),D()}});return T}}Fu.exports=u_;Fu.exports.promise=ly});var $i=q(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.joinPathSegments=Et.replacePathSegmentSeparator=Et.isAppliedFilter=Et.isFatalError=void 0;function fy(n,t){return n.errorFilter===null?!0:!n.errorFilter(t)}Et.isFatalError=fy;function dy(n,t){return n===null||n(t)}Et.isAppliedFilter=dy;function _y(n,t){return n.split(/[/\\]/).join(t)}Et.replacePathSegmentSeparator=_y;function hy(n,t,e){return n===""?t:n.endsWith(e)?n+t:n+e+t}Et.joinPathSegments=hy});var Mu=q(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});var py=$i(),Cu=class{constructor(t,e){this._root=t,this._settings=e,this._root=py.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}};xu.default=Cu});var Iu=q(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});var my=require("events"),gy=qi(),yy=c_(),Wi=$i(),by=Mu(),Ou=class extends by.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=gy.scandir,this._emitter=new my.EventEmitter,this._queue=yy(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){let u={directory:t,base:e};this._queue.push(u,f=>{f!==null&&this._handleError(f)})}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,(u,f)=>{if(u!==null){e(u,void 0);return}for(let h of f)this._handleEntry(h,t.base);e(null,void 0)})}_handleError(t){this._isDestroyed||!Wi.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;let u=t.path;e!==void 0&&(t.path=Wi.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),Wi.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Wi.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(u,e===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Lu.default=Ou});var l_=q(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});var vy=Iu(),Nu=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new vy.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(e=>{wy(t,e)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{Ey(t,this._storage)}),this._reader.read()}};Bu.default=Nu;function wy(n,t){n(t)}function Ey(n,t){n(null,t)}});var f_=q(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});var Sy=require("stream"),ky=Iu(),Uu=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new ky.default(this._root,this._settings),this._stream=new Sy.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Hu.default=Uu});var d_=q($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var Ay=qi(),ji=$i(),Ry=Mu(),qu=class extends Ry.default{constructor(){super(...arguments),this._scandir=Ay.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{let u=this._scandir(t,this._settings.fsScandirSettings);for(let f of u)this._handleEntry(f,e)}catch(u){this._handleError(u)}}_handleError(t){if(ji.isFatalError(this._settings,t))throw t}_handleEntry(t,e){let u=t.path;e!==void 0&&(t.path=ji.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),ji.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&ji.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(u,e===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};$u.default=qu});var __=q(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var Dy=d_(),Wu=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new Dy.default(this._root,this._settings)}read(){return this._reader.read()}};ju.default=Wu});var h_=q(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var Ty=require("path"),Py=qi(),zu=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Ty.sep),this.fsScandirSettings=new Py.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return t??e}};Gu.default=zu});var Gi=q(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.Settings=St.walkStream=St.walkSync=St.walk=void 0;var p_=l_(),Fy=f_(),Cy=__(),Vu=h_();St.Settings=Vu.default;function xy(n,t,e){if(typeof t=="function"){new p_.default(n,zi()).read(t);return}new p_.default(n,zi(t)).read(e)}St.walk=xy;function My(n,t){let e=zi(t);return new Cy.default(n,e).read()}St.walkSync=My;function Oy(n,t){let e=zi(t);return new Fy.default(n,e).read()}St.walkStream=Oy;function zi(n={}){return n instanceof Vu.default?n:new Vu.default(n)}});var Vi=q(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});var Ly=require("path"),Iy=wr(),m_=Mt(),Yu=class{constructor(t){this._settings=t,this._fsStatSettings=new Iy.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return Ly.resolve(this._settings.cwd,t)}_makeEntry(t,e){let u={name:e,path:e,dirent:m_.fs.createDirentFromStats(e,t)};return this._settings.stats&&(u.stats=t),u}_isFatalError(t){return!m_.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Ku.default=Yu});var Ju=q(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});var Ny=require("stream"),By=wr(),Uy=Gi(),Hy=Vi(),Xu=class extends Hy.default{constructor(){super(...arguments),this._walkStream=Uy.walkStream,this._stat=By.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){let u=t.map(this._getFullEntryPath,this),f=new Ny.PassThrough({objectMode:!0});f._write=(h,y,E)=>this._getEntry(u[h],t[h],e).then(A=>{A!==null&&e.entryFilter(A)&&f.push(A),h===u.length-1&&f.end(),E()}).catch(E);for(let h=0;h<u.length;h++)f.write(h);return f}_getEntry(t,e,u){return this._getStat(t).then(f=>this._makeEntry(f,e)).catch(f=>{if(u.errorFilter(f))return null;throw f})}_getStat(t){return new Promise((e,u)=>{this._stat(t,this._fsStatSettings,(f,h)=>f===null?e(h):u(f))})}};Qu.default=Xu});var g_=q(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});var qy=Gi(),$y=Vi(),Wy=Ju(),Zu=class extends $y.default{constructor(){super(...arguments),this._walkAsync=qy.walk,this._readerStream=new Wy.default(this._settings)}dynamic(t,e){return new Promise((u,f)=>{this._walkAsync(t,e,(h,y)=>{h===null?u(y):f(h)})})}async static(t,e){let u=[],f=this._readerStream.static(t,e);return new Promise((h,y)=>{f.once("error",y),f.on("data",E=>u.push(E)),f.once("end",()=>h(u))})}};ec.default=Zu});var y_=q(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var Fn=Mt(),tc=class{constructor(t,e,u){this._patterns=t,this._settings=e,this._micromatchOptions=u,this._storage=[],this._fillStorage()}_fillStorage(){for(let t of this._patterns){let e=this._getPatternSegments(t),u=this._splitSegmentsIntoSections(e);this._storage.push({complete:u.length<=1,pattern:t,segments:e,sections:u})}}_getPatternSegments(t){return Fn.pattern.getPatternParts(t,this._micromatchOptions).map(u=>Fn.pattern.isDynamicPattern(u,this._settings)?{dynamic:!0,pattern:u,patternRe:Fn.pattern.makeRe(u,this._micromatchOptions)}:{dynamic:!1,pattern:u})}_splitSegmentsIntoSections(t){return Fn.array.splitWhen(t,e=>e.dynamic&&Fn.pattern.hasGlobStar(e.pattern))}};rc.default=tc});var b_=q(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});var jy=y_(),nc=class extends jy.default{match(t){let e=t.split("/"),u=e.length,f=this._storage.filter(h=>!h.complete||h.segments.length>u);for(let h of f){let y=h.sections[0];if(!h.complete&&u>y.length||e.every((A,R)=>{let S=h.segments[R];return!!(S.dynamic&&S.patternRe.test(A)||!S.dynamic&&S.pattern===A)}))return!0}return!1}};ic.default=nc});var v_=q(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});var Yi=Mt(),zy=b_(),sc=class{constructor(t,e){this._settings=t,this._micromatchOptions=e}getFilter(t,e,u){let f=this._getMatcher(e),h=this._getNegativePatternsRe(u);return y=>this._filter(t,y,f,h)}_getMatcher(t){return new zy.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let e=t.filter(Yi.pattern.isAffectDepthOfReadingPattern);return Yi.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,u,f){if(this._isSkippedByDeep(t,e.path)||this._isSkippedSymbolicLink(e))return!1;let h=Yi.path.removeLeadingDotSegment(e.path);return this._isSkippedByPositivePatterns(h,u)?!1:this._isSkippedByNegativePatterns(h,f)}_isSkippedByDeep(t,e){return this._settings.deep===1/0?!1:this._getEntryLevel(t,e)>=this._settings.deep}_getEntryLevel(t,e){let u=e.split("/").length;if(t==="")return u;let f=t.split("/").length;return u-f}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!Yi.pattern.matchAny(t,e)}};oc.default=sc});var w_=q(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});var Er=Mt(),ac=class{constructor(t,e){this._settings=t,this._micromatchOptions=e,this.index=new Map}getFilter(t,e){let u=Er.pattern.convertPatternsToRe(t,this._micromatchOptions),f=Er.pattern.convertPatternsToRe(e,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return h=>this._filter(h,u,f)}_filter(t,e,u){let f=Er.path.removeLeadingDotSegment(t.path);if(this._settings.unique&&this._isDuplicateEntry(f)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(f,u))return!1;let h=t.dirent.isDirectory(),y=this._isMatchToPatterns(f,e,h)&&!this._isMatchToPatterns(f,u,h);return this._settings.unique&&y&&this._createIndexRecord(f),y}_isDuplicateEntry(t){return this.index.has(t)}_createIndexRecord(t){this.index.set(t,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return!1;let u=Er.path.makeAbsolute(this._settings.cwd,t);return Er.pattern.matchAny(u,e)}_isMatchToPatterns(t,e,u){let f=Er.pattern.matchAny(t,e);return!f&&u?Er.pattern.matchAny(t+"/",e):f}};uc.default=ac});var E_=q(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var Gy=Mt(),cc=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Gy.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};lc.default=cc});var k_=q(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});var S_=Mt(),fc=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;return this._settings.absolute&&(e=S_.path.makeAbsolute(this._settings.cwd,e),e=S_.path.unixify(e)),this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}};dc.default=fc});var Ki=q(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});var Vy=require("path"),Yy=v_(),Ky=w_(),Xy=E_(),Qy=k_(),_c=class{constructor(t){this._settings=t,this.errorFilter=new Xy.default(this._settings),this.entryFilter=new Ky.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Yy.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Qy.default(this._settings)}_getRootDirectory(t){return Vy.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let e=t.base==="."?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};hc.default=_c});var A_=q(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var Jy=g_(),Zy=Ki(),pc=class extends Zy.default{constructor(){super(...arguments),this._reader=new Jy.default(this._settings)}async read(t){let e=this._getRootDirectory(t),u=this._getReaderOptions(t);return(await this.api(e,t,u)).map(h=>u.transform(h))}api(t,e,u){return e.dynamic?this._reader.dynamic(t,u):this._reader.static(e.patterns,u)}};mc.default=pc});var R_=q(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});var eb=require("stream"),tb=Ju(),rb=Ki(),gc=class extends rb.default{constructor(){super(...arguments),this._reader=new tb.default(this._settings)}read(t){let e=this._getRootDirectory(t),u=this._getReaderOptions(t),f=this.api(e,t,u),h=new eb.Readable({objectMode:!0,read:()=>{}});return f.once("error",y=>h.emit("error",y)).on("data",y=>h.emit("data",u.transform(y))).once("end",()=>h.emit("end")),h.once("close",()=>f.destroy()),h}api(t,e,u){return e.dynamic?this._reader.dynamic(t,u):this._reader.static(e.patterns,u)}};yc.default=gc});var D_=q(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});var nb=wr(),ib=Gi(),sb=Vi(),bc=class extends sb.default{constructor(){super(...arguments),this._walkSync=ib.walkSync,this._statSync=nb.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){let u=[];for(let f of t){let h=this._getFullEntryPath(f),y=this._getEntry(h,f,e);y===null||!e.entryFilter(y)||u.push(y)}return u}_getEntry(t,e,u){try{let f=this._getStat(t);return this._makeEntry(f,e)}catch(f){if(u.errorFilter(f))return null;throw f}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};vc.default=bc});var T_=q(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});var ob=D_(),ab=Ki(),wc=class extends ab.default{constructor(){super(...arguments),this._reader=new ob.default(this._settings)}read(t){let e=this._getRootDirectory(t),u=this._getReaderOptions(t);return this.api(e,t,u).map(u.transform)}api(t,e,u){return e.dynamic?this._reader.dynamic(t,u):this._reader.static(e.patterns,u)}};Ec.default=wc});var P_=q(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var zr=require("fs"),ub=require("os"),cb=Math.max(ub.cpus().length,1);Gr.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:zr.lstat,lstatSync:zr.lstatSync,stat:zr.stat,statSync:zr.statSync,readdir:zr.readdir,readdirSync:zr.readdirSync};var Sc=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,cb),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(t,e){return t===void 0?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Gr.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Gr.default=Sc});var x_=q((mw,C_)=>{"use strict";var F_=Cd(),lb=A_(),fb=R_(),db=T_(),kc=P_(),lt=Mt();async function Ac(n,t){mt(n);let e=Rc(n,lb.default,t),u=await Promise.all(e);return lt.array.flatten(u)}(function(n){n.glob=n,n.globSync=t,n.globStream=e,n.async=n;function t(R,S){mt(R);let T=Rc(R,db.default,S);return lt.array.flatten(T)}n.sync=t;function e(R,S){mt(R);let T=Rc(R,fb.default,S);return lt.stream.merge(T)}n.stream=e;function u(R,S){mt(R);let T=[].concat(R),D=new kc.default(S);return F_.generate(T,D)}n.generateTasks=u;function f(R,S){mt(R);let T=new kc.default(S);return lt.pattern.isDynamicPattern(R,T)}n.isDynamicPattern=f;function h(R){return mt(R),lt.path.escape(R)}n.escapePath=h;function y(R){return mt(R),lt.path.convertPathToPattern(R)}n.convertPathToPattern=y;let E;(function(R){function S(D){return mt(D),lt.path.escapePosixPath(D)}R.escapePath=S;function T(D){return mt(D),lt.path.convertPosixPathToPattern(D)}R.convertPathToPattern=T})(E=n.posix||(n.posix={}));let A;(function(R){function S(D){return mt(D),lt.path.escapeWindowsPath(D)}R.escapePath=S;function T(D){return mt(D),lt.path.convertWindowsPathToPattern(D)}R.convertPathToPattern=T})(A=n.win32||(n.win32={}))})(Ac||(Ac={}));function Rc(n,t,e){let u=[].concat(n),f=new kc.default(e),h=F_.generate(u,f),y=new t(f);return h.map(y.read,y)}function mt(n){if(![].concat(n).every(u=>lt.string.isString(u)&&!lt.string.isEmpty(u)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}C_.exports=Ac});var _b={};W_(_b,{registerWorker:()=>O_});module.exports=j_(_b);var we=_r(require("apache-arrow"));function Ir(n){switch(n.typeId){case we.Type.Binary:return{sqlType:"binary"};case we.Type.Bool:return{sqlType:"bool"};case we.Type.Date:return{sqlType:"date"};case we.Type.DateDay:return{sqlType:"date32[d]"};case we.Type.DateMillisecond:return{sqlType:"date64[ms]"};case we.Type.Decimal:{let t=n;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case we.Type.Float:return{sqlType:"float"};case we.Type.Float16:return{sqlType:"float16"};case we.Type.Float32:return{sqlType:"float32"};case we.Type.Float64:return{sqlType:"float64"};case we.Type.Int:return{sqlType:"int32"};case we.Type.Int16:return{sqlType:"int16"};case we.Type.Int32:return{sqlType:"int32"};case we.Type.Int64:return{sqlType:"int64"};case we.Type.Uint16:return{sqlType:"uint16"};case we.Type.Uint32:return{sqlType:"uint32"};case we.Type.Uint64:return{sqlType:"uint64"};case we.Type.Uint8:return{sqlType:"uint8"};case we.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case we.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case we.Type.List:return{sqlType:"list",valueType:Ir(n.valueType)};case we.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case we.Type.Null:return{sqlType:"null"};case we.Type.Utf8:return{sqlType:"utf8"};case we.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>ei(e.name,e.type))};case we.Type.Map:{let t=n;return{sqlType:"map",keyType:Ir(t.keyType),valueType:Ir(t.valueType)}}case we.Type.Time:return{sqlType:"time[s]"};case we.Type.TimeMicrosecond:return{sqlType:"time[us]"};case we.Type.TimeMillisecond:return{sqlType:"time[ms]"};case we.Type.TimeNanosecond:return{sqlType:"time[ns]"};case we.Type.TimeSecond:return{sqlType:"time[s]"};case we.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case we.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case we.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case we.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case we.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function ei(n,t){let e=Ir(t);return e.name=n,e}var ti=class{constructor(){this._bindings=null;this._nextMessageId=0}log(t){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:t},[])}sendOK(t){this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"OK",data:null},[])}failWith(t,e){let u={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"ERROR",data:u},[])}sendRaw(t,e,u){let f={messageId:this._nextMessageId++,requestId:t.messageId,type:e,data:u};this.postMessage(f,[])}async onMessage(t){switch(t.type){case"PING":this.sendOK(t);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(t,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(t.data[0],t.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(t)}catch(e){console.log(e),this._bindings=null,this.failWith(t,e)}return;default:break}if(!this._bindings)return this.failWith(t,new Error("duckdb is not initialized"));try{switch(t.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(t);break;case"OPEN":this._bindings.open(t.data),this.sendOK(t);break;case"DROP_FILE":this._bindings.dropFile(t.data),this.sendOK(t);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(t);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(t);break;case"CLOSE_FILE":{let e=this._bindings.closeFile(t.data);this.sendRaw(t,"SUCCESS",e);break}case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((u,f)=>f)},[]);break}case"DISCONNECT":this._bindings.disconnect(t.data),this.sendOK(t);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(t.data[0],t.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(t.data[0],t.data[1]),this.sendOK(t);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(t.data[0],t.data[1],t.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(t.data[0],t.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(t.data[0],t.data[1],t.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(t.data[0],t.data[1]),u=[];e&&u.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},u);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(t.data),u=[];e&&u.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},u);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(t.data[0],t.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(t.data[0],t.data[1],t.data[2],t.data[3]),this.sendOK(t);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(t.data[0],t.data[1]),this.sendOK(t);break;case"REGISTER_FILE_HANDLE":await this._bindings.registerFileHandle(t.data[0],t.data[1],t.data[2],t.data[3]),this.sendOK(t);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(t.data[0],t.data[1]),this.sendOK(t);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(t.data[0],t.data[1]),this.sendOK(t);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(t.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(t.data[0],t.data[1],t.data[2]),this.sendOK(t);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(t.data[0],t.data[1],t.data[2]),this.sendOK(t);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(t.data[0],t.data[1],t.data[2]),this.sendOK(t);break}case"TOKENIZE":{let e=this._bindings.tokenize(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return console.log(e),this.failWith(t,e)}}};var $l=_r(Ml());var Hl=_r(Ol());var bt=_r(require("apache-arrow")),pi=class{constructor(t,e){this._bindings=t,this._conn=e}close(){this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}query(t){let e=this._bindings.runQuery(this._conn,t),u=bt.RecordBatchReader.from(e);return console.assert(u.isSync()),console.assert(u.isFile()),new bt.Table(u)}async send(t){let e=this._bindings.startPendingQuery(this._conn,t);for(;e==null;)e=await new Promise((h,y)=>{try{h(this._bindings.pollPendingQuery(this._conn))}catch(E){console.log(E),y(E)}});let u=new mi(this._bindings,this._conn,e),f=bt.RecordBatchReader.from(u);return console.assert(f.isSync()),console.assert(f.isStream()),f}cancelSent(){return this._bindings.cancelPendingQuery(this._conn)}getTableNames(t){return this._bindings.getTableNames(this._conn,t)}prepare(t){let e=this._bindings.createPrepared(this._conn,t);return new qa(this._bindings,this._conn,e)}createScalarFunction(t,e,u){this._bindings.createScalarFunction(this._conn,t,e,u)}insertArrowTable(t,e){let u=bt.tableToIPC(t,"stream");this.insertArrowFromIPCStream(u,e)}insertArrowFromIPCStream(t,e){this._bindings.insertArrowFromIPCStream(this._conn,t,e)}insertCSVFromPath(t,e){this._bindings.insertCSVFromPath(this._conn,t,e)}insertJSONFromPath(t,e){this._bindings.insertJSONFromPath(this._conn,t,e)}},mi=class{constructor(t,e,u){this.bindings=t;this.conn=e;this.header=u;this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=this.bindings.fetchQueryResults(this.conn);return this._depleted=t.length==0,{done:this._depleted,value:t}}[Symbol.iterator](){return this}},qa=class{constructor(t,e,u){this.bindings=t,this.connectionId=e,this.statementId=u}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...t){let e=this.bindings.runPrepared(this.connectionId,this.statementId,t),u=bt.RecordBatchReader.from(e);return console.assert(u.isSync()),console.assert(u.isFile()),new bt.Table(u)}send(...t){let e=this.bindings.sendPrepared(this.connectionId,this.statementId,t),u=new mi(this.bindings,this.connectionId,e),f=bt.RecordBatchReader.from(u);return console.assert(f.isSync()),console.assert(f.isStream()),f}};var Nl=new TextEncoder,Ll=new TextDecoder("utf-8");function $a(n,t,e){let u=Nl.encode(e),f=n._malloc(u.byteLength),h=n.HEAPU8.subarray(f,f+u.byteLength);h.set(u),n.HEAPF64[(t>>3)+0]=1,n.HEAPF64[(t>>3)+1]=f,n.HEAPF64[(t>>3)+2]=h.byteLength}function ja(n){switch(n){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Wa(n,t,e,u){let f=n.HEAPU8.subarray(t,t+u*ja(e));switch(e){case"UINT8":return new Uint8Array(f.buffer,f.byteOffset,u);case"INT8":return new Int8Array(f.buffer,f.byteOffset,u);case"INT32":return new Int32Array(f.buffer,f.byteOffset,u);case"FLOAT":return new Float32Array(f.buffer,f.byteOffset,u);case"DOUBLE":return new Float64Array(f.buffer,f.byteOffset,u);case"VARCHAR":return new Float64Array(f.buffer,f.byteOffset,u);default:return new Array(0)}}function Il(n,t,e){let u=n.HEAPU8.subarray(t,t+e);return new Uint8Array(u.buffer,u.byteOffset,e)}function gi(n,t,e){let u=n.HEAPU8.subarray(t,t+e*8);return new Float64Array(u.buffer,u.byteOffset,e)}function Bl(n,t,e,u,f,h,y,E){try{let A=n._udfFunctions.get(u);if(!A){$a(t,e,"Unknown UDF with id: "+u);return}let R=Ll.decode(t.HEAPU8.subarray(f,f+h)),S=JSON.parse(R),T=gi(t,y,E/8),D=V=>{var M;let ge=null;switch(V.validityBuffer!==void 0&&(ge=Il(t,T[V.validityBuffer],S.rows)),V.physicalType){case"VARCHAR":{if(V.dataBuffer===null||V.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(V.lengthBuffer===null||V.lengthBuffer===void 0)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let X=Wa(t,T[V.dataBuffer],V.physicalType,S.rows),te=[],he=gi(t,T[V.lengthBuffer],S.rows);for(let C=0;C<S.rows;++C){if(ge!=null&&!ge[C]){te.push(null);continue}let v=t.HEAPU8.subarray(X[C],X[C]+he[C]),j=Ll.decode(v);te.push(j)}return C=>te[C]}case"STRUCT":{let X={},te=[];for(let he=0;he<(((M=V.children)==null?void 0:M.length)||0);++he){let C=V.children[he],v=D(C);te.push(j=>{X[C.name]=v(j)})}return ge!=null?he=>{if(!ge[he])return null;for(let C of te)C(he);return X}:he=>{for(let C of te)C(he);return X}}default:{if(V.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for argument of type: "+V.physicalType);let X=Wa(t,T[V.dataBuffer],V.physicalType,S.rows);return ge!=null?te=>ge[te]?X[te]:null:te=>X[te]}}},re=[];for(let V=0;V<S.args.length;++V)re.push(D(S.args[V]));let B=S.rows*ja(S.ret.physicalType),N=t._malloc(B),K=Wa(t,N,S.ret.physicalType,S.rows),ie=t._malloc(S.rows),me=Il(t,ie,S.rows);if(K.length==0||me.length==0){$a(t,e,"Can't create physical arrays for result");return}let de=K;S.ret.physicalType=="VARCHAR"&&(de=new Array(S.rows));let ke=[];for(let V=0;V<S.args.length;++V)ke.push(null);for(let V=0;V<S.rows;++V){for(let M=0;M<S.args.length;++M)ke[M]=re[M](V);let ge=A.func(...ke);de[V]=ge,me[V]=ge==null?0:1}let I=0;switch(S.ret.physicalType){case"VARCHAR":{let V=new Array(0);I=t._malloc(S.rows*ja("DOUBLE"));let ge=gi(t,I,S.rows),M=0;for(let C=0;C<S.rows;++C){let v=Nl.encode(de[C]||"");V.push(v),ge[C]=v.length,M+=v.length}let X=t._malloc(M),te=t.HEAPU8.subarray(X,X+M),he=0;for(let C=0;C<S.rows;++C){K[C]=he;let v=V[C];te.subarray(he,he+v.length).set(v),he+=v.length}}}let _e=3*8,ue=t._malloc(_e),J=gi(t,ue,3);J[0]=N,J[1]=ie,J[2]=I,t.HEAPF64[(e>>3)+0]=0,t.HEAPF64[(e>>3)+1]=ue,t.HEAPF64[(e>>3)+2]=0}catch(A){$a(t,e,A.toString())}}function rp(){let n=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),n.decode(t))}var gr=rp();function Oe(n,t){console.error(`FAIL WITH: ${t}`),n.ccall("duckdb_web_fail_with",null,["string"],[t])}function yr(n,t,e){let u=n.HEAPU8.subarray(t,t+e),f=new Uint8Array(new ArrayBuffer(u.byteLength));return f.set(u),f}function ve(n,t,e){return gr(n.HEAPU8.subarray(t,t+e))}function Re(n,t,e,u){let f=n.stackSave(),h=n.stackAlloc(3*8);e.unshift("number"),u.unshift(h),n.ccall(t,null,e,u);let y=n.HEAPF64[(h>>3)+0],E=n.HEAPF64[(h>>3)+1],A=n.HEAPF64[(h>>3)+2];return n.stackRestore(f),[y,E,A]}function Pe(n){n.ccall("duckdb_web_clear_response",null,[],[])}var np="opfs",ip="default";function Ul(n,t,e){let u=`${np}://${e||ip}`.replace(/\/*$/,"/"),f=n.replace(/^\/*/,"");if(!t&&!f)throw new Error(`Invalid OPFS file path "${n}"`);return u+f.replace(/\/*$/,t?"/":"")}var yi=class{constructor(t){let e=new Float64Array(t.buffer,t.byteOffset,t.byteLength/8),u=new Uint8Array(new ArrayBuffer(t.byteLength));u.set(t.subarray(7*8)),this.totalFileReadsCold=e[0],this.totalFileReadsAhead=e[1],this.totalFileReadsCached=e[2],this.totalFileWrites=e[3],this.totalPageAccesses=e[4],this.totalPageLoads=e[5],this.blockSize=e[6],this.blockStats=u}getBlockStats(t,e){return e=e||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0},e.file_writes=this.blockStats[t*3+0]&15,e.file_reads_cold=this.blockStats[t*3+0]>>4,e.file_reads_ahead=this.blockStats[t*3+1]&15,e.file_reads_cached=this.blockStats[t*3+1]>>4,e.page_accesses=this.blockStats[t*3+1]&15,e.page_loads=this.blockStats[t*3+1]>>4,e}};var op=!!process.env.KEEP_DEBUG_LOGS,ap=new TextEncoder;var bi=class{constructor(t,e){this._instance=null;this._initPromise=null;this._initPromiseResolver=()=>{};this.onInstantiationProgress=[];this._logger=t,this._runtime=e,this._nextUDFId=1}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(t=e=>{}){return this._instance!=null?this:(this._initPromise!=null&&(this.onInstantiationProgress.push(t),await this._initPromise),this._initPromise=new Promise(e=>{this._initPromiseResolver=e}),this.onInstantiationProgress=[t],this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null,this.onInstantiationProgress=this.onInstantiationProgress.filter(e=>e!=t),this)}open(t){let[e,u,f]=Re(this.mod,"duckdb_web_open",["string"],[JSON.stringify(t)]);if(e!==0)throw new Error(ve(this.mod,u,f));Pe(this.mod)}reset(){let[t,e,u]=Re(this.mod,"duckdb_web_reset",[],[]);if(t!==0)throw new Error(ve(this.mod,e,u));Pe(this.mod)}getVersion(){let[t,e,u]=Re(this.mod,"duckdb_web_get_version",[],[]);if(t!==0)throw new Error(ve(this.mod,e,u));let f=ve(this.mod,e,u);return Pe(this.mod),f}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(t){let[e,u,f]=Re(this.mod,"duckdb_web_tokenize",["string"],[t]);if(e!==0)throw new Error(ve(this.mod,u,f));let h=ve(this.mod,u,f);return Pe(this.mod),JSON.parse(h)}connect(){let t=this.mod.ccall("duckdb_web_connect","number",[],[]);return new pi(this,t)}disconnect(t){if(this.mod.ccall("duckdb_web_disconnect",null,["number"],[t]),this.pthread)for(let e of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])e.postMessage({cmd:"dropUDFFunctions",connectionId:t})}runQuery(t,e){let[u,f,h]=Re(this.mod,"duckdb_web_query_run",["number","string"],[t,e]);if(u!==0)throw new Error(ve(this.mod,f,h));let y=yr(this.mod,f,h);return Pe(this.mod),y}startPendingQuery(t,e){let[u,f,h]=Re(this.mod,"duckdb_web_pending_query_start",["number","string"],[t,e]);if(u!==0)throw new Error(ve(this.mod,f,h));if(f==0)return null;let y=yr(this.mod,f,h);return Pe(this.mod),y}pollPendingQuery(t){let[e,u,f]=Re(this.mod,"duckdb_web_pending_query_poll",["number"],[t]);if(e!==0)throw new Error(ve(this.mod,u,f));if(u==0)return null;let h=yr(this.mod,u,f);return Pe(this.mod),h}cancelPendingQuery(t){return this.mod.ccall("duckdb_web_pending_query_cancel","boolean",["number"],[t])}fetchQueryResults(t){let[e,u,f]=Re(this.mod,"duckdb_web_query_fetch_results",["number"],[t]);if(e!==0)throw new Error(ve(this.mod,u,f));let h=yr(this.mod,u,f);return Pe(this.mod),h}getTableNames(t,e){let[u,f,h]=Re(this.mod,"duckdb_web_get_tablenames",["number","string"],[t,e]);if(u!==0)throw new Error(ve(this.mod,f,h));let y=ve(this.mod,f,h);return Pe(this.mod),JSON.parse(y)}createScalarFunction(t,e,u,f){let h={functionId:this._nextUDFId,name:e,returnType:Ir(u)},y={functionId:h.functionId,connectionId:t,name:e,returnType:u,func:f};this._nextUDFId+=1;let[E,A,R]=Re(this.mod,"duckdb_web_udf_scalar_create",["number","string"],[t,JSON.stringify(h)]);if(E!==0)throw new Error(ve(this.mod,A,R));if(Pe(this.mod),globalThis.DUCKDB_RUNTIME._udfFunctions=(globalThis.DUCKDB_RUNTIME._udfFunctions||new Map).set(y.functionId,y),this.pthread)for(let S of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])S.postMessage({cmd:"registerUDFFunction",udf:y})}createPrepared(t,e){let[u,f,h]=Re(this.mod,"duckdb_web_prepared_create",["number","string"],[t,e]);if(u!==0)throw new Error(ve(this.mod,f,h));return Pe(this.mod),f}closePrepared(t,e){let[u,f,h]=Re(this.mod,"duckdb_web_prepared_close",["number","number"],[t,e]);if(u!==0)throw new Error(ve(this.mod,f,h));Pe(this.mod)}runPrepared(t,e,u){let[f,h,y]=Re(this.mod,"duckdb_web_prepared_run",["number","number","string"],[t,e,JSON.stringify(u)]);if(f!==0)throw new Error(ve(this.mod,h,y));let E=yr(this.mod,h,y);return Pe(this.mod),E}sendPrepared(t,e,u){let[f,h,y]=Re(this.mod,"duckdb_web_prepared_send",["number","number","string"],[t,e,JSON.stringify(u)]);if(f!==0)throw new Error(ve(this.mod,h,y));let E=yr(this.mod,h,y);return Pe(this.mod),E}insertArrowFromIPCStream(t,e,u){if(e.length==0)return;let f=this.mod._malloc(e.length);this.mod.HEAPU8.subarray(f,f+e.length).set(e);let y=u?JSON.stringify(u):"",[E,A,R]=Re(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[t,f,e.length,y]);if(E!==0)throw new Error(ve(this.mod,A,R))}insertCSVFromPath(t,e,u){if(u.columns!==void 0){u.columnsFlat=[];for(let R in u.columns)u.columnsFlat.push(ei(R,u.columns[R]))}let f={...u};f.columns=f.columnsFlat,delete f.columnsFlat;let h=JSON.stringify(f),[y,E,A]=Re(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[t,e,h]);if(y!==0)throw new Error(ve(this.mod,E,A))}insertJSONFromPath(t,e,u){if(u.columns!==void 0){u.columnsFlat=[];for(let R in u.columns)u.columnsFlat.push(ei(R,u.columns[R]))}let f={...u};f.columns=f.columnsFlat,delete f.columnsFlat;let h=JSON.stringify(f),[y,E,A]=Re(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[t,e,h]);if(y!==0)throw new Error(ve(this.mod,E,A))}globFiles(t){let[e,u,f]=Re(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[t]);if(e!==0)throw new Error(ve(this.mod,u,f));let h=ve(this.mod,u,f);Pe(this.mod);let y=JSON.parse(h);return y??[]}registerFileURL(t,e,u,f=!1){e===void 0&&(e=t);let[h,y,E]=Re(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[t,e,u,f]);if(h!==0)throw new Error(ve(this.mod,y,E));Pe(this.mod)}registerFileText(t,e){let u=ap.encode(e);this.registerFileBuffer(t,u)}registerFileBuffer(t,e){let u=this.mod._malloc(e.length);this.mod.HEAPU8.subarray(u,u+e.length).set(e);let[h,y,E]=Re(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[t,u,e.length]);if(h!==0)throw new Error(ve(this.mod,y,E));Pe(this.mod)}async registerFileHandle(t,e,u,f){let h=t;if(u===3){let R=e;if(!(R!=null&&R.filePath))throw new Error(`Invalid OPFS file handle for "${t}"`);let{filePath:S,domain:T}=R;R._url||(R._url=Ul(S,!1,T)),h=R._url}let[y,E,A]=Re(this.mod,"duckdb_web_fs_register_file_url",["string","string","number","boolean"],[t,h,u,f]);if(y!==0)throw new Error(ve(this.mod,E,A));if(Pe(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(t,e),u===3){let R=e,{fileHandle:S}=R;S?R.accessHandle||(R.accessHandle=await S.createSyncAccessHandle(),console.debug(`prepared SyncAccessHandle for OPFS file "${t}"`)):console.warn(`Invalid file handle for OPFS file "${t}"`)}if(this.pthread){for(let R of this.pthread.runningWorkers)R.postMessage({cmd:"registerFileHandle",fileName:t,fileHandle:e});for(let R of this.pthread.unusedWorkers)R.postMessage({cmd:"dropFileHandle",fileName:t})}}dropFile(t){let[e,u,f]=Re(this.mod,"duckdb_web_fs_drop_file",["string"],[t]);if(e!==0)throw new Error(ve(this.mod,u,f));Pe(this.mod)}dropFiles(){let[t,e,u]=Re(this.mod,"duckdb_web_fs_drop_files",[],[]);if(t!==0)throw new Error(ve(this.mod,e,u));Pe(this.mod)}flushFiles(){var e;this.mod.ccall("duckdb_web_flush_files",null,[],[]);let t=(e=this._runtime._files)==null?void 0:e.entries();if(t){for(let[u,f]of t)if(f.accessHandle){op&&console.log(`[WASM-CALL] flushFiles() => flushFile("${u}")`);let h=f;h.accessHandle&&h.accessHandle.flush()}}}copyFileToPath(t,e){let[u,f,h]=Re(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[t,e]);if(u!==0)throw new Error(ve(this.mod,f,h));Pe(this.mod)}copyFileToBuffer(t){let[e,u,f]=Re(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[t]);if(e!==0)throw new Error(ve(this.mod,u,f));let h=this.mod.HEAPU8.subarray(u,u+f),y=new Uint8Array(h.length);return y.set(h),Pe(this.mod),y}closeFile(t){var u,f;return((f=(u=this._runtime).closeFileByName)==null?void 0:f.call(u,this.mod,t))||!1}collectFileStatistics(t,e){let[u,f,h]=Re(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[t,e]);if(u!==0)throw new Error(ve(this.mod,f,h))}exportFileStatistics(t){let[e,u,f]=Re(this.mod,"duckdb_web_export_file_stats",["string"],[t]);if(e!==0)throw new Error(ve(this.mod,u,f));return new yi(this.mod.HEAPU8.subarray(u,u+f))}};var ql=_r(require("fs")),vi=class extends bi{constructor(e,u,f,h){super(e,u);this.mainModulePath=f,this.pthreadWorkerPath=h}locateFile(e,u){if(e.endsWith(".wasm"))return this.mainModulePath;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerPath)throw new Error("Missing DuckDB worker path!");return this.pthreadWorkerPath}throw new Error(`WASM instantiation requested unexpected file: prefix=${u} path=${e}`)}instantiateWasm(e,u){globalThis.DUCKDB_RUNTIME={};for(let h of Object.getOwnPropertyNames(this._runtime)){if(h=="constructor")continue;let y=globalThis.DUCKDB_RUNTIME;y[h]=Object.getOwnPropertyDescriptor(this._runtime,h).value}let f=ql.default.readFileSync(this.mainModulePath);return WebAssembly.instantiate(f,e).then(h=>{u(h.instance,h.module)}),[]}instantiateImpl(e){return(0,Hl.default)({...e,instantiateWasm:this.instantiateWasm.bind(this)})}};var wi=class extends vi{constructor(t,e,u,f=null){super(t,e,u,f)}instantiateImpl(t){return(0,$l.default)({...t,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};var je=_r(require("fs"));var M_=_r(x_());var xe={_files:new Map,_filesById:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,resolveFileInfo(n,t){try{let e=xe._fileInfoCache.get(t),[u,f,h]=Re(n,"duckdb_web_fs_get_file_info_by_id",["number","number"],[t,(e==null?void 0:e.cacheEpoch)||0]);if(u!==0)return Oe(n,ve(n,f,h)),null;if(h===0)return Pe(n),e;let y=ve(n,f,h);Pe(n);let E=JSON.parse(y);return E==null?null:(xe._fileInfoCache.set(t,E),E)}catch(e){return console.log(e),Oe(n,e.toString()),null}},testPlatformFeature:(n,t)=>{switch(t){case 1:return typeof BigInt64Array<"u";default:return console.warn(`test for unknown feature: ${t}`),!1}},getDefaultDataProtocol(n){return 1},openFile(n,t,e){var u,f;try{xe._fileInfoCache.delete(t);let h=xe.resolveFileInfo(n,t);switch(h==null?void 0:h.dataProtocol){case 1:{let y=(u=xe._files)==null?void 0:u.get(h.dataUrl);y==null&&(y=je.default.openSync(h.dataUrl,je.default.constants.O_CREAT|je.default.constants.O_RDWR,je.default.constants.S_IRUSR|je.default.constants.S_IWUSR),(f=xe._filesById)==null||f.set(h.fileId,y));let E=je.default.fstatSync(y).size,A=n._malloc(2*8);return n.HEAPF64[(A>>3)+0]=+E,n.HEAPF64[(A>>3)+1]=0,A}case 2:case 3:case 4:case 5:Oe(n,"Unsupported data protocol")}}catch(h){console.log(h),Oe(n,h.toString())}return 0},syncFile:(n,t)=>{},closeFile:(n,t)=>{try{let e=xe._fileInfoCache.get(t);switch(xe._fileInfoCache.delete(t),e==null?void 0:e.dataProtocol){case 1:{let u=xe._filesById.get(t);xe._filesById.delete(t),u!=null&&je.default.closeSync(u);break}case 2:case 3:case 4:case 5:break}}catch(e){console.log(e),Oe(n,e.toString())}return 0},truncateFile:(n,t,e)=>{try{let u=xe.resolveFileInfo(n,t);switch(u==null?void 0:u.dataProtocol){case 1:{je.default.truncateSync(u.dataUrl,e);break}case 2:case 3:case 4:case 5:Oe(n,"Unsupported data protocol")}}catch(u){console.log(u),Oe(n,u.toString())}return 0},readFile:(n,t,e,u,f)=>{try{let h=xe.resolveFileInfo(n,t);switch(h==null?void 0:h.dataProtocol){case 1:{let y=xe._filesById.get(t);return y==null?(Oe(n,`File ${t} is missing a file descriptor`),0):je.default.readSync(y,n.HEAPU8,e,u,f)}case 2:case 3:case 4:case 5:Oe(n,"Unsupported data protocol")}}catch(h){console.log(h),Oe(n,h.toString())}return 0},writeFile:(n,t,e,u,f)=>{try{let h=xe.resolveFileInfo(n,t);switch(h==null?void 0:h.dataProtocol){case 1:{let y=xe._filesById.get(t);if(y==null)return Oe(n,`File ${t} is missing a file descriptor`),0;let E=n.HEAPU8.subarray(e,e+u);return je.default.writeSync(y,E,0,E.length,f)}case 2:case 3:case 4:case 5:Oe(n,"Unsupported data protocol")}}catch(h){console.log(h),Oe(n,h.toString())}return 0},getLastFileModificationTime:(n,t)=>{try{let e=xe.resolveFileInfo(n,t);switch(e==null?void 0:e.dataProtocol){case 1:{let u=xe._filesById.get(t);return u==null?(Oe(n,`File ${t} is missing a file descriptor`),0):je.default.fstatSync(u).mtime.getTime()}case 2:case 3:case 4:case 5:Oe(n,"Unsupported data protocol")}}catch(e){console.log(e),Oe(n,e.toString())}return 0},checkDirectory:(n,t,e)=>{try{let u=gr(n.HEAPU8.subarray(t,t+e));return je.default.existsSync(u)}catch(u){return console.log(u),Oe(n,u.toString()),!1}},createDirectory:(n,t,e)=>{try{let u=gr(n.HEAPU8.subarray(t,t+e));return je.default.mkdirSync(u)}catch(u){return console.log(u),Oe(n,u.toString()),0}},removeDirectory:(n,t,e)=>{try{let u=gr(n.HEAPU8.subarray(t,t+e));return je.default.rmdirSync(u)}catch(u){return console.log(u),Oe(n,u.toString()),0}},listDirectoryEntries:(n,t,e)=>(Oe(n,"Not Implemented"),!1),glob:(n,t,e)=>{try{let u=ve(n,t,e),f=M_.sync([u],{dot:!0});for(let h of f)n.ccall("duckdb_web_fs_glob_add_path",null,["string"],[h])}catch(u){return console.log(u),Oe(n,u.toString()),0}},moveFile:(n,t,e,u,f)=>{var A,R;let h=ve(n,t,e),y=ve(n,u,f),E=(A=xe._files)==null?void 0:A.get(h);E!==void 0&&(xe._files.delete(E),xe._files.set(y,E));for(let[S,T]of((R=xe._fileInfoCache)==null?void 0:R.entries())||[])if(T.dataUrl==h){xe._fileInfoCache.delete(S);break}return!0},checkFile:(n,t,e)=>{try{let u=gr(n.HEAPU8.subarray(t,t+e));return je.default.existsSync(u)}catch(u){return console.log(u),Oe(n,u.toString()),!1}},removeFile:(n,t,e)=>{try{let u=gr(n.HEAPU8.subarray(t,t+e));return je.default.rmSync(u)}catch(u){return console.log(u),Oe(n,u.toString()),0}},callScalarUDF:(n,t,e,u,f,h,y)=>{Bl(xe,n,t,e,u,f,h,y)}};var Dc=class extends ti{postMessage(t,e){globalThis.postMessage(t,e)}async instantiate(t,e,u){return await new wi(this,xe,t,e).instantiate(u)}};function O_(){let n=new Dc;globalThis.onmessage=async t=>{await n.onMessage(t.data)}}O_();0&&(module.exports={registerWorker});
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=duckdb-node-eh.worker.cjs.map
