"use strict";var vh=Object.create;var oi=Object.defineProperty;var wh=Object.getOwnPropertyDescriptor;var Eh=Object.getOwnPropertyNames;var Sh=Object.getPrototypeOf,kh=Object.prototype.hasOwnProperty;var q=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Dh=(n,r)=>{for(var e in r)oi(n,e,{get:r[e],enumerable:!0})},Jc=(n,r,e,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of Eh(r))!kh.call(n,f)&&f!==e&&oi(n,f,{get:()=>r[f],enumerable:!(u=wh(r,f))||u.enumerable});return n};var $r=(n,r,e)=>(e=n!=null?vh(Sh(n)):{},Jc(r||!n||!n.__esModule?oi(e,"default",{value:n,enumerable:!0}):e,n)),Ah=n=>Jc(oi({},"__esModule",{value:!0}),n);var bl=q(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.splitWhen=It.flatten=void 0;function Kh(n){return n.reduce((r,e)=>[].concat(r,e),[])}It.flatten=Kh;function Yh(n,r){let e=[[]],u=0;for(let f of n)r(f)?(u++,e[u]=[]):e[u].push(f);return e}It.splitWhen=Yh});var vl=q(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.isEnoentCodeError=void 0;function Xh(n){return n.code==="ENOENT"}_i.isEnoentCodeError=Xh});var wl=q(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.createDirentFromStats=void 0;var Wa=class{constructor(r,e){this.name=r,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}};function Qh(n,r){return new Wa(n,r)}hi.createDirentFromStats=Qh});var Dl=q(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.convertPosixPathToPattern=Ue.convertWindowsPathToPattern=Ue.convertPathToPattern=Ue.escapePosixPath=Ue.escapeWindowsPath=Ue.escape=Ue.removeLeadingDotSegment=Ue.makeAbsolute=Ue.unixify=void 0;var Jh=require("os"),Zh=require("path"),El=Jh.platform()==="win32",ep=2,rp=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,tp=/(\\?)([(){}]|^!|[!+@](?=\())/g,np=/^\\\\([.?])/,ip=/\\(?![!()+@{}])/g;function op(n){return n.replace(/\\/g,"/")}Ue.unixify=op;function sp(n,r){return Zh.resolve(n,r)}Ue.makeAbsolute=sp;function ap(n){if(n.charAt(0)==="."){let r=n.charAt(1);if(r==="/"||r==="\\")return n.slice(ep)}return n}Ue.removeLeadingDotSegment=ap;Ue.escape=El?$a:Ga;function $a(n){return n.replace(tp,"\\$2")}Ue.escapeWindowsPath=$a;function Ga(n){return n.replace(rp,"\\$2")}Ue.escapePosixPath=Ga;Ue.convertPathToPattern=El?Sl:kl;function Sl(n){return $a(n).replace(np,"//$1").replace(ip,"/")}Ue.convertWindowsPathToPattern=Sl;function kl(n){return Ga(n)}Ue.convertPosixPathToPattern=kl});var Tl=q((Bv,Al)=>{Al.exports=function(r){if(typeof r!="string"||r==="")return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(r);){if(e[2])return!0;r=r.slice(e.index+e[0].length)}return!1}});var xl=q((Iv,Pl)=>{var up=Tl(),Rl={"{":"}","(":")","[":"]"},cp=function(n){if(n[0]==="!")return!0;for(var r=0,e=-2,u=-2,f=-2,d=-2,g=-2;r<n.length;){if(n[r]==="*"||n[r+1]==="?"&&/[\].+)]/.test(n[r])||u!==-1&&n[r]==="["&&n[r+1]!=="]"&&(u<r&&(u=n.indexOf("]",r)),u>r&&(g===-1||g>u||(g=n.indexOf("\\",r),g===-1||g>u)))||f!==-1&&n[r]==="{"&&n[r+1]!=="}"&&(f=n.indexOf("}",r),f>r&&(g=n.indexOf("\\",r),g===-1||g>f))||d!==-1&&n[r]==="("&&n[r+1]==="?"&&/[:!=]/.test(n[r+2])&&n[r+3]!==")"&&(d=n.indexOf(")",r),d>r&&(g=n.indexOf("\\",r),g===-1||g>d))||e!==-1&&n[r]==="("&&n[r+1]!=="|"&&(e<r&&(e=n.indexOf("|",r)),e!==-1&&n[e+1]!==")"&&(d=n.indexOf(")",e),d>e&&(g=n.indexOf("\\",e),g===-1||g>d))))return!0;if(n[r]==="\\"){var E=n[r+1];r+=2;var k=Rl[E];if(k){var A=n.indexOf(k,r);A!==-1&&(r=A+1)}if(n[r]==="!")return!0}else r++}return!1},lp=function(n){if(n[0]==="!")return!0;for(var r=0;r<n.length;){if(/[*?{}()[\]]/.test(n[r]))return!0;if(n[r]==="\\"){var e=n[r+1];r+=2;var u=Rl[e];if(u){var f=n.indexOf(u,r);f!==-1&&(r=f+1)}if(n[r]==="!")return!0}else r++}return!1};Pl.exports=function(r,e){if(typeof r!="string"||r==="")return!1;if(up(r))return!0;var u=cp;return e&&e.strict===!1&&(u=lp),u(r)}});var Fl=q((Uv,Cl)=>{"use strict";var fp=xl(),dp=require("path").posix.dirname,_p=require("os").platform()==="win32",za="/",hp=/\\/g,pp=/[\{\[].*[\}\]]$/,mp=/(^|[^\\])([\{\[]|\([^\)]+$)/,gp=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Cl.exports=function(r,e){var u=Object.assign({flipBackslashes:!0},e);u.flipBackslashes&&_p&&r.indexOf(za)<0&&(r=r.replace(hp,za)),pp.test(r)&&(r+=za),r+="a";do r=dp(r);while(fp(r)||mp.test(r));return r.replace(gp,"$1")}});var pi=q(ur=>{"use strict";ur.isInteger=n=>typeof n=="number"?Number.isInteger(n):typeof n=="string"&&n.trim()!==""?Number.isInteger(Number(n)):!1;ur.find=(n,r)=>n.nodes.find(e=>e.type===r);ur.exceedsLimit=(n,r,e=1,u)=>u===!1||!ur.isInteger(n)||!ur.isInteger(r)?!1:(Number(r)-Number(n))/Number(e)>=u;ur.escapeNode=(n,r=0,e)=>{let u=n.nodes[r];u&&(e&&u.type===e||u.type==="open"||u.type==="close")&&u.escaped!==!0&&(u.value="\\"+u.value,u.escaped=!0)};ur.encloseBrace=n=>n.type!=="brace"||n.commas>>0+n.ranges>>0?!1:(n.invalid=!0,!0);ur.isInvalidBrace=n=>n.type!=="brace"?!1:n.invalid===!0||n.dollar?!0:!(n.commas>>0+n.ranges>>0)||n.open!==!0||n.close!==!0?(n.invalid=!0,!0):!1;ur.isOpenOrClose=n=>n.type==="open"||n.type==="close"?!0:n.open===!0||n.close===!0;ur.reduce=n=>n.reduce((r,e)=>(e.type==="text"&&r.push(e.value),e.type==="range"&&(e.type="text"),r),[]);ur.flatten=(...n)=>{let r=[],e=u=>{for(let f=0;f<u.length;f++){let d=u[f];Array.isArray(d)?e(d,r):d!==void 0&&r.push(d)}return r};return e(n),r}});var mi=q((qv,Ml)=>{"use strict";var Ol=pi();Ml.exports=(n,r={})=>{let e=(u,f={})=>{let d=r.escapeInvalid&&Ol.isInvalidBrace(f),g=u.invalid===!0&&r.escapeInvalid===!0,E="";if(u.value)return(d||g)&&Ol.isOpenOrClose(u)?"\\"+u.value:u.value;if(u.value)return u.value;if(u.nodes)for(let k of u.nodes)E+=e(k);return E};return e(n)}});var Ll=q((jv,Nl)=>{"use strict";Nl.exports=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1}});var Gl=q((Wv,$l)=>{"use strict";var Bl=Ll(),mt=(n,r,e)=>{if(Bl(n)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(r===void 0||n===r)return String(n);if(Bl(r)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let u={relaxZeros:!0,...e};typeof u.strictZeros=="boolean"&&(u.relaxZeros=u.strictZeros===!1);let f=String(u.relaxZeros),d=String(u.shorthand),g=String(u.capture),E=String(u.wrap),k=n+":"+r+"="+f+d+g+E;if(mt.cache.hasOwnProperty(k))return mt.cache[k].result;let A=Math.min(n,r),S=Math.max(n,r);if(Math.abs(A-S)===1){let B=n+"|"+r;return u.capture?`(${B})`:u.wrap===!1?B:`(?:${B})`}let R=Wl(n)||Wl(r),T={min:n,max:r,a:A,b:S},te=[],I=[];if(R&&(T.isPadded=R,T.maxLen=String(T.max).length),A<0){let B=S<0?Math.abs(S):1;I=Il(B,Math.abs(A),T,u),A=T.a=0}return S>=0&&(te=Il(A,S,T,u)),T.negatives=I,T.positives=te,T.result=yp(I,te,u),u.capture===!0?T.result=`(${T.result})`:u.wrap!==!1&&te.length+I.length>1&&(T.result=`(?:${T.result})`),mt.cache[k]=T,T.result};function yp(n,r,e){let u=Va(n,r,"-",!1,e)||[],f=Va(r,n,"",!1,e)||[],d=Va(n,r,"-?",!0,e)||[];return u.concat(d).concat(f).join("|")}function bp(n,r){let e=1,u=1,f=Hl(n,e),d=new Set([r]);for(;n<=f&&f<=r;)d.add(f),e+=1,f=Hl(n,e);for(f=ql(r+1,u)-1;n<f&&f<=r;)d.add(f),u+=1,f=ql(r+1,u)-1;return d=[...d],d.sort(Ep),d}function vp(n,r,e){if(n===r)return{pattern:n,count:[],digits:0};let u=wp(n,r),f=u.length,d="",g=0;for(let E=0;E<f;E++){let[k,A]=u[E];k===A?d+=k:k!=="0"||A!=="9"?d+=Sp(k,A,e):g++}return g&&(d+=e.shorthand===!0?"\\d":"[0-9]"),{pattern:d,count:[g],digits:f}}function Il(n,r,e,u){let f=bp(n,r),d=[],g=n,E;for(let k=0;k<f.length;k++){let A=f[k],S=vp(String(g),String(A),u),R="";if(!e.isPadded&&E&&E.pattern===S.pattern){E.count.length>1&&E.count.pop(),E.count.push(S.count[0]),E.string=E.pattern+jl(E.count),g=A+1;continue}e.isPadded&&(R=kp(A,e,u)),S.string=R+S.pattern+jl(S.count),d.push(S),g=A+1,E=S}return d}function Va(n,r,e,u,f){let d=[];for(let g of n){let{string:E}=g;!u&&!Ul(r,"string",E)&&d.push(e+E),u&&Ul(r,"string",E)&&d.push(e+E)}return d}function wp(n,r){let e=[];for(let u=0;u<n.length;u++)e.push([n[u],r[u]]);return e}function Ep(n,r){return n>r?1:r>n?-1:0}function Ul(n,r,e){return n.some(u=>u[r]===e)}function Hl(n,r){return Number(String(n).slice(0,-r)+"9".repeat(r))}function ql(n,r){return n-n%Math.pow(10,r)}function jl(n){let[r=0,e=""]=n;return e||r>1?`{${r+(e?","+e:"")}}`:""}function Sp(n,r,e){return`[${n}${r-n===1?"":"-"}${r}]`}function Wl(n){return/^-?(0+)\d/.test(n)}function kp(n,r,e){if(!r.isPadded)return n;let u=Math.abs(r.maxLen-String(n).length),f=e.relaxZeros!==!1;switch(u){case 0:return"";case 1:return f?"0?":"0";case 2:return f?"0{0,2}":"00";default:return f?`0{0,${u}}`:`0{${u}}`}}mt.cache={};mt.clearCache=()=>mt.cache={};$l.exports=mt});var Xa=q(($v,Zl)=>{"use strict";var Dp=require("util"),Kl=Gl(),zl=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Ap=n=>r=>n===!0?Number(r):String(r),Ka=n=>typeof n=="number"||typeof n=="string"&&n!=="",vn=n=>Number.isInteger(+n),Ya=n=>{let r=`${n}`,e=-1;if(r[0]==="-"&&(r=r.slice(1)),r==="0")return!1;for(;r[++e]==="0";);return e>0},Tp=(n,r,e)=>typeof n=="string"||typeof r=="string"?!0:e.stringify===!0,Rp=(n,r,e)=>{if(r>0){let u=n[0]==="-"?"-":"";u&&(n=n.slice(1)),n=u+n.padStart(u?r-1:r,"0")}return e===!1?String(n):n},Vl=(n,r)=>{let e=n[0]==="-"?"-":"";for(e&&(n=n.slice(1),r--);n.length<r;)n="0"+n;return e?"-"+n:n},Pp=(n,r)=>{n.negatives.sort((g,E)=>g<E?-1:g>E?1:0),n.positives.sort((g,E)=>g<E?-1:g>E?1:0);let e=r.capture?"":"?:",u="",f="",d;return n.positives.length&&(u=n.positives.join("|")),n.negatives.length&&(f=`-(${e}${n.negatives.join("|")})`),u&&f?d=`${u}|${f}`:d=u||f,r.wrap?`(${e}${d})`:d},Yl=(n,r,e,u)=>{if(e)return Kl(n,r,{wrap:!1,...u});let f=String.fromCharCode(n);if(n===r)return f;let d=String.fromCharCode(r);return`[${f}-${d}]`},Xl=(n,r,e)=>{if(Array.isArray(n)){let u=e.wrap===!0,f=e.capture?"":"?:";return u?`(${f}${n.join("|")})`:n.join("|")}return Kl(n,r,e)},Ql=(...n)=>new RangeError("Invalid range arguments: "+Dp.inspect(...n)),Jl=(n,r,e)=>{if(e.strictRanges===!0)throw Ql([n,r]);return[]},xp=(n,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step "${n}" to be a number`);return[]},Cp=(n,r,e=1,u={})=>{let f=Number(n),d=Number(r);if(!Number.isInteger(f)||!Number.isInteger(d)){if(u.strictRanges===!0)throw Ql([n,r]);return[]}f===0&&(f=0),d===0&&(d=0);let g=f>d,E=String(n),k=String(r),A=String(e);e=Math.max(Math.abs(e),1);let S=Ya(E)||Ya(k)||Ya(A),R=S?Math.max(E.length,k.length,A.length):0,T=S===!1&&Tp(n,r,u)===!1,te=u.transform||Ap(T);if(u.toRegex&&e===1)return Yl(Vl(n,R),Vl(r,R),!0,u);let I={negatives:[],positives:[]},B=me=>I[me<0?"negatives":"positives"].push(Math.abs(me)),Y=[],ie=0;for(;g?f>=d:f<=d;)u.toRegex===!0&&e>1?B(f):Y.push(Rp(te(f,ie),R,T)),f=g?f-e:f+e,ie++;return u.toRegex===!0?e>1?Pp(I,u):Xl(Y,null,{wrap:!1,...u}):Y},Fp=(n,r,e=1,u={})=>{if(!vn(n)&&n.length>1||!vn(r)&&r.length>1)return Jl(n,r,u);let f=u.transform||(T=>String.fromCharCode(T)),d=`${n}`.charCodeAt(0),g=`${r}`.charCodeAt(0),E=d>g,k=Math.min(d,g),A=Math.max(d,g);if(u.toRegex&&e===1)return Yl(k,A,!1,u);let S=[],R=0;for(;E?d>=g:d<=g;)S.push(f(d,R)),d=E?d-e:d+e,R++;return u.toRegex===!0?Xl(S,null,{wrap:!1,options:u}):S},gi=(n,r,e,u={})=>{if(r==null&&Ka(n))return[n];if(!Ka(n)||!Ka(r))return Jl(n,r,u);if(typeof e=="function")return gi(n,r,1,{transform:e});if(zl(e))return gi(n,r,0,e);let f={...u};return f.capture===!0&&(f.wrap=!0),e=e||f.step||1,vn(e)?vn(n)&&vn(r)?Cp(n,r,e,f):Fp(n,r,Math.max(Math.abs(e),1),f):e!=null&&!zl(e)?xp(e,f):gi(n,r,1,e)};Zl.exports=gi});var tf=q((Gv,rf)=>{"use strict";var Op=Xa(),ef=pi(),Mp=(n,r={})=>{let e=(u,f={})=>{let d=ef.isInvalidBrace(f),g=u.invalid===!0&&r.escapeInvalid===!0,E=d===!0||g===!0,k=r.escapeInvalid===!0?"\\":"",A="";if(u.isOpen===!0||u.isClose===!0)return k+u.value;if(u.type==="open")return E?k+u.value:"(";if(u.type==="close")return E?k+u.value:")";if(u.type==="comma")return u.prev.type==="comma"?"":E?u.value:"|";if(u.value)return u.value;if(u.nodes&&u.ranges>0){let S=ef.reduce(u.nodes),R=Op(...S,{...r,wrap:!1,toRegex:!0});if(R.length!==0)return S.length>1&&R.length>1?`(${R})`:R}if(u.nodes)for(let S of u.nodes)A+=e(S,u);return A};return e(n)};rf.exports=Mp});var sf=q((zv,of)=>{"use strict";var Np=Xa(),nf=mi(),Ut=pi(),gt=(n="",r="",e=!1)=>{let u=[];if(n=[].concat(n),r=[].concat(r),!r.length)return n;if(!n.length)return e?Ut.flatten(r).map(f=>`{${f}}`):r;for(let f of n)if(Array.isArray(f))for(let d of f)u.push(gt(d,r,e));else for(let d of r)e===!0&&typeof d=="string"&&(d=`{${d}}`),u.push(Array.isArray(d)?gt(f,d,e):f+d);return Ut.flatten(u)},Lp=(n,r={})=>{let e=r.rangeLimit===void 0?1e3:r.rangeLimit,u=(f,d={})=>{f.queue=[];let g=d,E=d.queue;for(;g.type!=="brace"&&g.type!=="root"&&g.parent;)g=g.parent,E=g.queue;if(f.invalid||f.dollar){E.push(gt(E.pop(),nf(f,r)));return}if(f.type==="brace"&&f.invalid!==!0&&f.nodes.length===2){E.push(gt(E.pop(),["{}"]));return}if(f.nodes&&f.ranges>0){let R=Ut.reduce(f.nodes);if(Ut.exceedsLimit(...R,r.step,e))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let T=Np(...R,r);T.length===0&&(T=nf(f,r)),E.push(gt(E.pop(),T)),f.nodes=[];return}let k=Ut.encloseBrace(f),A=f.queue,S=f;for(;S.type!=="brace"&&S.type!=="root"&&S.parent;)S=S.parent,A=S.queue;for(let R=0;R<f.nodes.length;R++){let T=f.nodes[R];if(T.type==="comma"&&f.type==="brace"){R===1&&A.push(""),A.push("");continue}if(T.type==="close"){E.push(gt(E.pop(),A,k));continue}if(T.value&&T.type!=="open"){A.push(gt(A.pop(),T.value));continue}T.nodes&&u(T,f)}return A};return Ut.flatten(u(n))};of.exports=Lp});var uf=q((Vv,af)=>{"use strict";af.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var _f=q((Kv,df)=>{"use strict";var Bp=mi(),{MAX_LENGTH:cf,CHAR_BACKSLASH:Qa,CHAR_BACKTICK:Ip,CHAR_COMMA:Up,CHAR_DOT:Hp,CHAR_LEFT_PARENTHESES:qp,CHAR_RIGHT_PARENTHESES:jp,CHAR_LEFT_CURLY_BRACE:Wp,CHAR_RIGHT_CURLY_BRACE:$p,CHAR_LEFT_SQUARE_BRACKET:lf,CHAR_RIGHT_SQUARE_BRACKET:ff,CHAR_DOUBLE_QUOTE:Gp,CHAR_SINGLE_QUOTE:zp,CHAR_NO_BREAK_SPACE:Vp,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Kp}=uf(),Yp=(n,r={})=>{if(typeof n!="string")throw new TypeError("Expected a string");let e=r||{},u=typeof e.maxLength=="number"?Math.min(cf,e.maxLength):cf;if(n.length>u)throw new SyntaxError(`Input length (${n.length}), exceeds max characters (${u})`);let f={type:"root",input:n,nodes:[]},d=[f],g=f,E=f,k=0,A=n.length,S=0,R=0,T,te={},I=()=>n[S++],B=Y=>{if(Y.type==="text"&&E.type==="dot"&&(E.type="text"),E&&E.type==="text"&&Y.type==="text"){E.value+=Y.value;return}return g.nodes.push(Y),Y.parent=g,Y.prev=E,E=Y,Y};for(B({type:"bos"});S<A;)if(g=d[d.length-1],T=I(),!(T===Kp||T===Vp)){if(T===Qa){B({type:"text",value:(r.keepEscaping?T:"")+I()});continue}if(T===ff){B({type:"text",value:"\\"+T});continue}if(T===lf){k++;let Y=!0,ie;for(;S<A&&(ie=I());){if(T+=ie,ie===lf){k++;continue}if(ie===Qa){T+=I();continue}if(ie===ff&&(k--,k===0))break}B({type:"text",value:T});continue}if(T===qp){g=B({type:"paren",nodes:[]}),d.push(g),B({type:"text",value:T});continue}if(T===jp){if(g.type!=="paren"){B({type:"text",value:T});continue}g=d.pop(),B({type:"text",value:T}),g=d[d.length-1];continue}if(T===Gp||T===zp||T===Ip){let Y=T,ie;for(r.keepQuotes!==!0&&(T="");S<A&&(ie=I());){if(ie===Qa){T+=ie+I();continue}if(ie===Y){r.keepQuotes===!0&&(T+=ie);break}T+=ie}B({type:"text",value:T});continue}if(T===Wp){R++;let ie={type:"brace",open:!0,close:!1,dollar:E.value&&E.value.slice(-1)==="$"||g.dollar===!0,depth:R,commas:0,ranges:0,nodes:[]};g=B(ie),d.push(g),B({type:"open",value:T});continue}if(T===$p){if(g.type!=="brace"){B({type:"text",value:T});continue}let Y="close";g=d.pop(),g.close=!0,B({type:Y,value:T}),R--,g=d[d.length-1];continue}if(T===Up&&R>0){if(g.ranges>0){g.ranges=0;let Y=g.nodes.shift();g.nodes=[Y,{type:"text",value:Bp(g)}]}B({type:"comma",value:T}),g.commas++;continue}if(T===Hp&&R>0&&g.commas===0){let Y=g.nodes;if(R===0||Y.length===0){B({type:"text",value:T});continue}if(E.type==="dot"){if(g.range=[],E.value+=T,E.type="range",g.nodes.length!==3&&g.nodes.length!==5){g.invalid=!0,g.ranges=0,E.type="text";continue}g.ranges++,g.args=[];continue}if(E.type==="range"){Y.pop();let ie=Y[Y.length-1];ie.value+=E.value+T,E=ie,g.ranges--;continue}B({type:"dot",value:T});continue}B({type:"text",value:T})}do if(g=d.pop(),g.type!=="root"){g.nodes.forEach(me=>{me.nodes||(me.type==="open"&&(me.isOpen=!0),me.type==="close"&&(me.isClose=!0),me.nodes||(me.type="text"),me.invalid=!0)});let Y=d[d.length-1],ie=Y.nodes.indexOf(g);Y.nodes.splice(ie,1,...g.nodes)}while(d.length>0);return B({type:"eos"}),f};df.exports=Yp});var mf=q((Yv,pf)=>{"use strict";var hf=mi(),Xp=tf(),Qp=sf(),Jp=_f(),tr=(n,r={})=>{let e=[];if(Array.isArray(n))for(let u of n){let f=tr.create(u,r);Array.isArray(f)?e.push(...f):e.push(f)}else e=[].concat(tr.create(n,r));return r&&r.expand===!0&&r.nodupes===!0&&(e=[...new Set(e)]),e};tr.parse=(n,r={})=>Jp(n,r);tr.stringify=(n,r={})=>hf(typeof n=="string"?tr.parse(n,r):n,r);tr.compile=(n,r={})=>(typeof n=="string"&&(n=tr.parse(n,r)),Xp(n,r));tr.expand=(n,r={})=>{typeof n=="string"&&(n=tr.parse(n,r));let e=Qp(n,r);return r.noempty===!0&&(e=e.filter(Boolean)),r.nodupes===!0&&(e=[...new Set(e)]),e};tr.create=(n,r={})=>n===""||n.length<3?[n]:r.expand!==!0?tr.compile(n,r):tr.expand(n,r);pf.exports=tr});var wn=q((Xv,wf)=>{"use strict";var Zp=require("path"),br="\\\\/",gf=`[^${br}]`,Rr="\\.",em="\\+",rm="\\?",yi="\\/",tm="(?=.)",yf="[^/]",Ja=`(?:${yi}|$)`,bf=`(?:^|${yi})`,Za=`${Rr}{1,2}${Ja}`,nm=`(?!${Rr})`,im=`(?!${bf}${Za})`,om=`(?!${Rr}{0,1}${Ja})`,sm=`(?!${Za})`,am=`[^.${yi}]`,um=`${yf}*?`,vf={DOT_LITERAL:Rr,PLUS_LITERAL:em,QMARK_LITERAL:rm,SLASH_LITERAL:yi,ONE_CHAR:tm,QMARK:yf,END_ANCHOR:Ja,DOTS_SLASH:Za,NO_DOT:nm,NO_DOTS:im,NO_DOT_SLASH:om,NO_DOTS_SLASH:sm,QMARK_NO_DOT:am,STAR:um,START_ANCHOR:bf},cm={...vf,SLASH_LITERAL:`[${br}]`,QMARK:gf,STAR:`${gf}*?`,DOTS_SLASH:`${Rr}{1,2}(?:[${br}]|$)`,NO_DOT:`(?!${Rr})`,NO_DOTS:`(?!(?:^|[${br}])${Rr}{1,2}(?:[${br}]|$))`,NO_DOT_SLASH:`(?!${Rr}{0,1}(?:[${br}]|$))`,NO_DOTS_SLASH:`(?!${Rr}{1,2}(?:[${br}]|$))`,QMARK_NO_DOT:`[^.${br}]`,START_ANCHOR:`(?:^|[${br}])`,END_ANCHOR:`(?:[${br}]|$)`},lm={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};wf.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:lm,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Zp.sep,extglobChars(n){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${n.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(n){return n===!0?cm:vf}}});var En=q(Je=>{"use strict";var fm=require("path"),dm=process.platform==="win32",{REGEX_BACKSLASH:_m,REGEX_REMOVE_BACKSLASH:hm,REGEX_SPECIAL_CHARS:pm,REGEX_SPECIAL_CHARS_GLOBAL:mm}=wn();Je.isObject=n=>n!==null&&typeof n=="object"&&!Array.isArray(n);Je.hasRegexChars=n=>pm.test(n);Je.isRegexChar=n=>n.length===1&&Je.hasRegexChars(n);Je.escapeRegex=n=>n.replace(mm,"\\$1");Je.toPosixSlashes=n=>n.replace(_m,"/");Je.removeBackslashes=n=>n.replace(hm,r=>r==="\\"?"":r);Je.supportsLookbehinds=()=>{let n=process.version.slice(1).split(".").map(Number);return n.length===3&&n[0]>=9||n[0]===8&&n[1]>=10};Je.isWindows=n=>n&&typeof n.windows=="boolean"?n.windows:dm===!0||fm.sep==="\\";Je.escapeLast=(n,r,e)=>{let u=n.lastIndexOf(r,e);return u===-1?n:n[u-1]==="\\"?Je.escapeLast(n,r,u-1):`${n.slice(0,u)}\\${n.slice(u)}`};Je.removePrefix=(n,r={})=>{let e=n;return e.startsWith("./")&&(e=e.slice(2),r.prefix="./"),e};Je.wrapOutput=(n,r={},e={})=>{let u=e.contains?"":"^",f=e.contains?"":"$",d=`${u}(?:${n})${f}`;return r.negated===!0&&(d=`(?:^(?!${d}).*$)`),d}});var Pf=q((Jv,Rf)=>{"use strict";var Ef=En(),{CHAR_ASTERISK:eu,CHAR_AT:gm,CHAR_BACKWARD_SLASH:Sn,CHAR_COMMA:ym,CHAR_DOT:ru,CHAR_EXCLAMATION_MARK:tu,CHAR_FORWARD_SLASH:Tf,CHAR_LEFT_CURLY_BRACE:nu,CHAR_LEFT_PARENTHESES:iu,CHAR_LEFT_SQUARE_BRACKET:bm,CHAR_PLUS:vm,CHAR_QUESTION_MARK:Sf,CHAR_RIGHT_CURLY_BRACE:wm,CHAR_RIGHT_PARENTHESES:kf,CHAR_RIGHT_SQUARE_BRACKET:Em}=wn(),Df=n=>n===Tf||n===Sn,Af=n=>{n.isPrefix!==!0&&(n.depth=n.isGlobstar?1/0:1)},Sm=(n,r)=>{let e=r||{},u=n.length-1,f=e.parts===!0||e.scanToEnd===!0,d=[],g=[],E=[],k=n,A=-1,S=0,R=0,T=!1,te=!1,I=!1,B=!1,Y=!1,ie=!1,me=!1,de=!1,ke=!1,L=!1,_e=0,ue,J,V={value:"",depth:0,isGlob:!1},ge=()=>A>=u,O=()=>k.charCodeAt(A+1),X=()=>(ue=J,k.charCodeAt(++A));for(;A<u;){J=X();let $;if(J===Sn){me=V.backslashes=!0,J=X(),J===nu&&(ie=!0);continue}if(ie===!0||J===nu){for(_e++;ge()!==!0&&(J=X());){if(J===Sn){me=V.backslashes=!0,X();continue}if(J===nu){_e++;continue}if(ie!==!0&&J===ru&&(J=X())===ru){if(T=V.isBrace=!0,I=V.isGlob=!0,L=!0,f===!0)continue;break}if(ie!==!0&&J===ym){if(T=V.isBrace=!0,I=V.isGlob=!0,L=!0,f===!0)continue;break}if(J===wm&&(_e--,_e===0)){ie=!1,T=V.isBrace=!0,L=!0;break}}if(f===!0)continue;break}if(J===Tf){if(d.push(A),g.push(V),V={value:"",depth:0,isGlob:!1},L===!0)continue;if(ue===ru&&A===S+1){S+=2;continue}R=A+1;continue}if(e.noext!==!0&&(J===vm||J===gm||J===eu||J===Sf||J===tu)===!0&&O()===iu){if(I=V.isGlob=!0,B=V.isExtglob=!0,L=!0,J===tu&&A===S&&(ke=!0),f===!0){for(;ge()!==!0&&(J=X());){if(J===Sn){me=V.backslashes=!0,J=X();continue}if(J===kf){I=V.isGlob=!0,L=!0;break}}continue}break}if(J===eu){if(ue===eu&&(Y=V.isGlobstar=!0),I=V.isGlob=!0,L=!0,f===!0)continue;break}if(J===Sf){if(I=V.isGlob=!0,L=!0,f===!0)continue;break}if(J===bm){for(;ge()!==!0&&($=X());){if($===Sn){me=V.backslashes=!0,X();continue}if($===Em){te=V.isBracket=!0,I=V.isGlob=!0,L=!0;break}}if(f===!0)continue;break}if(e.nonegate!==!0&&J===tu&&A===S){de=V.negated=!0,S++;continue}if(e.noparen!==!0&&J===iu){if(I=V.isGlob=!0,f===!0){for(;ge()!==!0&&(J=X());){if(J===iu){me=V.backslashes=!0,J=X();continue}if(J===kf){L=!0;break}}continue}break}if(I===!0){if(L=!0,f===!0)continue;break}}e.noext===!0&&(B=!1,I=!1);let re=k,he="",C="";S>0&&(he=k.slice(0,S),k=k.slice(S),R-=S),re&&I===!0&&R>0?(re=k.slice(0,R),C=k.slice(R)):I===!0?(re="",C=k):re=k,re&&re!==""&&re!=="/"&&re!==k&&Df(re.charCodeAt(re.length-1))&&(re=re.slice(0,-1)),e.unescape===!0&&(C&&(C=Ef.removeBackslashes(C)),re&&me===!0&&(re=Ef.removeBackslashes(re)));let v={prefix:he,input:n,start:S,base:re,glob:C,isBrace:T,isBracket:te,isGlob:I,isExtglob:B,isGlobstar:Y,negated:de,negatedExtglob:ke};if(e.tokens===!0&&(v.maxDepth=0,Df(J)||g.push(V),v.tokens=g),e.parts===!0||e.tokens===!0){let $;for(let Ee=0;Ee<d.length;Ee++){let Xe=$?$+1:S,Ge=d[Ee],We=n.slice(Xe,Ge);e.tokens&&(Ee===0&&S!==0?(g[Ee].isPrefix=!0,g[Ee].value=he):g[Ee].value=We,Af(g[Ee]),v.maxDepth+=g[Ee].depth),(Ee!==0||We!=="")&&E.push(We),$=Ge}if($&&$+1<n.length){let Ee=n.slice($+1);E.push(Ee),e.tokens&&(g[g.length-1].value=Ee,Af(g[g.length-1]),v.maxDepth+=g[g.length-1].depth)}v.slashes=d,v.parts=E}return v};Rf.exports=Sm});var Of=q((Zv,Ff)=>{"use strict";var bi=wn(),nr=En(),{MAX_LENGTH:vi,POSIX_REGEX_SOURCE:km,REGEX_NON_SPECIAL_CHARS:Dm,REGEX_SPECIAL_CHARS_BACKREF:Am,REPLACEMENTS:xf}=bi,Tm=(n,r)=>{if(typeof r.expandRange=="function")return r.expandRange(...n,r);n.sort();let e=`[${n.join("-")}]`;try{new RegExp(e)}catch{return n.map(f=>nr.escapeRegex(f)).join("..")}return e},Ht=(n,r)=>`Missing ${n}: "${r}" - use "\\\\${r}" to match literal characters`,Cf=(n,r)=>{if(typeof n!="string")throw new TypeError("Expected a string");n=xf[n]||n;let e={...r},u=typeof e.maxLength=="number"?Math.min(vi,e.maxLength):vi,f=n.length;if(f>u)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${u}`);let d={type:"bos",value:"",output:e.prepend||""},g=[d],E=e.capture?"":"?:",k=nr.isWindows(r),A=bi.globChars(k),S=bi.extglobChars(A),{DOT_LITERAL:R,PLUS_LITERAL:T,SLASH_LITERAL:te,ONE_CHAR:I,DOTS_SLASH:B,NO_DOT:Y,NO_DOT_SLASH:ie,NO_DOTS_SLASH:me,QMARK:de,QMARK_NO_DOT:ke,STAR:L,START_ANCHOR:_e}=A,ue=K=>`(${E}(?:(?!${_e}${K.dot?B:R}).)*?)`,J=e.dot?"":Y,V=e.dot?de:ke,ge=e.bash===!0?ue(e):L;e.capture&&(ge=`(${ge})`),typeof e.noext=="boolean"&&(e.noextglob=e.noext);let O={input:n,index:-1,start:0,dot:e.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};n=nr.removePrefix(n,O),f=n.length;let X=[],re=[],he=[],C=d,v,$=()=>O.index===f-1,Ee=O.peek=(K=1)=>n[O.index+K],Xe=O.advance=()=>n[++O.index]||"",Ge=()=>n.slice(O.index+1),We=(K="",Te=0)=>{O.consumed+=K,O.index+=Te},gr=K=>{O.output+=K.output!=null?K.output:K.value,We(K.value)},tt=()=>{let K=1;for(;Ee()==="!"&&(Ee(2)!=="("||Ee(3)==="?");)Xe(),O.start++,K++;return K%2===0?!1:(O.negated=!0,O.start++,!0)},Mr=K=>{O[K]++,he.push(K)},Ze=K=>{O[K]--,he.pop()},ye=K=>{if(C.type==="globstar"){let Te=O.braces>0&&(K.type==="comma"||K.type==="brace"),G=K.extglob===!0||X.length&&(K.type==="pipe"||K.type==="paren");K.type!=="slash"&&K.type!=="paren"&&!Te&&!G&&(O.output=O.output.slice(0,-C.output.length),C.type="star",C.value="*",C.output=ge,O.output+=C.output)}if(X.length&&K.type!=="paren"&&(X[X.length-1].inner+=K.value),(K.value||K.output)&&gr(K),C&&C.type==="text"&&K.type==="text"){C.value+=K.value,C.output=(C.output||"")+K.value;return}K.prev=C,g.push(K),C=K},Nr=(K,Te)=>{let G={...S[Te],conditions:1,inner:""};G.prev=C,G.parens=O.parens,G.output=O.output;let pe=(e.capture?"(":"")+G.open;Mr("parens"),ye({type:K,value:Te,output:O.output?"":I}),ye({type:"paren",extglob:!0,value:Xe(),output:pe}),X.push(G)},Yt=K=>{let Te=K.close+(e.capture?")":""),G;if(K.type==="negate"){let pe=ge;K.inner&&K.inner.length>1&&K.inner.includes("/")&&(pe=ue(e)),(pe!==ge||$()||/^\)+$/.test(Ge()))&&(Te=K.close=`)$))${pe}`),K.inner.includes("*")&&(G=Ge())&&/^\.[^\\/.]+$/.test(G)&&(Te=K.close=`)${G})${pe})`),K.prev.type==="bos"&&(O.negatedExtglob=!0)}ye({type:"paren",extglob:!0,value:v,output:Te}),Ze("parens")};if(e.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(n)){let K=!1,Te=n.replace(Am,(G,pe,xe,He,Le,qe)=>He==="\\"?(K=!0,G):He==="?"?pe?pe+He+(Le?de.repeat(Le.length):""):qe===0?V+(Le?de.repeat(Le.length):""):de.repeat(xe.length):He==="."?R.repeat(xe.length):He==="*"?pe?pe+He+(Le?ge:""):ge:pe?G:`\\${G}`);return K===!0&&(e.unescape===!0?Te=Te.replace(/\\/g,""):Te=Te.replace(/\\+/g,G=>G.length%2===0?"\\\\":G?"\\":"")),Te===n&&e.contains===!0?(O.output=n,O):(O.output=nr.wrapOutput(Te,O,r),O)}for(;!$();){if(v=Xe(),v==="\0")continue;if(v==="\\"){let G=Ee();if(G==="/"&&e.bash!==!0||G==="."||G===";")continue;if(!G){v+="\\",ye({type:"text",value:v});continue}let pe=/^\\+/.exec(Ge()),xe=0;if(pe&&pe[0].length>2&&(xe=pe[0].length,O.index+=xe,xe%2!==0&&(v+="\\")),e.unescape===!0?v=Xe():v+=Xe(),O.brackets===0){ye({type:"text",value:v});continue}}if(O.brackets>0&&(v!=="]"||C.value==="["||C.value==="[^")){if(e.posix!==!1&&v===":"){let G=C.value.slice(1);if(G.includes("[")&&(C.posix=!0,G.includes(":"))){let pe=C.value.lastIndexOf("["),xe=C.value.slice(0,pe),He=C.value.slice(pe+2),Le=km[He];if(Le){C.value=xe+Le,O.backtrack=!0,Xe(),!d.output&&g.indexOf(C)===1&&(d.output=I);continue}}}(v==="["&&Ee()!==":"||v==="-"&&Ee()==="]")&&(v=`\\${v}`),v==="]"&&(C.value==="["||C.value==="[^")&&(v=`\\${v}`),e.posix===!0&&v==="!"&&C.value==="["&&(v="^"),C.value+=v,gr({value:v});continue}if(O.quotes===1&&v!=='"'){v=nr.escapeRegex(v),C.value+=v,gr({value:v});continue}if(v==='"'){O.quotes=O.quotes===1?0:1,e.keepQuotes===!0&&ye({type:"text",value:v});continue}if(v==="("){Mr("parens"),ye({type:"paren",value:v});continue}if(v===")"){if(O.parens===0&&e.strictBrackets===!0)throw new SyntaxError(Ht("opening","("));let G=X[X.length-1];if(G&&O.parens===G.parens+1){Yt(X.pop());continue}ye({type:"paren",value:v,output:O.parens?")":"\\)"}),Ze("parens");continue}if(v==="["){if(e.nobracket===!0||!Ge().includes("]")){if(e.nobracket!==!0&&e.strictBrackets===!0)throw new SyntaxError(Ht("closing","]"));v=`\\${v}`}else Mr("brackets");ye({type:"bracket",value:v});continue}if(v==="]"){if(e.nobracket===!0||C&&C.type==="bracket"&&C.value.length===1){ye({type:"text",value:v,output:`\\${v}`});continue}if(O.brackets===0){if(e.strictBrackets===!0)throw new SyntaxError(Ht("opening","["));ye({type:"text",value:v,output:`\\${v}`});continue}Ze("brackets");let G=C.value.slice(1);if(C.posix!==!0&&G[0]==="^"&&!G.includes("/")&&(v=`/${v}`),C.value+=v,gr({value:v}),e.literalBrackets===!1||nr.hasRegexChars(G))continue;let pe=nr.escapeRegex(C.value);if(O.output=O.output.slice(0,-C.value.length),e.literalBrackets===!0){O.output+=pe,C.value=pe;continue}C.value=`(${E}${pe}|${C.value})`,O.output+=C.value;continue}if(v==="{"&&e.nobrace!==!0){Mr("braces");let G={type:"brace",value:v,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};re.push(G),ye(G);continue}if(v==="}"){let G=re[re.length-1];if(e.nobrace===!0||!G){ye({type:"text",value:v,output:v});continue}let pe=")";if(G.dots===!0){let xe=g.slice(),He=[];for(let Le=xe.length-1;Le>=0&&(g.pop(),xe[Le].type!=="brace");Le--)xe[Le].type!=="dots"&&He.unshift(xe[Le].value);pe=Tm(He,e),O.backtrack=!0}if(G.comma!==!0&&G.dots!==!0){let xe=O.output.slice(0,G.outputIndex),He=O.tokens.slice(G.tokensIndex);G.value=G.output="\\{",v=pe="\\}",O.output=xe;for(let Le of He)O.output+=Le.output||Le.value}ye({type:"brace",value:v,output:pe}),Ze("braces"),re.pop();continue}if(v==="|"){X.length>0&&X[X.length-1].conditions++,ye({type:"text",value:v});continue}if(v===","){let G=v,pe=re[re.length-1];pe&&he[he.length-1]==="braces"&&(pe.comma=!0,G="|"),ye({type:"comma",value:v,output:G});continue}if(v==="/"){if(C.type==="dot"&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",g.pop(),C=d;continue}ye({type:"slash",value:v,output:te});continue}if(v==="."){if(O.braces>0&&C.type==="dot"){C.value==="."&&(C.output=R);let G=re[re.length-1];C.type="dots",C.output+=v,C.value+=v,G.dots=!0;continue}if(O.braces+O.parens===0&&C.type!=="bos"&&C.type!=="slash"){ye({type:"text",value:v,output:R});continue}ye({type:"dot",value:v,output:R});continue}if(v==="?"){if(!(C&&C.value==="(")&&e.noextglob!==!0&&Ee()==="("&&Ee(2)!=="?"){Nr("qmark",v);continue}if(C&&C.type==="paren"){let pe=Ee(),xe=v;if(pe==="<"&&!nr.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(C.value==="("&&!/[!=<:]/.test(pe)||pe==="<"&&!/<([!=]|\w+>)/.test(Ge()))&&(xe=`\\${v}`),ye({type:"text",value:v,output:xe});continue}if(e.dot!==!0&&(C.type==="slash"||C.type==="bos")){ye({type:"qmark",value:v,output:ke});continue}ye({type:"qmark",value:v,output:de});continue}if(v==="!"){if(e.noextglob!==!0&&Ee()==="("&&(Ee(2)!=="?"||!/[!=<:]/.test(Ee(3)))){Nr("negate",v);continue}if(e.nonegate!==!0&&O.index===0){tt();continue}}if(v==="+"){if(e.noextglob!==!0&&Ee()==="("&&Ee(2)!=="?"){Nr("plus",v);continue}if(C&&C.value==="("||e.regex===!1){ye({type:"plus",value:v,output:T});continue}if(C&&(C.type==="bracket"||C.type==="paren"||C.type==="brace")||O.parens>0){ye({type:"plus",value:v});continue}ye({type:"plus",value:T});continue}if(v==="@"){if(e.noextglob!==!0&&Ee()==="("&&Ee(2)!=="?"){ye({type:"at",extglob:!0,value:v,output:""});continue}ye({type:"text",value:v});continue}if(v!=="*"){(v==="$"||v==="^")&&(v=`\\${v}`);let G=Dm.exec(Ge());G&&(v+=G[0],O.index+=G[0].length),ye({type:"text",value:v});continue}if(C&&(C.type==="globstar"||C.star===!0)){C.type="star",C.star=!0,C.value+=v,C.output=ge,O.backtrack=!0,O.globstar=!0,We(v);continue}let K=Ge();if(e.noextglob!==!0&&/^\([^?]/.test(K)){Nr("star",v);continue}if(C.type==="star"){if(e.noglobstar===!0){We(v);continue}let G=C.prev,pe=G.prev,xe=G.type==="slash"||G.type==="bos",He=pe&&(pe.type==="star"||pe.type==="globstar");if(e.bash===!0&&(!xe||K[0]&&K[0]!=="/")){ye({type:"star",value:v,output:""});continue}let Le=O.braces>0&&(G.type==="comma"||G.type==="brace"),qe=X.length&&(G.type==="pipe"||G.type==="paren");if(!xe&&G.type!=="paren"&&!Le&&!qe){ye({type:"star",value:v,output:""});continue}for(;K.slice(0,3)==="/**";){let or=n[O.index+4];if(or&&or!=="/")break;K=K.slice(3),We("/**",3)}if(G.type==="bos"&&$()){C.type="globstar",C.value+=v,C.output=ue(e),O.output=C.output,O.globstar=!0,We(v);continue}if(G.type==="slash"&&G.prev.type!=="bos"&&!He&&$()){O.output=O.output.slice(0,-(G.output+C.output).length),G.output=`(?:${G.output}`,C.type="globstar",C.output=ue(e)+(e.strictSlashes?")":"|$)"),C.value+=v,O.globstar=!0,O.output+=G.output+C.output,We(v);continue}if(G.type==="slash"&&G.prev.type!=="bos"&&K[0]==="/"){let or=K[1]!==void 0?"|$":"";O.output=O.output.slice(0,-(G.output+C.output).length),G.output=`(?:${G.output}`,C.type="globstar",C.output=`${ue(e)}${te}|${te}${or})`,C.value+=v,O.output+=G.output+C.output,O.globstar=!0,We(v+Xe()),ye({type:"slash",value:"/",output:""});continue}if(G.type==="bos"&&K[0]==="/"){C.type="globstar",C.value+=v,C.output=`(?:^|${te}|${ue(e)}${te})`,O.output=C.output,O.globstar=!0,We(v+Xe()),ye({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-C.output.length),C.type="globstar",C.output=ue(e),C.value+=v,O.output+=C.output,O.globstar=!0,We(v);continue}let Te={type:"star",value:v,output:ge};if(e.bash===!0){Te.output=".*?",(C.type==="bos"||C.type==="slash")&&(Te.output=J+Te.output),ye(Te);continue}if(C&&(C.type==="bracket"||C.type==="paren")&&e.regex===!0){Te.output=v,ye(Te);continue}(O.index===O.start||C.type==="slash"||C.type==="dot")&&(C.type==="dot"?(O.output+=ie,C.output+=ie):e.dot===!0?(O.output+=me,C.output+=me):(O.output+=J,C.output+=J),Ee()!=="*"&&(O.output+=I,C.output+=I)),ye(Te)}for(;O.brackets>0;){if(e.strictBrackets===!0)throw new SyntaxError(Ht("closing","]"));O.output=nr.escapeLast(O.output,"["),Ze("brackets")}for(;O.parens>0;){if(e.strictBrackets===!0)throw new SyntaxError(Ht("closing",")"));O.output=nr.escapeLast(O.output,"("),Ze("parens")}for(;O.braces>0;){if(e.strictBrackets===!0)throw new SyntaxError(Ht("closing","}"));O.output=nr.escapeLast(O.output,"{"),Ze("braces")}if(e.strictSlashes!==!0&&(C.type==="star"||C.type==="bracket")&&ye({type:"maybe_slash",value:"",output:`${te}?`}),O.backtrack===!0){O.output="";for(let K of O.tokens)O.output+=K.output!=null?K.output:K.value,K.suffix&&(O.output+=K.suffix)}return O};Cf.fastpaths=(n,r)=>{let e={...r},u=typeof e.maxLength=="number"?Math.min(vi,e.maxLength):vi,f=n.length;if(f>u)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${u}`);n=xf[n]||n;let d=nr.isWindows(r),{DOT_LITERAL:g,SLASH_LITERAL:E,ONE_CHAR:k,DOTS_SLASH:A,NO_DOT:S,NO_DOTS:R,NO_DOTS_SLASH:T,STAR:te,START_ANCHOR:I}=bi.globChars(d),B=e.dot?R:S,Y=e.dot?T:S,ie=e.capture?"":"?:",me={negated:!1,prefix:""},de=e.bash===!0?".*?":te;e.capture&&(de=`(${de})`);let ke=J=>J.noglobstar===!0?de:`(${ie}(?:(?!${I}${J.dot?A:g}).)*?)`,L=J=>{switch(J){case"*":return`${B}${k}${de}`;case".*":return`${g}${k}${de}`;case"*.*":return`${B}${de}${g}${k}${de}`;case"*/*":return`${B}${de}${E}${k}${Y}${de}`;case"**":return B+ke(e);case"**/*":return`(?:${B}${ke(e)}${E})?${Y}${k}${de}`;case"**/*.*":return`(?:${B}${ke(e)}${E})?${Y}${de}${g}${k}${de}`;case"**/.*":return`(?:${B}${ke(e)}${E})?${g}${k}${de}`;default:{let V=/^(.*?)\.(\w+)$/.exec(J);if(!V)return;let ge=L(V[1]);return ge?ge+g+V[2]:void 0}}},_e=nr.removePrefix(n,me),ue=L(_e);return ue&&e.strictSlashes!==!0&&(ue+=`${E}?`),ue};Ff.exports=Cf});var Nf=q((ew,Mf)=>{"use strict";var Rm=require("path"),Pm=Pf(),ou=Of(),su=En(),xm=wn(),Cm=n=>n&&typeof n=="object"&&!Array.isArray(n),Be=(n,r,e=!1)=>{if(Array.isArray(n)){let S=n.map(T=>Be(T,r,e));return T=>{for(let te of S){let I=te(T);if(I)return I}return!1}}let u=Cm(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!u)throw new TypeError("Expected pattern to be a non-empty string");let f=r||{},d=su.isWindows(r),g=u?Be.compileRe(n,r):Be.makeRe(n,r,!1,!0),E=g.state;delete g.state;let k=()=>!1;if(f.ignore){let S={...r,ignore:null,onMatch:null,onResult:null};k=Be(f.ignore,S,e)}let A=(S,R=!1)=>{let{isMatch:T,match:te,output:I}=Be.test(S,g,r,{glob:n,posix:d}),B={glob:n,state:E,regex:g,posix:d,input:S,output:I,match:te,isMatch:T};return typeof f.onResult=="function"&&f.onResult(B),T===!1?(B.isMatch=!1,R?B:!1):k(S)?(typeof f.onIgnore=="function"&&f.onIgnore(B),B.isMatch=!1,R?B:!1):(typeof f.onMatch=="function"&&f.onMatch(B),R?B:!0)};return e&&(A.state=E),A};Be.test=(n,r,e,{glob:u,posix:f}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};let d=e||{},g=d.format||(f?su.toPosixSlashes:null),E=n===u,k=E&&g?g(n):n;return E===!1&&(k=g?g(n):n,E=k===u),(E===!1||d.capture===!0)&&(d.matchBase===!0||d.basename===!0?E=Be.matchBase(n,r,e,f):E=r.exec(k)),{isMatch:!!E,match:E,output:k}};Be.matchBase=(n,r,e,u=su.isWindows(e))=>(r instanceof RegExp?r:Be.makeRe(r,e)).test(Rm.basename(n));Be.isMatch=(n,r,e)=>Be(r,e)(n);Be.parse=(n,r)=>Array.isArray(n)?n.map(e=>Be.parse(e,r)):ou(n,{...r,fastpaths:!1});Be.scan=(n,r)=>Pm(n,r);Be.compileRe=(n,r,e=!1,u=!1)=>{if(e===!0)return n.output;let f=r||{},d=f.contains?"":"^",g=f.contains?"":"$",E=`${d}(?:${n.output})${g}`;n&&n.negated===!0&&(E=`^(?!${E}).*$`);let k=Be.toRegex(E,r);return u===!0&&(k.state=n),k};Be.makeRe=(n,r={},e=!1,u=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let f={negated:!1,fastpaths:!0};return r.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(f.output=ou.fastpaths(n,r)),f.output||(f=ou(n,r)),Be.compileRe(f,r,e,u)};Be.toRegex=(n,r)=>{try{let e=r||{};return new RegExp(n,e.flags||(e.nocase?"i":""))}catch(e){if(r&&r.debug===!0)throw e;return/$^/}};Be.constants=xm;Mf.exports=Be});var Bf=q((rw,Lf)=>{"use strict";Lf.exports=Nf()});var jf=q((tw,qf)=>{"use strict";var Uf=require("util"),Hf=mf(),vr=Bf(),au=En(),If=n=>n===""||n==="./",Ne=(n,r,e)=>{r=[].concat(r),n=[].concat(n);let u=new Set,f=new Set,d=new Set,g=0,E=S=>{d.add(S.output),e&&e.onResult&&e.onResult(S)};for(let S=0;S<r.length;S++){let R=vr(String(r[S]),{...e,onResult:E},!0),T=R.state.negated||R.state.negatedExtglob;T&&g++;for(let te of n){let I=R(te,!0);(T?!I.isMatch:I.isMatch)&&(T?u.add(I.output):(u.delete(I.output),f.add(I.output)))}}let A=(g===r.length?[...d]:[...f]).filter(S=>!u.has(S));if(e&&A.length===0){if(e.failglob===!0)throw new Error(`No matches found for "${r.join(", ")}"`);if(e.nonull===!0||e.nullglob===!0)return e.unescape?r.map(S=>S.replace(/\\/g,"")):r}return A};Ne.match=Ne;Ne.matcher=(n,r)=>vr(n,r);Ne.isMatch=(n,r,e)=>vr(r,e)(n);Ne.any=Ne.isMatch;Ne.not=(n,r,e={})=>{r=[].concat(r).map(String);let u=new Set,f=[],g=Ne(n,r,{...e,onResult:E=>{e.onResult&&e.onResult(E),f.push(E.output)}});for(let E of f)g.includes(E)||u.add(E);return[...u]};Ne.contains=(n,r,e)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${Uf.inspect(n)}"`);if(Array.isArray(r))return r.some(u=>Ne.contains(n,u,e));if(typeof r=="string"){if(If(n)||If(r))return!1;if(n.includes(r)||n.startsWith("./")&&n.slice(2).includes(r))return!0}return Ne.isMatch(n,r,{...e,contains:!0})};Ne.matchKeys=(n,r,e)=>{if(!au.isObject(n))throw new TypeError("Expected the first argument to be an object");let u=Ne(Object.keys(n),r,e),f={};for(let d of u)f[d]=n[d];return f};Ne.some=(n,r,e)=>{let u=[].concat(n);for(let f of[].concat(r)){let d=vr(String(f),e);if(u.some(g=>d(g)))return!0}return!1};Ne.every=(n,r,e)=>{let u=[].concat(n);for(let f of[].concat(r)){let d=vr(String(f),e);if(!u.every(g=>d(g)))return!1}return!0};Ne.all=(n,r,e)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${Uf.inspect(n)}"`);return[].concat(r).every(u=>vr(u,e)(n))};Ne.capture=(n,r,e)=>{let u=au.isWindows(e),d=vr.makeRe(String(n),{...e,capture:!0}).exec(u?au.toPosixSlashes(r):r);if(d)return d.slice(1).map(g=>g===void 0?"":g)};Ne.makeRe=(...n)=>vr.makeRe(...n);Ne.scan=(...n)=>vr.scan(...n);Ne.parse=(n,r)=>{let e=[];for(let u of[].concat(n||[]))for(let f of Hf(String(u),r))e.push(vr.parse(f,r));return e};Ne.braces=(n,r)=>{if(typeof n!="string")throw new TypeError("Expected a string");return r&&r.nobrace===!0||!/\{.*\}/.test(n)?[n]:Hf(n,r)};Ne.braceExpand=(n,r)=>{if(typeof n!="string")throw new TypeError("Expected a string");return Ne.braces(n,{...r,expand:!0})};qf.exports=Ne});var Xf=q(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.removeDuplicateSlashes=le.matchAny=le.convertPatternsToRe=le.makeRe=le.getPatternParts=le.expandBraceExpansion=le.expandPatternsWithBraceExpansion=le.isAffectDepthOfReadingPattern=le.endsWithSlashGlobStar=le.hasGlobStar=le.getBaseDirectory=le.isPatternRelatedToParentDirectory=le.getPatternsOutsideCurrentDirectory=le.getPatternsInsideCurrentDirectory=le.getPositivePatterns=le.getNegativePatterns=le.isPositivePattern=le.isNegativePattern=le.convertToNegativePattern=le.convertToPositivePattern=le.isDynamicPattern=le.isStaticPattern=void 0;var Fm=require("path"),Om=Fl(),uu=jf(),Wf="**",Mm="\\",Nm=/[*?]|^!/,Lm=/\[[^[]*]/,Bm=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Im=/[!*+?@]\([^(]*\)/,Um=/,|\.\./,Hm=/(?!^)\/{2,}/g;function $f(n,r={}){return!Gf(n,r)}le.isStaticPattern=$f;function Gf(n,r={}){return n===""?!1:!!(r.caseSensitiveMatch===!1||n.includes(Mm)||Nm.test(n)||Lm.test(n)||Bm.test(n)||r.extglob!==!1&&Im.test(n)||r.braceExpansion!==!1&&qm(n))}le.isDynamicPattern=Gf;function qm(n){let r=n.indexOf("{");if(r===-1)return!1;let e=n.indexOf("}",r+1);if(e===-1)return!1;let u=n.slice(r,e);return Um.test(u)}function jm(n){return wi(n)?n.slice(1):n}le.convertToPositivePattern=jm;function Wm(n){return"!"+n}le.convertToNegativePattern=Wm;function wi(n){return n.startsWith("!")&&n[1]!=="("}le.isNegativePattern=wi;function zf(n){return!wi(n)}le.isPositivePattern=zf;function $m(n){return n.filter(wi)}le.getNegativePatterns=$m;function Gm(n){return n.filter(zf)}le.getPositivePatterns=Gm;function zm(n){return n.filter(r=>!cu(r))}le.getPatternsInsideCurrentDirectory=zm;function Vm(n){return n.filter(cu)}le.getPatternsOutsideCurrentDirectory=Vm;function cu(n){return n.startsWith("..")||n.startsWith("./..")}le.isPatternRelatedToParentDirectory=cu;function Km(n){return Om(n,{flipBackslashes:!1})}le.getBaseDirectory=Km;function Ym(n){return n.includes(Wf)}le.hasGlobStar=Ym;function Vf(n){return n.endsWith("/"+Wf)}le.endsWithSlashGlobStar=Vf;function Xm(n){let r=Fm.basename(n);return Vf(n)||$f(r)}le.isAffectDepthOfReadingPattern=Xm;function Qm(n){return n.reduce((r,e)=>r.concat(Kf(e)),[])}le.expandPatternsWithBraceExpansion=Qm;function Kf(n){let r=uu.braces(n,{expand:!0,nodupes:!0});return r.sort((e,u)=>e.length-u.length),r.filter(e=>e!=="")}le.expandBraceExpansion=Kf;function Jm(n,r){let{parts:e}=uu.scan(n,Object.assign(Object.assign({},r),{parts:!0}));return e.length===0&&(e=[n]),e[0].startsWith("/")&&(e[0]=e[0].slice(1),e.unshift("")),e}le.getPatternParts=Jm;function Yf(n,r){return uu.makeRe(n,r)}le.makeRe=Yf;function Zm(n,r){return n.map(e=>Yf(e,r))}le.convertPatternsToRe=Zm;function eg(n,r){return r.some(e=>e.test(n))}le.matchAny=eg;function rg(n){return n.replace(Hm,"/")}le.removeDuplicateSlashes=rg});var ed=q((iw,Zf)=>{"use strict";var tg=require("stream"),Qf=tg.PassThrough,ng=Array.prototype.slice;Zf.exports=ig;function ig(){let n=[],r=ng.call(arguments),e=!1,u=r[r.length-1];u&&!Array.isArray(u)&&u.pipe==null?r.pop():u={};let f=u.end!==!1,d=u.pipeError===!0;u.objectMode==null&&(u.objectMode=!0),u.highWaterMark==null&&(u.highWaterMark=64*1024);let g=Qf(u);function E(){for(let S=0,R=arguments.length;S<R;S++)n.push(Jf(arguments[S],u));return k(),this}function k(){if(e)return;e=!0;let S=n.shift();if(!S){process.nextTick(A);return}Array.isArray(S)||(S=[S]);let R=S.length+1;function T(){--R>0||(e=!1,k())}function te(I){function B(){I.removeListener("merge2UnpipeEnd",B),I.removeListener("end",B),d&&I.removeListener("error",Y),T()}function Y(ie){g.emit("error",ie)}if(I._readableState.endEmitted)return T();I.on("merge2UnpipeEnd",B),I.on("end",B),d&&I.on("error",Y),I.pipe(g,{end:!1}),I.resume()}for(let I=0;I<S.length;I++)te(S[I]);T()}function A(){e=!1,g.emit("queueDrain"),f&&g.end()}return g.setMaxListeners(0),g.add=E,g.on("unpipe",function(S){S.emit("merge2UnpipeEnd")}),r.length&&E.apply(null,r),g}function Jf(n,r){if(Array.isArray(n))for(let e=0,u=n.length;e<u;e++)n[e]=Jf(n[e],r);else{if(!n._readableState&&n.pipe&&(n=n.pipe(Qf(r))),!n._readableState||!n.pause||!n.pipe)throw new Error("Only readable stream can be merged.");n.pause()}return n}});var td=q(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.merge=void 0;var og=ed();function sg(n){let r=og(n);return n.forEach(e=>{e.once("error",u=>r.emit("error",u))}),r.once("close",()=>rd(n)),r.once("end",()=>rd(n)),r}Ei.merge=sg;function rd(n){n.forEach(r=>r.emit("close"))}});var nd=q(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.isEmpty=qt.isString=void 0;function ag(n){return typeof n=="string"}qt.isString=ag;function ug(n){return n===""}qt.isEmpty=ug});var Pr=q(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.string=ze.stream=ze.pattern=ze.path=ze.fs=ze.errno=ze.array=void 0;var cg=bl();ze.array=cg;var lg=vl();ze.errno=lg;var fg=wl();ze.fs=fg;var dg=Dl();ze.path=dg;var _g=Xf();ze.pattern=_g;var hg=td();ze.stream=hg;var pg=nd();ze.string=pg});var ad=q(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.convertPatternGroupToTask=Ve.convertPatternGroupsToTasks=Ve.groupPatternsByBaseDirectory=Ve.getNegativePatternsAsPositive=Ve.getPositivePatterns=Ve.convertPatternsToTasks=Ve.generate=void 0;var hr=Pr();function mg(n,r){let e=id(n,r),u=id(r.ignore,r),f=od(e),d=sd(e,u),g=f.filter(S=>hr.pattern.isStaticPattern(S,r)),E=f.filter(S=>hr.pattern.isDynamicPattern(S,r)),k=lu(g,d,!1),A=lu(E,d,!0);return k.concat(A)}Ve.generate=mg;function id(n,r){let e=n;return r.braceExpansion&&(e=hr.pattern.expandPatternsWithBraceExpansion(e)),r.baseNameMatch&&(e=e.map(u=>u.includes("/")?u:`**/${u}`)),e.map(u=>hr.pattern.removeDuplicateSlashes(u))}function lu(n,r,e){let u=[],f=hr.pattern.getPatternsOutsideCurrentDirectory(n),d=hr.pattern.getPatternsInsideCurrentDirectory(n),g=fu(f),E=fu(d);return u.push(...du(g,r,e)),"."in E?u.push(_u(".",d,r,e)):u.push(...du(E,r,e)),u}Ve.convertPatternsToTasks=lu;function od(n){return hr.pattern.getPositivePatterns(n)}Ve.getPositivePatterns=od;function sd(n,r){return hr.pattern.getNegativePatterns(n).concat(r).map(hr.pattern.convertToPositivePattern)}Ve.getNegativePatternsAsPositive=sd;function fu(n){let r={};return n.reduce((e,u)=>{let f=hr.pattern.getBaseDirectory(u);return f in e?e[f].push(u):e[f]=[u],e},r)}Ve.groupPatternsByBaseDirectory=fu;function du(n,r,e){return Object.keys(n).map(u=>_u(u,n[u],r,e))}Ve.convertPatternGroupsToTasks=du;function _u(n,r,e,u){return{dynamic:u,positive:r,negative:e,base:n,patterns:[].concat(r,e.map(hr.pattern.convertToNegativePattern))}}Ve.convertPatternGroupToTask=_u});var cd=q(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.read=void 0;function gg(n,r,e){r.fs.lstat(n,(u,f)=>{if(u!==null){ud(e,u);return}if(!f.isSymbolicLink()||!r.followSymbolicLink){hu(e,f);return}r.fs.stat(n,(d,g)=>{if(d!==null){if(r.throwErrorOnBrokenSymbolicLink){ud(e,d);return}hu(e,f);return}r.markSymbolicLink&&(g.isSymbolicLink=()=>!0),hu(e,g)})})}Si.read=gg;function ud(n,r){n(r)}function hu(n,r){n(null,r)}});var ld=q(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.read=void 0;function yg(n,r){let e=r.fs.lstatSync(n);if(!e.isSymbolicLink()||!r.followSymbolicLink)return e;try{let u=r.fs.statSync(n);return r.markSymbolicLink&&(u.isSymbolicLink=()=>!0),u}catch(u){if(!r.throwErrorOnBrokenSymbolicLink)return e;throw u}}ki.read=yg});var fd=q(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.createFileSystemAdapter=Vr.FILE_SYSTEM_ADAPTER=void 0;var Di=require("fs");Vr.FILE_SYSTEM_ADAPTER={lstat:Di.lstat,stat:Di.stat,lstatSync:Di.lstatSync,statSync:Di.statSync};function bg(n){return n===void 0?Vr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Vr.FILE_SYSTEM_ADAPTER),n)}Vr.createFileSystemAdapter=bg});var dd=q(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});var vg=fd(),pu=class{constructor(r={}){this._options=r,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=vg.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(r,e){return r??e}};mu.default=pu});var yt=q(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.statSync=Kr.stat=Kr.Settings=void 0;var _d=cd(),wg=ld(),gu=dd();Kr.Settings=gu.default;function Eg(n,r,e){if(typeof r=="function"){_d.read(n,yu(),r);return}_d.read(n,yu(r),e)}Kr.stat=Eg;function Sg(n,r){let e=yu(r);return wg.read(n,e)}Kr.statSync=Sg;function yu(n={}){return n instanceof gu.default?n:new gu.default(n)}});var md=q((hw,pd)=>{var hd;pd.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):n=>(hd||(hd=Promise.resolve())).then(n).catch(r=>setTimeout(()=>{throw r},0))});var yd=q((pw,gd)=>{gd.exports=Dg;var kg=md();function Dg(n,r){let e,u,f,d=!0;Array.isArray(n)?(e=[],u=n.length):(f=Object.keys(n),e={},u=f.length);function g(k){function A(){r&&r(k,e),r=null}d?kg(A):A()}function E(k,A,S){e[k]=S,(--u===0||A)&&g(A)}u?f?f.forEach(function(k){n[k](function(A,S){E(k,A,S)})}):n.forEach(function(k,A){k(function(S,R){E(A,S,R)})}):g(null),d=!1}});var bu=q(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Ai=process.versions.node.split(".");if(Ai[0]===void 0||Ai[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var bd=Number.parseInt(Ai[0],10),Ag=Number.parseInt(Ai[1],10),vd=10,Tg=10,Rg=bd>vd,Pg=bd===vd&&Ag>=Tg;Ti.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Rg||Pg});var wd=q(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.createDirentFromStats=void 0;var vu=class{constructor(r,e){this.name=r,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}};function xg(n,r){return new vu(n,r)}Ri.createDirentFromStats=xg});var wu=q(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.fs=void 0;var Cg=wd();Pi.fs=Cg});var Eu=q(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.joinPathSegments=void 0;function Fg(n,r,e){return n.endsWith(e)?n+r:n+e+r}xi.joinPathSegments=Fg});var Td=q(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.readdir=Yr.readdirWithFileTypes=Yr.read=void 0;var Og=yt(),Ed=yd(),Mg=bu(),Sd=wu(),kd=Eu();function Ng(n,r,e){if(!r.stats&&Mg.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Dd(n,r,e);return}Ad(n,r,e)}Yr.read=Ng;function Dd(n,r,e){r.fs.readdir(n,{withFileTypes:!0},(u,f)=>{if(u!==null){Ci(e,u);return}let d=f.map(E=>({dirent:E,name:E.name,path:kd.joinPathSegments(n,E.name,r.pathSegmentSeparator)}));if(!r.followSymbolicLinks){Su(e,d);return}let g=d.map(E=>Lg(E,r));Ed(g,(E,k)=>{if(E!==null){Ci(e,E);return}Su(e,k)})})}Yr.readdirWithFileTypes=Dd;function Lg(n,r){return e=>{if(!n.dirent.isSymbolicLink()){e(null,n);return}r.fs.stat(n.path,(u,f)=>{if(u!==null){if(r.throwErrorOnBrokenSymbolicLink){e(u);return}e(null,n);return}n.dirent=Sd.fs.createDirentFromStats(n.name,f),e(null,n)})}}function Ad(n,r,e){r.fs.readdir(n,(u,f)=>{if(u!==null){Ci(e,u);return}let d=f.map(g=>{let E=kd.joinPathSegments(n,g,r.pathSegmentSeparator);return k=>{Og.stat(E,r.fsStatSettings,(A,S)=>{if(A!==null){k(A);return}let R={name:g,path:E,dirent:Sd.fs.createDirentFromStats(g,S)};r.stats&&(R.stats=S),k(null,R)})}});Ed(d,(g,E)=>{if(g!==null){Ci(e,g);return}Su(e,E)})})}Yr.readdir=Ad;function Ci(n,r){n(r)}function Su(n,r){n(null,r)}});var Fd=q(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.readdir=Xr.readdirWithFileTypes=Xr.read=void 0;var Bg=yt(),Ig=bu(),Rd=wu(),Pd=Eu();function Ug(n,r){return!r.stats&&Ig.IS_SUPPORT_READDIR_WITH_FILE_TYPES?xd(n,r):Cd(n,r)}Xr.read=Ug;function xd(n,r){return r.fs.readdirSync(n,{withFileTypes:!0}).map(u=>{let f={dirent:u,name:u.name,path:Pd.joinPathSegments(n,u.name,r.pathSegmentSeparator)};if(f.dirent.isSymbolicLink()&&r.followSymbolicLinks)try{let d=r.fs.statSync(f.path);f.dirent=Rd.fs.createDirentFromStats(f.name,d)}catch(d){if(r.throwErrorOnBrokenSymbolicLink)throw d}return f})}Xr.readdirWithFileTypes=xd;function Cd(n,r){return r.fs.readdirSync(n).map(u=>{let f=Pd.joinPathSegments(n,u,r.pathSegmentSeparator),d=Bg.statSync(f,r.fsStatSettings),g={name:u,path:f,dirent:Rd.fs.createDirentFromStats(u,d)};return r.stats&&(g.stats=d),g})}Xr.readdir=Cd});var Od=q(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.createFileSystemAdapter=Qr.FILE_SYSTEM_ADAPTER=void 0;var jt=require("fs");Qr.FILE_SYSTEM_ADAPTER={lstat:jt.lstat,stat:jt.stat,lstatSync:jt.lstatSync,statSync:jt.statSync,readdir:jt.readdir,readdirSync:jt.readdirSync};function Hg(n){return n===void 0?Qr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Qr.FILE_SYSTEM_ADAPTER),n)}Qr.createFileSystemAdapter=Hg});var Md=q(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var qg=require("path"),jg=yt(),Wg=Od(),ku=class{constructor(r={}){this._options=r,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Wg.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,qg.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new jg.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(r,e){return r??e}};Du.default=ku});var Fi=q(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Settings=Jr.scandirSync=Jr.scandir=void 0;var Nd=Td(),$g=Fd(),Au=Md();Jr.Settings=Au.default;function Gg(n,r,e){if(typeof r=="function"){Nd.read(n,Tu(),r);return}Nd.read(n,Tu(r),e)}Jr.scandir=Gg;function zg(n,r){let e=Tu(r);return $g.read(n,e)}Jr.scandirSync=zg;function Tu(n={}){return n instanceof Au.default?n:new Au.default(n)}});var Bd=q((Dw,Ld)=>{"use strict";function Vg(n){var r=new n,e=r;function u(){var d=r;return d.next?r=d.next:(r=new n,e=r),d.next=null,d}function f(d){e.next=d,e=d}return{get:u,release:f}}Ld.exports=Vg});var Ud=q((Aw,Ru)=>{"use strict";var Kg=Bd();function Id(n,r,e){if(typeof n=="function"&&(e=r,r=n,n=null),e<1)throw new Error("fastqueue concurrency must be greater than 1");var u=Kg(Yg),f=null,d=null,g=0,E=null,k={push:B,drain:cr,saturated:cr,pause:S,paused:!1,concurrency:e,running:A,resume:te,idle:I,length:R,getQueue:T,unshift:Y,empty:cr,kill:me,killAndDrain:de,error:ke};return k;function A(){return g}function S(){k.paused=!0}function R(){for(var L=f,_e=0;L;)L=L.next,_e++;return _e}function T(){for(var L=f,_e=[];L;)_e.push(L.value),L=L.next;return _e}function te(){if(k.paused){k.paused=!1;for(var L=0;L<k.concurrency;L++)g++,ie()}}function I(){return g===0&&k.length()===0}function B(L,_e){var ue=u.get();ue.context=n,ue.release=ie,ue.value=L,ue.callback=_e||cr,ue.errorHandler=E,g===k.concurrency||k.paused?d?(d.next=ue,d=ue):(f=ue,d=ue,k.saturated()):(g++,r.call(n,ue.value,ue.worked))}function Y(L,_e){var ue=u.get();ue.context=n,ue.release=ie,ue.value=L,ue.callback=_e||cr,g===k.concurrency||k.paused?f?(ue.next=f,f=ue):(f=ue,d=ue,k.saturated()):(g++,r.call(n,ue.value,ue.worked))}function ie(L){L&&u.release(L);var _e=f;_e?k.paused?g--:(d===f&&(d=null),f=_e.next,_e.next=null,r.call(n,_e.value,_e.worked),d===null&&k.empty()):--g===0&&k.drain()}function me(){f=null,d=null,k.drain=cr}function de(){f=null,d=null,k.drain(),k.drain=cr}function ke(L){E=L}}function cr(){}function Yg(){this.value=null,this.callback=cr,this.next=null,this.release=cr,this.context=null,this.errorHandler=null;var n=this;this.worked=function(e,u){var f=n.callback,d=n.errorHandler,g=n.value;n.value=null,n.callback=cr,n.errorHandler&&d(e,g),f.call(n.context,e,u),n.release(n)}}function Xg(n,r,e){typeof n=="function"&&(e=r,r=n,n=null);function u(S,R){r.call(this,S).then(function(T){R(null,T)},R)}var f=Id(n,u,e),d=f.push,g=f.unshift;return f.push=E,f.unshift=k,f.drained=A,f;function E(S){var R=new Promise(function(T,te){d(S,function(I,B){if(I){te(I);return}T(B)})});return R.catch(cr),R}function k(S){var R=new Promise(function(T,te){g(S,function(I,B){if(I){te(I);return}T(B)})});return R.catch(cr),R}function A(){var S=f.drain,R=new Promise(function(T){f.drain=function(){S(),T()}});return R}}Ru.exports=Id;Ru.exports.promise=Xg});var Oi=q(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.joinPathSegments=wr.replacePathSegmentSeparator=wr.isAppliedFilter=wr.isFatalError=void 0;function Qg(n,r){return n.errorFilter===null?!0:!n.errorFilter(r)}wr.isFatalError=Qg;function Jg(n,r){return n===null||n(r)}wr.isAppliedFilter=Jg;function Zg(n,r){return n.split(/[/\\]/).join(r)}wr.replacePathSegmentSeparator=Zg;function ey(n,r,e){return n===""?r:n.endsWith(e)?n+r:n+e+r}wr.joinPathSegments=ey});var Cu=q(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});var ry=Oi(),Pu=class{constructor(r,e){this._root=r,this._settings=e,this._root=ry.replacePathSegmentSeparator(r,e.pathSegmentSeparator)}};xu.default=Pu});var Mu=q(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});var ty=require("events"),ny=Fi(),iy=Ud(),Mi=Oi(),oy=Cu(),Fu=class extends oy.default{constructor(r,e){super(r,e),this._settings=e,this._scandir=ny.scandir,this._emitter=new ty.EventEmitter,this._queue=iy(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(r){this._emitter.on("entry",r)}onError(r){this._emitter.once("error",r)}onEnd(r){this._emitter.once("end",r)}_pushToQueue(r,e){let u={directory:r,base:e};this._queue.push(u,f=>{f!==null&&this._handleError(f)})}_worker(r,e){this._scandir(r.directory,this._settings.fsScandirSettings,(u,f)=>{if(u!==null){e(u,void 0);return}for(let d of f)this._handleEntry(d,r.base);e(null,void 0)})}_handleError(r){this._isDestroyed||!Mi.isFatalError(this._settings,r)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",r))}_handleEntry(r,e){if(this._isDestroyed||this._isFatalError)return;let u=r.path;e!==void 0&&(r.path=Mi.joinPathSegments(e,r.name,this._settings.pathSegmentSeparator)),Mi.isAppliedFilter(this._settings.entryFilter,r)&&this._emitEntry(r),r.dirent.isDirectory()&&Mi.isAppliedFilter(this._settings.deepFilter,r)&&this._pushToQueue(u,e===void 0?void 0:r.path)}_emitEntry(r){this._emitter.emit("entry",r)}};Ou.default=Fu});var Hd=q(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});var sy=Mu(),Nu=class{constructor(r,e){this._root=r,this._settings=e,this._reader=new sy.default(this._root,this._settings),this._storage=[]}read(r){this._reader.onError(e=>{ay(r,e)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{uy(r,this._storage)}),this._reader.read()}};Lu.default=Nu;function ay(n,r){n(r)}function uy(n,r){n(null,r)}});var qd=q(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});var cy=require("stream"),ly=Mu(),Bu=class{constructor(r,e){this._root=r,this._settings=e,this._reader=new ly.default(this._root,this._settings),this._stream=new cy.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(r=>{this._stream.emit("error",r)}),this._reader.onEntry(r=>{this._stream.push(r)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Iu.default=Bu});var jd=q(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});var fy=Fi(),Ni=Oi(),dy=Cu(),Uu=class extends dy.default{constructor(){super(...arguments),this._scandir=fy.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(r,e){this._queue.add({directory:r,base:e})}_handleQueue(){for(let r of this._queue.values())this._handleDirectory(r.directory,r.base)}_handleDirectory(r,e){try{let u=this._scandir(r,this._settings.fsScandirSettings);for(let f of u)this._handleEntry(f,e)}catch(u){this._handleError(u)}}_handleError(r){if(Ni.isFatalError(this._settings,r))throw r}_handleEntry(r,e){let u=r.path;e!==void 0&&(r.path=Ni.joinPathSegments(e,r.name,this._settings.pathSegmentSeparator)),Ni.isAppliedFilter(this._settings.entryFilter,r)&&this._pushToStorage(r),r.dirent.isDirectory()&&Ni.isAppliedFilter(this._settings.deepFilter,r)&&this._pushToQueue(u,e===void 0?void 0:r.path)}_pushToStorage(r){this._storage.push(r)}};Hu.default=Uu});var Wd=q(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var _y=jd(),qu=class{constructor(r,e){this._root=r,this._settings=e,this._reader=new _y.default(this._root,this._settings)}read(){return this._reader.read()}};ju.default=qu});var $d=q($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var hy=require("path"),py=Fi(),Wu=class{constructor(r={}){this._options=r,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,hy.sep),this.fsScandirSettings=new py.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(r,e){return r??e}};$u.default=Wu});var Bi=q(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.Settings=Er.walkStream=Er.walkSync=Er.walk=void 0;var Gd=Hd(),my=qd(),gy=Wd(),Gu=$d();Er.Settings=Gu.default;function yy(n,r,e){if(typeof r=="function"){new Gd.default(n,Li()).read(r);return}new Gd.default(n,Li(r)).read(e)}Er.walk=yy;function by(n,r){let e=Li(r);return new gy.default(n,e).read()}Er.walkSync=by;function vy(n,r){let e=Li(r);return new my.default(n,e).read()}Er.walkStream=vy;function Li(n={}){return n instanceof Gu.default?n:new Gu.default(n)}});var Ii=q(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});var wy=require("path"),Ey=yt(),zd=Pr(),zu=class{constructor(r){this._settings=r,this._fsStatSettings=new Ey.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(r){return wy.resolve(this._settings.cwd,r)}_makeEntry(r,e){let u={name:e,path:e,dirent:zd.fs.createDirentFromStats(e,r)};return this._settings.stats&&(u.stats=r),u}_isFatalError(r){return!zd.errno.isEnoentCodeError(r)&&!this._settings.suppressErrors}};Vu.default=zu});var Xu=q(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});var Sy=require("stream"),ky=yt(),Dy=Bi(),Ay=Ii(),Ku=class extends Ay.default{constructor(){super(...arguments),this._walkStream=Dy.walkStream,this._stat=ky.stat}dynamic(r,e){return this._walkStream(r,e)}static(r,e){let u=r.map(this._getFullEntryPath,this),f=new Sy.PassThrough({objectMode:!0});f._write=(d,g,E)=>this._getEntry(u[d],r[d],e).then(k=>{k!==null&&e.entryFilter(k)&&f.push(k),d===u.length-1&&f.end(),E()}).catch(E);for(let d=0;d<u.length;d++)f.write(d);return f}_getEntry(r,e,u){return this._getStat(r).then(f=>this._makeEntry(f,e)).catch(f=>{if(u.errorFilter(f))return null;throw f})}_getStat(r){return new Promise((e,u)=>{this._stat(r,this._fsStatSettings,(f,d)=>f===null?e(d):u(f))})}};Yu.default=Ku});var Vd=q(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});var Ty=Bi(),Ry=Ii(),Py=Xu(),Qu=class extends Ry.default{constructor(){super(...arguments),this._walkAsync=Ty.walk,this._readerStream=new Py.default(this._settings)}dynamic(r,e){return new Promise((u,f)=>{this._walkAsync(r,e,(d,g)=>{d===null?u(g):f(d)})})}async static(r,e){let u=[],f=this._readerStream.static(r,e);return new Promise((d,g)=>{f.once("error",g),f.on("data",E=>u.push(E)),f.once("end",()=>d(u))})}};Ju.default=Qu});var Kd=q(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});var kn=Pr(),Zu=class{constructor(r,e,u){this._patterns=r,this._settings=e,this._micromatchOptions=u,this._storage=[],this._fillStorage()}_fillStorage(){for(let r of this._patterns){let e=this._getPatternSegments(r),u=this._splitSegmentsIntoSections(e);this._storage.push({complete:u.length<=1,pattern:r,segments:e,sections:u})}}_getPatternSegments(r){return kn.pattern.getPatternParts(r,this._micromatchOptions).map(u=>kn.pattern.isDynamicPattern(u,this._settings)?{dynamic:!0,pattern:u,patternRe:kn.pattern.makeRe(u,this._micromatchOptions)}:{dynamic:!1,pattern:u})}_splitSegmentsIntoSections(r){return kn.array.splitWhen(r,e=>e.dynamic&&kn.pattern.hasGlobStar(e.pattern))}};ec.default=Zu});var Yd=q(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});var xy=Kd(),rc=class extends xy.default{match(r){let e=r.split("/"),u=e.length,f=this._storage.filter(d=>!d.complete||d.segments.length>u);for(let d of f){let g=d.sections[0];if(!d.complete&&u>g.length||e.every((k,A)=>{let S=d.segments[A];return!!(S.dynamic&&S.patternRe.test(k)||!S.dynamic&&S.pattern===k)}))return!0}return!1}};tc.default=rc});var Xd=q(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});var Ui=Pr(),Cy=Yd(),nc=class{constructor(r,e){this._settings=r,this._micromatchOptions=e}getFilter(r,e,u){let f=this._getMatcher(e),d=this._getNegativePatternsRe(u);return g=>this._filter(r,g,f,d)}_getMatcher(r){return new Cy.default(r,this._settings,this._micromatchOptions)}_getNegativePatternsRe(r){let e=r.filter(Ui.pattern.isAffectDepthOfReadingPattern);return Ui.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(r,e,u,f){if(this._isSkippedByDeep(r,e.path)||this._isSkippedSymbolicLink(e))return!1;let d=Ui.path.removeLeadingDotSegment(e.path);return this._isSkippedByPositivePatterns(d,u)?!1:this._isSkippedByNegativePatterns(d,f)}_isSkippedByDeep(r,e){return this._settings.deep===1/0?!1:this._getEntryLevel(r,e)>=this._settings.deep}_getEntryLevel(r,e){let u=e.split("/").length;if(r==="")return u;let f=r.split("/").length;return u-f}_isSkippedSymbolicLink(r){return!this._settings.followSymbolicLinks&&r.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(r,e){return!this._settings.baseNameMatch&&!e.match(r)}_isSkippedByNegativePatterns(r,e){return!Ui.pattern.matchAny(r,e)}};ic.default=nc});var Qd=q(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var bt=Pr(),oc=class{constructor(r,e){this._settings=r,this._micromatchOptions=e,this.index=new Map}getFilter(r,e){let u=bt.pattern.convertPatternsToRe(r,this._micromatchOptions),f=bt.pattern.convertPatternsToRe(e,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return d=>this._filter(d,u,f)}_filter(r,e,u){let f=bt.path.removeLeadingDotSegment(r.path);if(this._settings.unique&&this._isDuplicateEntry(f)||this._onlyFileFilter(r)||this._onlyDirectoryFilter(r)||this._isSkippedByAbsoluteNegativePatterns(f,u))return!1;let d=r.dirent.isDirectory(),g=this._isMatchToPatterns(f,e,d)&&!this._isMatchToPatterns(f,u,d);return this._settings.unique&&g&&this._createIndexRecord(f),g}_isDuplicateEntry(r){return this.index.has(r)}_createIndexRecord(r){this.index.set(r,void 0)}_onlyFileFilter(r){return this._settings.onlyFiles&&!r.dirent.isFile()}_onlyDirectoryFilter(r){return this._settings.onlyDirectories&&!r.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(r,e){if(!this._settings.absolute)return!1;let u=bt.path.makeAbsolute(this._settings.cwd,r);return bt.pattern.matchAny(u,e)}_isMatchToPatterns(r,e,u){let f=bt.pattern.matchAny(r,e);return!f&&u?bt.pattern.matchAny(r+"/",e):f}};sc.default=oc});var Jd=q(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});var Fy=Pr(),ac=class{constructor(r){this._settings=r}getFilter(){return r=>this._isNonFatalError(r)}_isNonFatalError(r){return Fy.errno.isEnoentCodeError(r)||this._settings.suppressErrors}};uc.default=ac});var e_=q(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var Zd=Pr(),cc=class{constructor(r){this._settings=r}getTransformer(){return r=>this._transform(r)}_transform(r){let e=r.path;return this._settings.absolute&&(e=Zd.path.makeAbsolute(this._settings.cwd,e),e=Zd.path.unixify(e)),this._settings.markDirectories&&r.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},r),{path:e}):e}};lc.default=cc});var Hi=q(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});var Oy=require("path"),My=Xd(),Ny=Qd(),Ly=Jd(),By=e_(),fc=class{constructor(r){this._settings=r,this.errorFilter=new Ly.default(this._settings),this.entryFilter=new Ny.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new My.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new By.default(this._settings)}_getRootDirectory(r){return Oy.resolve(this._settings.cwd,r.base)}_getReaderOptions(r){let e=r.base==="."?"":r.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,r.positive,r.negative),entryFilter:this.entryFilter.getFilter(r.positive,r.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};dc.default=fc});var r_=q(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});var Iy=Vd(),Uy=Hi(),_c=class extends Uy.default{constructor(){super(...arguments),this._reader=new Iy.default(this._settings)}async read(r){let e=this._getRootDirectory(r),u=this._getReaderOptions(r);return(await this.api(e,r,u)).map(d=>u.transform(d))}api(r,e,u){return e.dynamic?this._reader.dynamic(r,u):this._reader.static(e.patterns,u)}};hc.default=_c});var t_=q(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var Hy=require("stream"),qy=Xu(),jy=Hi(),pc=class extends jy.default{constructor(){super(...arguments),this._reader=new qy.default(this._settings)}read(r){let e=this._getRootDirectory(r),u=this._getReaderOptions(r),f=this.api(e,r,u),d=new Hy.Readable({objectMode:!0,read:()=>{}});return f.once("error",g=>d.emit("error",g)).on("data",g=>d.emit("data",u.transform(g))).once("end",()=>d.emit("end")),d.once("close",()=>f.destroy()),d}api(r,e,u){return e.dynamic?this._reader.dynamic(r,u):this._reader.static(e.patterns,u)}};mc.default=pc});var n_=q(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});var Wy=yt(),$y=Bi(),Gy=Ii(),gc=class extends Gy.default{constructor(){super(...arguments),this._walkSync=$y.walkSync,this._statSync=Wy.statSync}dynamic(r,e){return this._walkSync(r,e)}static(r,e){let u=[];for(let f of r){let d=this._getFullEntryPath(f),g=this._getEntry(d,f,e);g===null||!e.entryFilter(g)||u.push(g)}return u}_getEntry(r,e,u){try{let f=this._getStat(r);return this._makeEntry(f,e)}catch(f){if(u.errorFilter(f))return null;throw f}}_getStat(r){return this._statSync(r,this._fsStatSettings)}};yc.default=gc});var i_=q(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});var zy=n_(),Vy=Hi(),bc=class extends Vy.default{constructor(){super(...arguments),this._reader=new zy.default(this._settings)}read(r){let e=this._getRootDirectory(r),u=this._getReaderOptions(r);return this.api(e,r,u).map(u.transform)}api(r,e,u){return e.dynamic?this._reader.dynamic(r,u):this._reader.static(e.patterns,u)}};vc.default=bc});var o_=q($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Wt=require("fs"),Ky=require("os"),Yy=Math.max(Ky.cpus().length,1);$t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Wt.lstat,lstatSync:Wt.lstatSync,stat:Wt.stat,statSync:Wt.statSync,readdir:Wt.readdir,readdirSync:Wt.readdirSync};var wc=class{constructor(r={}){this._options=r,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Yy),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(r,e){return r===void 0?e:r}_getFileSystemMethods(r={}){return Object.assign(Object.assign({},$t.DEFAULT_FILE_SYSTEM_ADAPTER),r)}};$t.default=wc});var u_=q((Qw,a_)=>{"use strict";var s_=ad(),Xy=r_(),Qy=t_(),Jy=i_(),Ec=o_(),lr=Pr();async function Sc(n,r){pr(n);let e=kc(n,Xy.default,r),u=await Promise.all(e);return lr.array.flatten(u)}(function(n){n.glob=n,n.globSync=r,n.globStream=e,n.async=n;function r(A,S){pr(A);let R=kc(A,Jy.default,S);return lr.array.flatten(R)}n.sync=r;function e(A,S){pr(A);let R=kc(A,Qy.default,S);return lr.stream.merge(R)}n.stream=e;function u(A,S){pr(A);let R=[].concat(A),T=new Ec.default(S);return s_.generate(R,T)}n.generateTasks=u;function f(A,S){pr(A);let R=new Ec.default(S);return lr.pattern.isDynamicPattern(A,R)}n.isDynamicPattern=f;function d(A){return pr(A),lr.path.escape(A)}n.escapePath=d;function g(A){return pr(A),lr.path.convertPathToPattern(A)}n.convertPathToPattern=g;let E;(function(A){function S(T){return pr(T),lr.path.escapePosixPath(T)}A.escapePath=S;function R(T){return pr(T),lr.path.convertPosixPathToPattern(T)}A.convertPathToPattern=R})(E=n.posix||(n.posix={}));let k;(function(A){function S(T){return pr(T),lr.path.escapeWindowsPath(T)}A.escapePath=S;function R(T){return pr(T),lr.path.convertWindowsPathToPattern(T)}A.convertPathToPattern=R})(k=n.win32||(n.win32={}))})(Sc||(Sc={}));function kc(n,r,e){let u=[].concat(n),f=new Ec.default(e),d=s_.generate(u,f),g=new r(f);return d.map(g.read,g)}function pr(n){if(![].concat(n).every(u=>lr.string.isString(u)&&!lr.string.isEmpty(u)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}a_.exports=Sc});var Zr=q((n0,l_)=>{"use strict";l_.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Dn=q((i0,qi)=>{"use strict";var{EMPTY_BUFFER:Zy}=Zr(),Dc=Buffer[Symbol.species];function eb(n,r){if(n.length===0)return Zy;if(n.length===1)return n[0];let e=Buffer.allocUnsafe(r),u=0;for(let f=0;f<n.length;f++){let d=n[f];e.set(d,u),u+=d.length}return u<r?new Dc(e.buffer,e.byteOffset,u):e}function f_(n,r,e,u,f){for(let d=0;d<f;d++)e[u+d]=n[d]^r[d&3]}function d_(n,r){for(let e=0;e<n.length;e++)n[e]^=r[e&3]}function rb(n){return n.length===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.length)}function Ac(n){if(Ac.readOnly=!0,Buffer.isBuffer(n))return n;let r;return n instanceof ArrayBuffer?r=new Dc(n):ArrayBuffer.isView(n)?r=new Dc(n.buffer,n.byteOffset,n.byteLength):(r=Buffer.from(n),Ac.readOnly=!1),r}qi.exports={concat:eb,mask:f_,toArrayBuffer:rb,toBuffer:Ac,unmask:d_};if(!process.env.WS_NO_BUFFER_UTIL)try{let n=require("bufferutil");qi.exports.mask=function(r,e,u,f,d){d<48?f_(r,e,u,f,d):n.mask(r,e,u,f,d)},qi.exports.unmask=function(r,e){r.length<32?d_(r,e):n.unmask(r,e)}}catch{}});var p_=q((o0,h_)=>{"use strict";var __=Symbol("kDone"),Tc=Symbol("kRun"),Rc=class{constructor(r){this[__]=()=>{this.pending--,this[Tc]()},this.concurrency=r||1/0,this.jobs=[],this.pending=0}add(r){this.jobs.push(r),this[Tc]()}[Tc](){if(this.pending!==this.concurrency&&this.jobs.length){let r=this.jobs.shift();this.pending++,r(this[__])}}};h_.exports=Rc});var Rn=q((s0,b_)=>{"use strict";var An=require("zlib"),m_=Dn(),tb=p_(),{kStatusCode:g_}=Zr(),nb=Buffer[Symbol.species],ib=Buffer.from([0,0,255,255]),$i=Symbol("permessage-deflate"),xr=Symbol("total-length"),Tn=Symbol("callback"),et=Symbol("buffers"),Wi=Symbol("error"),ji,Pc=class{constructor(r,e,u){if(this._maxPayload=u|0,this._options=r||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!e,this._deflate=null,this._inflate=null,this.params=null,!ji){let f=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;ji=new tb(f)}}static get extensionName(){return"permessage-deflate"}offer(){let r={};return this._options.serverNoContextTakeover&&(r.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(r.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(r.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?r.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(r.client_max_window_bits=!0),r}accept(r){return r=this.normalizeParams(r),this.params=this._isServer?this.acceptAsServer(r):this.acceptAsClient(r),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let r=this._deflate[Tn];this._deflate.close(),this._deflate=null,r&&r(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(r){let e=this._options,u=r.find(f=>!(e.serverNoContextTakeover===!1&&f.server_no_context_takeover||f.server_max_window_bits&&(e.serverMaxWindowBits===!1||typeof e.serverMaxWindowBits=="number"&&e.serverMaxWindowBits>f.server_max_window_bits)||typeof e.clientMaxWindowBits=="number"&&!f.client_max_window_bits));if(!u)throw new Error("None of the extension offers can be accepted");return e.serverNoContextTakeover&&(u.server_no_context_takeover=!0),e.clientNoContextTakeover&&(u.client_no_context_takeover=!0),typeof e.serverMaxWindowBits=="number"&&(u.server_max_window_bits=e.serverMaxWindowBits),typeof e.clientMaxWindowBits=="number"?u.client_max_window_bits=e.clientMaxWindowBits:(u.client_max_window_bits===!0||e.clientMaxWindowBits===!1)&&delete u.client_max_window_bits,u}acceptAsClient(r){let e=r[0];if(this._options.clientNoContextTakeover===!1&&e.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!e.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(e.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&e.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return e}normalizeParams(r){return r.forEach(e=>{Object.keys(e).forEach(u=>{let f=e[u];if(f.length>1)throw new Error(`Parameter "${u}" must have only a single value`);if(f=f[0],u==="client_max_window_bits"){if(f!==!0){let d=+f;if(!Number.isInteger(d)||d<8||d>15)throw new TypeError(`Invalid value for parameter "${u}": ${f}`);f=d}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${u}": ${f}`)}else if(u==="server_max_window_bits"){let d=+f;if(!Number.isInteger(d)||d<8||d>15)throw new TypeError(`Invalid value for parameter "${u}": ${f}`);f=d}else if(u==="client_no_context_takeover"||u==="server_no_context_takeover"){if(f!==!0)throw new TypeError(`Invalid value for parameter "${u}": ${f}`)}else throw new Error(`Unknown parameter "${u}"`);e[u]=f})}),r}decompress(r,e,u){ji.add(f=>{this._decompress(r,e,(d,g)=>{f(),u(d,g)})})}compress(r,e,u){ji.add(f=>{this._compress(r,e,(d,g)=>{f(),u(d,g)})})}_decompress(r,e,u){let f=this._isServer?"client":"server";if(!this._inflate){let d=`${f}_max_window_bits`,g=typeof this.params[d]!="number"?An.Z_DEFAULT_WINDOWBITS:this.params[d];this._inflate=An.createInflateRaw({...this._options.zlibInflateOptions,windowBits:g}),this._inflate[$i]=this,this._inflate[xr]=0,this._inflate[et]=[],this._inflate.on("error",sb),this._inflate.on("data",y_)}this._inflate[Tn]=u,this._inflate.write(r),e&&this._inflate.write(ib),this._inflate.flush(()=>{let d=this._inflate[Wi];if(d){this._inflate.close(),this._inflate=null,u(d);return}let g=m_.concat(this._inflate[et],this._inflate[xr]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[xr]=0,this._inflate[et]=[],e&&this.params[`${f}_no_context_takeover`]&&this._inflate.reset()),u(null,g)})}_compress(r,e,u){let f=this._isServer?"server":"client";if(!this._deflate){let d=`${f}_max_window_bits`,g=typeof this.params[d]!="number"?An.Z_DEFAULT_WINDOWBITS:this.params[d];this._deflate=An.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:g}),this._deflate[xr]=0,this._deflate[et]=[],this._deflate.on("data",ob)}this._deflate[Tn]=u,this._deflate.write(r),this._deflate.flush(An.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let d=m_.concat(this._deflate[et],this._deflate[xr]);e&&(d=new nb(d.buffer,d.byteOffset,d.length-4)),this._deflate[Tn]=null,this._deflate[xr]=0,this._deflate[et]=[],e&&this.params[`${f}_no_context_takeover`]&&this._deflate.reset(),u(null,d)})}};b_.exports=Pc;function ob(n){this[et].push(n),this[xr]+=n.length}function y_(n){if(this[xr]+=n.length,this[$i]._maxPayload<1||this[xr]<=this[$i]._maxPayload){this[et].push(n);return}this[Wi]=new RangeError("Max payload size exceeded"),this[Wi].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Wi][g_]=1009,this.removeListener("data",y_),this.reset()}function sb(n){this[$i]._inflate=null,n[g_]=1007,this[Tn](n)}});var Pn=q((a0,Gi)=>{"use strict";var{isUtf8:v_}=require("buffer"),ab=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function ub(n){return n>=1e3&&n<=1014&&n!==1004&&n!==1005&&n!==1006||n>=3e3&&n<=4999}function xc(n){let r=n.length,e=0;for(;e<r;)if(!(n[e]&128))e++;else if((n[e]&224)===192){if(e+1===r||(n[e+1]&192)!==128||(n[e]&254)===192)return!1;e+=2}else if((n[e]&240)===224){if(e+2>=r||(n[e+1]&192)!==128||(n[e+2]&192)!==128||n[e]===224&&(n[e+1]&224)===128||n[e]===237&&(n[e+1]&224)===160)return!1;e+=3}else if((n[e]&248)===240){if(e+3>=r||(n[e+1]&192)!==128||(n[e+2]&192)!==128||(n[e+3]&192)!==128||n[e]===240&&(n[e+1]&240)===128||n[e]===244&&n[e+1]>143||n[e]>244)return!1;e+=4}else return!1;return!0}Gi.exports={isValidStatusCode:ub,isValidUTF8:xc,tokenChars:ab};if(v_)Gi.exports.isValidUTF8=function(n){return n.length<24?xc(n):v_(n)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let n=require("utf-8-validate");Gi.exports.isValidUTF8=function(r){return r.length<32?xc(r):n(r)}}catch{}});var Mc=q((u0,T_)=>{"use strict";var{Writable:cb}=require("stream"),w_=Rn(),{BINARY_TYPES:lb,EMPTY_BUFFER:E_,kStatusCode:fb,kWebSocket:db}=Zr(),{concat:Cc,toArrayBuffer:_b,unmask:hb}=Dn(),{isValidStatusCode:pb,isValidUTF8:S_}=Pn(),zi=Buffer[Symbol.species],xn=0,k_=1,D_=2,A_=3,Fc=4,mb=5,Oc=class extends cb{constructor(r={}){super(),this._binaryType=r.binaryType||lb[0],this._extensions=r.extensions||{},this._isServer=!!r.isServer,this._maxPayload=r.maxPayload|0,this._skipUTF8Validation=!!r.skipUTF8Validation,this[db]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=xn,this._loop=!1}_write(r,e,u){if(this._opcode===8&&this._state==xn)return u();this._bufferedBytes+=r.length,this._buffers.push(r),this.startLoop(u)}consume(r){if(this._bufferedBytes-=r,r===this._buffers[0].length)return this._buffers.shift();if(r<this._buffers[0].length){let u=this._buffers[0];return this._buffers[0]=new zi(u.buffer,u.byteOffset+r,u.length-r),new zi(u.buffer,u.byteOffset,r)}let e=Buffer.allocUnsafe(r);do{let u=this._buffers[0],f=e.length-r;r>=u.length?e.set(this._buffers.shift(),f):(e.set(new Uint8Array(u.buffer,u.byteOffset,r),f),this._buffers[0]=new zi(u.buffer,u.byteOffset+r,u.length-r)),r-=u.length}while(r>0);return e}startLoop(r){let e;this._loop=!0;do switch(this._state){case xn:e=this.getInfo();break;case k_:e=this.getPayloadLength16();break;case D_:e=this.getPayloadLength64();break;case A_:this.getMask();break;case Fc:e=this.getData(r);break;default:this._loop=!1;return}while(this._loop);r(e)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if(r[0]&48)return this._loop=!1,je(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let e=(r[0]&64)===64;if(e&&!this._extensions[w_.extensionName])return this._loop=!1,je(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(e)return this._loop=!1,je(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,je(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,je(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=e}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,je(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(e)return this._loop=!1,je(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,je(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,je(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,je(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,je(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=k_;else if(this._payloadLength===127)this._state=D_;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),e=r.readUInt32BE(0);return e>Math.pow(2,53-32)-1?(this._loop=!1,je(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=e*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,je(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=A_:this._state=Fc}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Fc}getData(r){let e=E_;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}e=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&hb(e,this._mask)}if(this._opcode>7)return this.controlMessage(e);if(this._compressed){this._state=mb,this.decompress(e,r);return}return e.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(e)),this.dataMessage()}decompress(r,e){this._extensions[w_.extensionName].decompress(r,this._fin,(f,d)=>{if(f)return e(f);if(d.length){if(this._messageLength+=d.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return e(je(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(d)}let g=this.dataMessage();if(g)return e(g);this.startLoop(e)})}dataMessage(){if(this._fin){let r=this._messageLength,e=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let u;this._binaryType==="nodebuffer"?u=Cc(e,r):this._binaryType==="arraybuffer"?u=_b(Cc(e,r)):u=e,this.emit("message",u,!0)}else{let u=Cc(e,r);if(!this._skipUTF8Validation&&!S_(u))return this._loop=!1,je(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",u,!1)}}this._state=xn}controlMessage(r){if(this._opcode===8)if(this._loop=!1,r.length===0)this.emit("conclude",1005,E_),this.end();else{let e=r.readUInt16BE(0);if(!pb(e))return je(RangeError,`invalid status code ${e}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let u=new zi(r.buffer,r.byteOffset+2,r.length-2);if(!this._skipUTF8Validation&&!S_(u))return je(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",e,u),this.end()}else this._opcode===9?this.emit("ping",r):this.emit("pong",r);this._state=xn}};T_.exports=Oc;function je(n,r,e,u,f){let d=new n(e?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(d,je),d.code=f,d[fb]=u,d}});var Lc=q((f0,x_)=>{"use strict";var c0=require("net"),l0=require("tls"),{randomFillSync:gb}=require("crypto"),R_=Rn(),{EMPTY_BUFFER:yb}=Zr(),{isValidStatusCode:bb}=Pn(),{mask:P_,toBuffer:Gt}=Dn(),mr=Symbol("kByteLength"),vb=Buffer.alloc(4),Nc=class n{constructor(r,e,u){this._extensions=e||{},u&&(this._generateMask=u,this._maskBuffer=Buffer.alloc(4)),this._socket=r,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(r,e){let u,f=!1,d=2,g=!1;e.mask&&(u=e.maskBuffer||vb,e.generateMask?e.generateMask(u):gb(u,0,4),g=(u[0]|u[1]|u[2]|u[3])===0,d=6);let E;typeof r=="string"?(!e.mask||g)&&e[mr]!==void 0?E=e[mr]:(r=Buffer.from(r),E=r.length):(E=r.length,f=e.mask&&e.readOnly&&!g);let k=E;E>=65536?(d+=8,k=127):E>125&&(d+=2,k=126);let A=Buffer.allocUnsafe(f?E+d:d);return A[0]=e.fin?e.opcode|128:e.opcode,e.rsv1&&(A[0]|=64),A[1]=k,k===126?A.writeUInt16BE(E,2):k===127&&(A[2]=A[3]=0,A.writeUIntBE(E,4,6)),e.mask?(A[1]|=128,A[d-4]=u[0],A[d-3]=u[1],A[d-2]=u[2],A[d-1]=u[3],g?[A,r]:f?(P_(r,u,A,d,E),[A]):(P_(r,u,r,0,E),[A,r])):[A,r]}close(r,e,u,f){let d;if(r===void 0)d=yb;else{if(typeof r!="number"||!bb(r))throw new TypeError("First argument must be a valid error code number");if(e===void 0||!e.length)d=Buffer.allocUnsafe(2),d.writeUInt16BE(r,0);else{let E=Buffer.byteLength(e);if(E>123)throw new RangeError("The message must not be greater than 123 bytes");d=Buffer.allocUnsafe(2+E),d.writeUInt16BE(r,0),typeof e=="string"?d.write(e,2):d.set(e,2)}}let g={[mr]:d.length,fin:!0,generateMask:this._generateMask,mask:u,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,d,!1,g,f]):this.sendFrame(n.frame(d,g),f)}ping(r,e,u){let f,d;if(typeof r=="string"?(f=Buffer.byteLength(r),d=!1):(r=Gt(r),f=r.length,d=Gt.readOnly),f>125)throw new RangeError("The data size must not be greater than 125 bytes");let g={[mr]:f,fin:!0,generateMask:this._generateMask,mask:e,maskBuffer:this._maskBuffer,opcode:9,readOnly:d,rsv1:!1};this._deflating?this.enqueue([this.dispatch,r,!1,g,u]):this.sendFrame(n.frame(r,g),u)}pong(r,e,u){let f,d;if(typeof r=="string"?(f=Buffer.byteLength(r),d=!1):(r=Gt(r),f=r.length,d=Gt.readOnly),f>125)throw new RangeError("The data size must not be greater than 125 bytes");let g={[mr]:f,fin:!0,generateMask:this._generateMask,mask:e,maskBuffer:this._maskBuffer,opcode:10,readOnly:d,rsv1:!1};this._deflating?this.enqueue([this.dispatch,r,!1,g,u]):this.sendFrame(n.frame(r,g),u)}send(r,e,u){let f=this._extensions[R_.extensionName],d=e.binary?2:1,g=e.compress,E,k;if(typeof r=="string"?(E=Buffer.byteLength(r),k=!1):(r=Gt(r),E=r.length,k=Gt.readOnly),this._firstFragment?(this._firstFragment=!1,g&&f&&f.params[f._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(g=E>=f._threshold),this._compress=g):(g=!1,d=0),e.fin&&(this._firstFragment=!0),f){let A={[mr]:E,fin:e.fin,generateMask:this._generateMask,mask:e.mask,maskBuffer:this._maskBuffer,opcode:d,readOnly:k,rsv1:g};this._deflating?this.enqueue([this.dispatch,r,this._compress,A,u]):this.dispatch(r,this._compress,A,u)}else this.sendFrame(n.frame(r,{[mr]:E,fin:e.fin,generateMask:this._generateMask,mask:e.mask,maskBuffer:this._maskBuffer,opcode:d,readOnly:k,rsv1:!1}),u)}dispatch(r,e,u,f){if(!e){this.sendFrame(n.frame(r,u),f);return}let d=this._extensions[R_.extensionName];this._bufferedBytes+=u[mr],this._deflating=!0,d.compress(r,u.fin,(g,E)=>{if(this._socket.destroyed){let k=new Error("The socket was closed while data was being compressed");typeof f=="function"&&f(k);for(let A=0;A<this._queue.length;A++){let S=this._queue[A],R=S[S.length-1];typeof R=="function"&&R(k)}return}this._bufferedBytes-=u[mr],this._deflating=!1,u.readOnly=!1,this.sendFrame(n.frame(E,u),f),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let r=this._queue.shift();this._bufferedBytes-=r[3][mr],Reflect.apply(r[0],this,r.slice(1))}}enqueue(r){this._bufferedBytes+=r[3][mr],this._queue.push(r)}sendFrame(r,e){r.length===2?(this._socket.cork(),this._socket.write(r[0]),this._socket.write(r[1],e),this._socket.uncork()):this._socket.write(r[0],e)}};x_.exports=Nc});var U_=q((d0,I_)=>{"use strict";var{kForOnEventAttribute:Cn,kListener:Bc}=Zr(),C_=Symbol("kCode"),F_=Symbol("kData"),O_=Symbol("kError"),M_=Symbol("kMessage"),N_=Symbol("kReason"),zt=Symbol("kTarget"),L_=Symbol("kType"),B_=Symbol("kWasClean"),Cr=class{constructor(r){this[zt]=null,this[L_]=r}get target(){return this[zt]}get type(){return this[L_]}};Object.defineProperty(Cr.prototype,"target",{enumerable:!0});Object.defineProperty(Cr.prototype,"type",{enumerable:!0});var vt=class extends Cr{constructor(r,e={}){super(r),this[C_]=e.code===void 0?0:e.code,this[N_]=e.reason===void 0?"":e.reason,this[B_]=e.wasClean===void 0?!1:e.wasClean}get code(){return this[C_]}get reason(){return this[N_]}get wasClean(){return this[B_]}};Object.defineProperty(vt.prototype,"code",{enumerable:!0});Object.defineProperty(vt.prototype,"reason",{enumerable:!0});Object.defineProperty(vt.prototype,"wasClean",{enumerable:!0});var Vt=class extends Cr{constructor(r,e={}){super(r),this[O_]=e.error===void 0?null:e.error,this[M_]=e.message===void 0?"":e.message}get error(){return this[O_]}get message(){return this[M_]}};Object.defineProperty(Vt.prototype,"error",{enumerable:!0});Object.defineProperty(Vt.prototype,"message",{enumerable:!0});var Fn=class extends Cr{constructor(r,e={}){super(r),this[F_]=e.data===void 0?null:e.data}get data(){return this[F_]}};Object.defineProperty(Fn.prototype,"data",{enumerable:!0});var wb={addEventListener(n,r,e={}){for(let f of this.listeners(n))if(!e[Cn]&&f[Bc]===r&&!f[Cn])return;let u;if(n==="message")u=function(d,g){let E=new Fn("message",{data:g?d:d.toString()});E[zt]=this,Vi(r,this,E)};else if(n==="close")u=function(d,g){let E=new vt("close",{code:d,reason:g.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});E[zt]=this,Vi(r,this,E)};else if(n==="error")u=function(d){let g=new Vt("error",{error:d,message:d.message});g[zt]=this,Vi(r,this,g)};else if(n==="open")u=function(){let d=new Cr("open");d[zt]=this,Vi(r,this,d)};else return;u[Cn]=!!e[Cn],u[Bc]=r,e.once?this.once(n,u):this.on(n,u)},removeEventListener(n,r){for(let e of this.listeners(n))if(e[Bc]===r&&!e[Cn]){this.removeListener(n,e);break}}};I_.exports={CloseEvent:vt,ErrorEvent:Vt,Event:Cr,EventTarget:wb,MessageEvent:Fn};function Vi(n,r,e){typeof n=="object"&&n.handleEvent?n.handleEvent.call(n,e):n.call(r,e)}});var Ic=q((_0,H_)=>{"use strict";var{tokenChars:On}=Pn();function Sr(n,r,e){n[r]===void 0?n[r]=[e]:n[r].push(e)}function Eb(n){let r=Object.create(null),e=Object.create(null),u=!1,f=!1,d=!1,g,E,k=-1,A=-1,S=-1,R=0;for(;R<n.length;R++)if(A=n.charCodeAt(R),g===void 0)if(S===-1&&On[A]===1)k===-1&&(k=R);else if(R!==0&&(A===32||A===9))S===-1&&k!==-1&&(S=R);else if(A===59||A===44){if(k===-1)throw new SyntaxError(`Unexpected character at index ${R}`);S===-1&&(S=R);let te=n.slice(k,S);A===44?(Sr(r,te,e),e=Object.create(null)):g=te,k=S=-1}else throw new SyntaxError(`Unexpected character at index ${R}`);else if(E===void 0)if(S===-1&&On[A]===1)k===-1&&(k=R);else if(A===32||A===9)S===-1&&k!==-1&&(S=R);else if(A===59||A===44){if(k===-1)throw new SyntaxError(`Unexpected character at index ${R}`);S===-1&&(S=R),Sr(e,n.slice(k,S),!0),A===44&&(Sr(r,g,e),e=Object.create(null),g=void 0),k=S=-1}else if(A===61&&k!==-1&&S===-1)E=n.slice(k,R),k=S=-1;else throw new SyntaxError(`Unexpected character at index ${R}`);else if(f){if(On[A]!==1)throw new SyntaxError(`Unexpected character at index ${R}`);k===-1?k=R:u||(u=!0),f=!1}else if(d)if(On[A]===1)k===-1&&(k=R);else if(A===34&&k!==-1)d=!1,S=R;else if(A===92)f=!0;else throw new SyntaxError(`Unexpected character at index ${R}`);else if(A===34&&n.charCodeAt(R-1)===61)d=!0;else if(S===-1&&On[A]===1)k===-1&&(k=R);else if(k!==-1&&(A===32||A===9))S===-1&&(S=R);else if(A===59||A===44){if(k===-1)throw new SyntaxError(`Unexpected character at index ${R}`);S===-1&&(S=R);let te=n.slice(k,S);u&&(te=te.replace(/\\/g,""),u=!1),Sr(e,E,te),A===44&&(Sr(r,g,e),e=Object.create(null),g=void 0),E=void 0,k=S=-1}else throw new SyntaxError(`Unexpected character at index ${R}`);if(k===-1||d||A===32||A===9)throw new SyntaxError("Unexpected end of input");S===-1&&(S=R);let T=n.slice(k,S);return g===void 0?Sr(r,T,e):(E===void 0?Sr(e,T,!0):u?Sr(e,E,T.replace(/\\/g,"")):Sr(e,E,T),Sr(r,g,e)),r}function Sb(n){return Object.keys(n).map(r=>{let e=n[r];return Array.isArray(e)||(e=[e]),e.map(u=>[r].concat(Object.keys(u).map(f=>{let d=u[f];return Array.isArray(d)||(d=[d]),d.map(g=>g===!0?f:`${f}=${g}`).join("; ")})).join("; ")).join(", ")}).join(", ")}H_.exports={format:Sb,parse:Eb}});var Wc=q((p0,Q_)=>{"use strict";var kb=require("events"),Db=require("https"),Ab=require("http"),W_=require("net"),Tb=require("tls"),{randomBytes:Rb,createHash:Pb}=require("crypto"),{Readable:h0}=require("stream"),{URL:Uc}=require("url"),rt=Rn(),xb=Mc(),Cb=Lc(),{BINARY_TYPES:q_,EMPTY_BUFFER:Ki,GUID:Fb,kForOnEventAttribute:Hc,kListener:Ob,kStatusCode:Mb,kWebSocket:Ke,NOOP:$_}=Zr(),{EventTarget:{addEventListener:Nb,removeEventListener:Lb}}=U_(),{format:Bb,parse:Ib}=Ic(),{toBuffer:Ub}=Dn(),Hb=30*1e3,G_=Symbol("kAborted"),qc=[8,13],Fr=["CONNECTING","OPEN","CLOSING","CLOSED"],qb=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ie=class n extends kb{constructor(r,e,u){super(),this._binaryType=q_[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Ki,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=n.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,r!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,e===void 0?e=[]:Array.isArray(e)||(typeof e=="object"&&e!==null?(u=e,e=[]):e=[e]),z_(this,r,e,u)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(r){q_.includes(r)&&(this._binaryType=r,this._receiver&&(this._receiver._binaryType=r))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(r,e,u){let f=new xb({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:u.maxPayload,skipUTF8Validation:u.skipUTF8Validation});this._sender=new Cb(r,this._extensions,u.generateMask),this._receiver=f,this._socket=r,f[Ke]=this,r[Ke]=this,f.on("conclude",$b),f.on("drain",Gb),f.on("error",zb),f.on("message",Vb),f.on("ping",Kb),f.on("pong",Yb),r.setTimeout(0),r.setNoDelay(),e.length>0&&r.unshift(e),r.on("close",K_),r.on("data",Xi),r.on("end",Y_),r.on("error",X_),this._readyState=n.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=n.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[rt.extensionName]&&this._extensions[rt.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=n.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(r,e){if(this.readyState!==n.CLOSED){if(this.readyState===n.CONNECTING){let u="WebSocket was closed before the connection was established";ir(this,this._req,u);return}if(this.readyState===n.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=n.CLOSING,this._sender.close(r,e,!this._isServer,u=>{u||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),Hb)}}pause(){this.readyState===n.CONNECTING||this.readyState===n.CLOSED||(this._paused=!0,this._socket.pause())}ping(r,e,u){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"?(u=r,r=e=void 0):typeof e=="function"&&(u=e,e=void 0),typeof r=="number"&&(r=r.toString()),this.readyState!==n.OPEN){jc(this,r,u);return}e===void 0&&(e=!this._isServer),this._sender.ping(r||Ki,e,u)}pong(r,e,u){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"?(u=r,r=e=void 0):typeof e=="function"&&(u=e,e=void 0),typeof r=="number"&&(r=r.toString()),this.readyState!==n.OPEN){jc(this,r,u);return}e===void 0&&(e=!this._isServer),this._sender.pong(r||Ki,e,u)}resume(){this.readyState===n.CONNECTING||this.readyState===n.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(r,e,u){if(this.readyState===n.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"&&(u=e,e={}),typeof r=="number"&&(r=r.toString()),this.readyState!==n.OPEN){jc(this,r,u);return}let f={binary:typeof r!="string",mask:!this._isServer,compress:!0,fin:!0,...e};this._extensions[rt.extensionName]||(f.compress=!1),this._sender.send(r||Ki,f,u)}terminate(){if(this.readyState!==n.CLOSED){if(this.readyState===n.CONNECTING){let r="WebSocket was closed before the connection was established";ir(this,this._req,r);return}this._socket&&(this._readyState=n.CLOSING,this._socket.destroy())}}};Object.defineProperty(Ie,"CONNECTING",{enumerable:!0,value:Fr.indexOf("CONNECTING")});Object.defineProperty(Ie.prototype,"CONNECTING",{enumerable:!0,value:Fr.indexOf("CONNECTING")});Object.defineProperty(Ie,"OPEN",{enumerable:!0,value:Fr.indexOf("OPEN")});Object.defineProperty(Ie.prototype,"OPEN",{enumerable:!0,value:Fr.indexOf("OPEN")});Object.defineProperty(Ie,"CLOSING",{enumerable:!0,value:Fr.indexOf("CLOSING")});Object.defineProperty(Ie.prototype,"CLOSING",{enumerable:!0,value:Fr.indexOf("CLOSING")});Object.defineProperty(Ie,"CLOSED",{enumerable:!0,value:Fr.indexOf("CLOSED")});Object.defineProperty(Ie.prototype,"CLOSED",{enumerable:!0,value:Fr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(n=>{Object.defineProperty(Ie.prototype,n,{enumerable:!0})});["open","error","close","message"].forEach(n=>{Object.defineProperty(Ie.prototype,`on${n}`,{enumerable:!0,get(){for(let r of this.listeners(n))if(r[Hc])return r[Ob];return null},set(r){for(let e of this.listeners(n))if(e[Hc]){this.removeListener(n,e);break}typeof r=="function"&&this.addEventListener(n,r,{[Hc]:!0})}})});Ie.prototype.addEventListener=Nb;Ie.prototype.removeEventListener=Lb;Q_.exports=Ie;function z_(n,r,e,u){let f={protocolVersion:qc[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...u,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!qc.includes(f.protocolVersion))throw new RangeError(`Unsupported protocol version: ${f.protocolVersion} (supported versions: ${qc.join(", ")})`);let d;if(r instanceof Uc)d=r,n._url=r.href;else{try{d=new Uc(r)}catch{throw new SyntaxError(`Invalid URL: ${r}`)}n._url=r}let g=d.protocol==="wss:",E=d.protocol==="ws+unix:",k;if(d.protocol!=="ws:"&&!g&&!E?k=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:E&&!d.pathname?k="The URL's pathname is empty":d.hash&&(k="The URL contains a fragment identifier"),k){let B=new SyntaxError(k);if(n._redirects===0)throw B;Yi(n,B);return}let A=g?443:80,S=Rb(16).toString("base64"),R=g?Db.request:Ab.request,T=new Set,te;if(f.createConnection=g?Wb:jb,f.defaultPort=f.defaultPort||A,f.port=d.port||A,f.host=d.hostname.startsWith("[")?d.hostname.slice(1,-1):d.hostname,f.headers={...f.headers,"Sec-WebSocket-Version":f.protocolVersion,"Sec-WebSocket-Key":S,Connection:"Upgrade",Upgrade:"websocket"},f.path=d.pathname+d.search,f.timeout=f.handshakeTimeout,f.perMessageDeflate&&(te=new rt(f.perMessageDeflate!==!0?f.perMessageDeflate:{},!1,f.maxPayload),f.headers["Sec-WebSocket-Extensions"]=Bb({[rt.extensionName]:te.offer()})),e.length){for(let B of e){if(typeof B!="string"||!qb.test(B)||T.has(B))throw new SyntaxError("An invalid or duplicated subprotocol was specified");T.add(B)}f.headers["Sec-WebSocket-Protocol"]=e.join(",")}if(f.origin&&(f.protocolVersion<13?f.headers["Sec-WebSocket-Origin"]=f.origin:f.headers.Origin=f.origin),(d.username||d.password)&&(f.auth=`${d.username}:${d.password}`),E){let B=f.path.split(":");f.socketPath=B[0],f.path=B[1]}let I;if(f.followRedirects){if(n._redirects===0){n._originalIpc=E,n._originalSecure=g,n._originalHostOrSocketPath=E?f.socketPath:d.host;let B=u&&u.headers;if(u={...u,headers:{}},B)for(let[Y,ie]of Object.entries(B))u.headers[Y.toLowerCase()]=ie}else if(n.listenerCount("redirect")===0){let B=E?n._originalIpc?f.socketPath===n._originalHostOrSocketPath:!1:n._originalIpc?!1:d.host===n._originalHostOrSocketPath;(!B||n._originalSecure&&!g)&&(delete f.headers.authorization,delete f.headers.cookie,B||delete f.headers.host,f.auth=void 0)}f.auth&&!u.headers.authorization&&(u.headers.authorization="Basic "+Buffer.from(f.auth).toString("base64")),I=n._req=R(f),n._redirects&&n.emit("redirect",n.url,I)}else I=n._req=R(f);f.timeout&&I.on("timeout",()=>{ir(n,I,"Opening handshake has timed out")}),I.on("error",B=>{I===null||I[G_]||(I=n._req=null,Yi(n,B))}),I.on("response",B=>{let Y=B.headers.location,ie=B.statusCode;if(Y&&f.followRedirects&&ie>=300&&ie<400){if(++n._redirects>f.maxRedirects){ir(n,I,"Maximum redirects exceeded");return}I.abort();let me;try{me=new Uc(Y,r)}catch{let ke=new SyntaxError(`Invalid URL: ${Y}`);Yi(n,ke);return}z_(n,me,e,u)}else n.emit("unexpected-response",I,B)||ir(n,I,`Unexpected server response: ${B.statusCode}`)}),I.on("upgrade",(B,Y,ie)=>{if(n.emit("upgrade",B),n.readyState!==Ie.CONNECTING)return;if(I=n._req=null,B.headers.upgrade.toLowerCase()!=="websocket"){ir(n,Y,"Invalid Upgrade header");return}let me=Pb("sha1").update(S+Fb).digest("base64");if(B.headers["sec-websocket-accept"]!==me){ir(n,Y,"Invalid Sec-WebSocket-Accept header");return}let de=B.headers["sec-websocket-protocol"],ke;if(de!==void 0?T.size?T.has(de)||(ke="Server sent an invalid subprotocol"):ke="Server sent a subprotocol but none was requested":T.size&&(ke="Server sent no subprotocol"),ke){ir(n,Y,ke);return}de&&(n._protocol=de);let L=B.headers["sec-websocket-extensions"];if(L!==void 0){if(!te){ir(n,Y,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let _e;try{_e=Ib(L)}catch{ir(n,Y,"Invalid Sec-WebSocket-Extensions header");return}let ue=Object.keys(_e);if(ue.length!==1||ue[0]!==rt.extensionName){ir(n,Y,"Server indicated an extension that was not requested");return}try{te.accept(_e[rt.extensionName])}catch{ir(n,Y,"Invalid Sec-WebSocket-Extensions header");return}n._extensions[rt.extensionName]=te}n.setSocket(Y,ie,{generateMask:f.generateMask,maxPayload:f.maxPayload,skipUTF8Validation:f.skipUTF8Validation})}),f.finishRequest?f.finishRequest(I,n):I.end()}function Yi(n,r){n._readyState=Ie.CLOSING,n.emit("error",r),n.emitClose()}function jb(n){return n.path=n.socketPath,W_.connect(n)}function Wb(n){return n.path=void 0,!n.servername&&n.servername!==""&&(n.servername=W_.isIP(n.host)?"":n.host),Tb.connect(n)}function ir(n,r,e){n._readyState=Ie.CLOSING;let u=new Error(e);Error.captureStackTrace(u,ir),r.setHeader?(r[G_]=!0,r.abort(),r.socket&&!r.socket.destroyed&&r.socket.destroy(),process.nextTick(Yi,n,u)):(r.destroy(u),r.once("error",n.emit.bind(n,"error")),r.once("close",n.emitClose.bind(n)))}function jc(n,r,e){if(r){let u=Ub(r).length;n._socket?n._sender._bufferedBytes+=u:n._bufferedAmount+=u}if(e){let u=new Error(`WebSocket is not open: readyState ${n.readyState} (${Fr[n.readyState]})`);process.nextTick(e,u)}}function $b(n,r){let e=this[Ke];e._closeFrameReceived=!0,e._closeMessage=r,e._closeCode=n,e._socket[Ke]!==void 0&&(e._socket.removeListener("data",Xi),process.nextTick(V_,e._socket),n===1005?e.close():e.close(n,r))}function Gb(){let n=this[Ke];n.isPaused||n._socket.resume()}function zb(n){let r=this[Ke];r._socket[Ke]!==void 0&&(r._socket.removeListener("data",Xi),process.nextTick(V_,r._socket),r.close(n[Mb])),r.emit("error",n)}function j_(){this[Ke].emitClose()}function Vb(n,r){this[Ke].emit("message",n,r)}function Kb(n){let r=this[Ke];r.pong(n,!r._isServer,$_),r.emit("ping",n)}function Yb(n){this[Ke].emit("pong",n)}function V_(n){n.resume()}function K_(){let n=this[Ke];this.removeListener("close",K_),this.removeListener("data",Xi),this.removeListener("end",Y_),n._readyState=Ie.CLOSING;let r;!this._readableState.endEmitted&&!n._closeFrameReceived&&!n._receiver._writableState.errorEmitted&&(r=n._socket.read())!==null&&n._receiver.write(r),n._receiver.end(),this[Ke]=void 0,clearTimeout(n._closeTimer),n._receiver._writableState.finished||n._receiver._writableState.errorEmitted?n.emitClose():(n._receiver.on("error",j_),n._receiver.on("finish",j_))}function Xi(n){this[Ke]._receiver.write(n)||this.pause()}function Y_(){let n=this[Ke];n._readyState=Ie.CLOSING,n._receiver.end(),this.end()}function X_(){let n=this[Ke];this.removeListener("error",X_),this.on("error",$_),n&&(n._readyState=Ie.CLOSING,this.destroy())}});var rh=q((m0,eh)=>{"use strict";var{Duplex:Xb}=require("stream");function J_(n){n.emit("close")}function Qb(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Z_(n){this.removeListener("error",Z_),this.destroy(),this.listenerCount("error")===0&&this.emit("error",n)}function Jb(n,r){let e=!0,u=new Xb({...r,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return n.on("message",function(d,g){let E=!g&&u._readableState.objectMode?d.toString():d;u.push(E)||n.pause()}),n.once("error",function(d){u.destroyed||(e=!1,u.destroy(d))}),n.once("close",function(){u.destroyed||u.push(null)}),u._destroy=function(f,d){if(n.readyState===n.CLOSED){d(f),process.nextTick(J_,u);return}let g=!1;n.once("error",function(k){g=!0,d(k)}),n.once("close",function(){g||d(f),process.nextTick(J_,u)}),e&&n.terminate()},u._final=function(f){if(n.readyState===n.CONNECTING){n.once("open",function(){u._final(f)});return}n._socket!==null&&(n._socket._writableState.finished?(f(),u._readableState.endEmitted&&u.destroy()):(n._socket.once("finish",function(){f()}),n.close()))},u._read=function(){n.isPaused&&n.resume()},u._write=function(f,d,g){if(n.readyState===n.CONNECTING){n.once("open",function(){u._write(f,d,g)});return}n.send(f,g)},u.on("end",Qb),u.on("error",Z_),u}eh.exports=Jb});var nh=q((g0,th)=>{"use strict";var{tokenChars:Zb}=Pn();function ev(n){let r=new Set,e=-1,u=-1,f=0;for(f;f<n.length;f++){let g=n.charCodeAt(f);if(u===-1&&Zb[g]===1)e===-1&&(e=f);else if(f!==0&&(g===32||g===9))u===-1&&e!==-1&&(u=f);else if(g===44){if(e===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);let E=n.slice(e,u);if(r.has(E))throw new SyntaxError(`The "${E}" subprotocol is duplicated`);r.add(E),e=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`)}if(e===-1||u!==-1)throw new SyntaxError("Unexpected end of input");let d=n.slice(e,f);if(r.has(d))throw new SyntaxError(`The "${d}" subprotocol is duplicated`);return r.add(d),r}th.exports={parse:ev}});var lh=q((w0,ch)=>{"use strict";var rv=require("events"),Qi=require("http"),y0=require("https"),b0=require("net"),v0=require("tls"),{createHash:tv}=require("crypto"),ih=Ic(),wt=Rn(),nv=nh(),iv=Wc(),{GUID:ov,kWebSocket:sv}=Zr(),av=/^[+/0-9A-Za-z]{22}==$/,oh=0,sh=1,uh=2,$c=class extends rv{constructor(r,e){if(super(),r={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:iv,...r},r.port==null&&!r.server&&!r.noServer||r.port!=null&&(r.server||r.noServer)||r.server&&r.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(r.port!=null?(this._server=Qi.createServer((u,f)=>{let d=Qi.STATUS_CODES[426];f.writeHead(426,{"Content-Length":d.length,"Content-Type":"text/plain"}),f.end(d)}),this._server.listen(r.port,r.host,r.backlog,e)):r.server&&(this._server=r.server),this._server){let u=this.emit.bind(this,"connection");this._removeListeners=uv(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(f,d,g)=>{this.handleUpgrade(f,d,g,u)}})}r.perMessageDeflate===!0&&(r.perMessageDeflate={}),r.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=r,this._state=oh}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(r){if(this._state===uh){r&&this.once("close",()=>{r(new Error("The server is not running"))}),process.nextTick(Mn,this);return}if(r&&this.once("close",r),this._state!==sh)if(this._state=sh,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Mn,this):process.nextTick(Mn,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{Mn(this)})}}shouldHandle(r){if(this.options.path){let e=r.url.indexOf("?");if((e!==-1?r.url.slice(0,e):r.url)!==this.options.path)return!1}return!0}handleUpgrade(r,e,u,f){e.on("error",ah);let d=r.headers["sec-websocket-key"],g=+r.headers["sec-websocket-version"];if(r.method!=="GET"){Et(this,r,e,405,"Invalid HTTP method");return}if(r.headers.upgrade.toLowerCase()!=="websocket"){Et(this,r,e,400,"Invalid Upgrade header");return}if(!d||!av.test(d)){Et(this,r,e,400,"Missing or invalid Sec-WebSocket-Key header");return}if(g!==8&&g!==13){Et(this,r,e,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(r)){Nn(e,400);return}let E=r.headers["sec-websocket-protocol"],k=new Set;if(E!==void 0)try{k=nv.parse(E)}catch{Et(this,r,e,400,"Invalid Sec-WebSocket-Protocol header");return}let A=r.headers["sec-websocket-extensions"],S={};if(this.options.perMessageDeflate&&A!==void 0){let R=new wt(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let T=ih.parse(A);T[wt.extensionName]&&(R.accept(T[wt.extensionName]),S[wt.extensionName]=R)}catch{Et(this,r,e,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let R={origin:r.headers[`${g===8?"sec-websocket-origin":"origin"}`],secure:!!(r.socket.authorized||r.socket.encrypted),req:r};if(this.options.verifyClient.length===2){this.options.verifyClient(R,(T,te,I,B)=>{if(!T)return Nn(e,te||401,I,B);this.completeUpgrade(S,d,k,r,e,u,f)});return}if(!this.options.verifyClient(R))return Nn(e,401)}this.completeUpgrade(S,d,k,r,e,u,f)}completeUpgrade(r,e,u,f,d,g,E){if(!d.readable||!d.writable)return d.destroy();if(d[sv])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>oh)return Nn(d,503);let A=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${tv("sha1").update(e+ov).digest("base64")}`],S=new this.options.WebSocket(null);if(u.size){let R=this.options.handleProtocols?this.options.handleProtocols(u,f):u.values().next().value;R&&(A.push(`Sec-WebSocket-Protocol: ${R}`),S._protocol=R)}if(r[wt.extensionName]){let R=r[wt.extensionName].params,T=ih.format({[wt.extensionName]:[R]});A.push(`Sec-WebSocket-Extensions: ${T}`),S._extensions=r}this.emit("headers",A,f),d.write(A.concat(`\r
`).join(`\r
`)),d.removeListener("error",ah),S.setSocket(d,g,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(S),S.on("close",()=>{this.clients.delete(S),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Mn,this)})),E(S,f)}};ch.exports=$c;function uv(n,r){for(let e of Object.keys(r))n.on(e,r[e]);return function(){for(let u of Object.keys(r))n.removeListener(u,r[u])}}function Mn(n){n._state=uh,n.emit("close")}function ah(){this.destroy()}function Nn(n,r,e,u){e=e||Qi.STATUS_CODES[r],u={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(e),...u},n.once("finish",n.destroy),n.end(`HTTP/1.1 ${r} ${Qi.STATUS_CODES[r]}\r
`+Object.keys(u).map(f=>`${f}: ${u[f]}`).join(`\r
`)+`\r
\r
`+e)}function Et(n,r,e,u,f){if(n.listenerCount("wsClientError")){let d=new Error(f);Error.captureStackTrace(d,Et),n.emit("wsClientError",d,e,r)}else Nn(e,u,f)}});var Ln=q((E0,fh)=>{"use strict";var Or=Wc();Or.createWebSocketStream=rh();Or.Server=lh();Or.Receiver=Mc();Or.Sender=Lc();Or.WebSocket=Or;Or.WebSocketServer=Or.Server;fh.exports=Or});var Vc=q((Ji,zc)=>{"use strict";var Gc=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){var e=typeof r<"u"?r:{},u,f;e.ready=new Promise((t,i)=>{u=t,f=i});var d=Object.assign({},e),g=[],E="./this.program",k=(t,i)=>{throw i},A=typeof window=="object",S=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T="";function te(t){return e.locateFile?e.locateFile(t,T):T+t}var I,B,Y,ie;if(R){var me=require("fs"),de=require("path");S?T=de.dirname(T)+"/":T=__dirname+"/",I=(t,i)=>(t=Qt(t)?new URL(t):de.normalize(t),me.readFileSync(t,i?void 0:"utf8")),Y=t=>{var i=I(t,!0);return i.buffer||(i=new Uint8Array(i)),i},B=(t,i,s,c=!0)=>{t=Qt(t)?new URL(t):de.normalize(t),me.readFile(t,c?void 0:"utf8",(h,y)=>{h?s(h):i(c?y.buffer:y)})},!e.thisProgram&&process.argv.length>1&&(E=process.argv[1].replace(/\\/g,"/")),g=process.argv.slice(2),k=(t,i)=>{throw process.exitCode=t,i},e.inspect=()=>"[Emscripten Module object]"}else(A||S)&&(S?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),n&&(T=n),T.indexOf("blob:")!==0?T=T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):T="",I=t=>{var i=new XMLHttpRequest;return i.open("GET",t,!1),i.send(null),i.responseText},S&&(Y=t=>{var i=new XMLHttpRequest;return i.open("GET",t,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),B=(t,i,s)=>{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="arraybuffer",c.onload=()=>{if(c.status==200||c.status==0&&c.response){i(c.response);return}s()},c.onerror=s,c.send(null)},ie=t=>document.title=t);var ke=e.print||console.log.bind(console),L=e.printErr||console.error.bind(console);Object.assign(e,d),d=null,e.arguments&&(g=e.arguments),e.thisProgram&&(E=e.thisProgram),e.quit&&(k=e.quit);var _e;e.wasmBinary&&(_e=e.wasmBinary);var ue=e.noExitRuntime||!0;typeof WebAssembly!="object"&&Q("no native wasm support detected");var J,V=!1,ge;function O(t,i){t||Q(i)}var X,re,he,C,v,$,Ee,Xe;function Ge(){var t=J.buffer;e.HEAP8=X=new Int8Array(t),e.HEAP16=he=new Int16Array(t),e.HEAP32=v=new Int32Array(t),e.HEAPU8=re=new Uint8Array(t),e.HEAPU16=C=new Uint16Array(t),e.HEAPU32=$=new Uint32Array(t),e.HEAPF32=Ee=new Float32Array(t),e.HEAPF64=Xe=new Float64Array(t)}var We,gr=[],tt=[],Mr=[],Ze=[],ye=!1,Nr=0;function Yt(){return ue||Nr>0}function K(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)xe(e.preRun.shift());Dr(gr)}function Te(){ye=!0,!e.noFSInit&&!p.init.initialized&&p.init(),p.ignorePermissions=!1,oe.init(),Re.root=p.mount(Re,{},null),Dr(tt)}function G(){Dr(Mr)}function pe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Le(e.postRun.shift());Dr(Ze)}function xe(t){gr.unshift(t)}function He(t){tt.unshift(t)}function Le(t){Ze.unshift(t)}var qe=0,or=null,fr=null;function gh(t){return t}function nt(t){qe++,e.monitorRunDependencies&&e.monitorRunDependencies(qe)}function kr(t){if(qe--,e.monitorRunDependencies&&e.monitorRunDependencies(qe),qe==0&&(or!==null&&(clearInterval(or),or=null),fr)){var i=fr;fr=null,i()}}function Q(t){e.onAbort&&e.onAbort(t),t="Aborted("+t+")",L(t),V=!0,ge=1,t+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(t);throw f(i),i}var to="data:application/octet-stream;base64,";function Xt(t){return t.startsWith(to)}function Qt(t){return t.startsWith("file://")}var er;er="./duckdb-mvp.wasm",Xt(er)||(er=te(er));function Jt(t){try{if(t==er&&_e)return new Uint8Array(_e);if(Y)return Y(t);throw"both async and sync fetching of the wasm failed"}catch(i){Q(i)}}function no(t){return!_e&&(A||S)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at '"+t+"'";return i.arrayBuffer()}).catch(()=>Jt(t)):Promise.resolve().then(()=>Jt(t))}function Zt(t,i,s){return no(t).then(c=>WebAssembly.instantiate(c,i)).then(c=>c).then(s,c=>{L("failed to asynchronously prepare wasm: "+c),Q(c)})}function io(t,i,s,c){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!Xt(i)&&!R&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(h=>{var y=WebAssembly.instantiateStreaming(h,s);return y.then(c,function(b){return L("wasm streaming compile failed: "+b),L("falling back to ArrayBuffer instantiation"),Zt(i,s,c)})}):Zt(i,s,c)}function oo(){var t={a:qs};function i(c,h){var y=c.exports;return e.asm=y,J=e.asm.Ga,Ge(),We=e.asm.Ja,He(e.asm.Ha),kr("wasm-instantiate"),y}nt("wasm-instantiate");function s(c){i(c.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(t,i)}catch(c){L("Module.instantiateWasm callback failed with error: "+c),f(c)}return io(_e,er,t,s).catch(f),{}}var N,ee;function en(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}function Dr(t){for(;t.length>0;)t.shift()(e)}function so(){L("missing function: XML_GetBuffer"),Q(-1)}function ao(){L("missing function: XML_GetErrorCode"),Q(-1)}function uo(){L("missing function: XML_Parse"),Q(-1)}function co(){L("missing function: XML_ParseBuffer"),Q(-1)}function lo(){L("missing function: XML_ParserCreate"),Q(-1)}function fo(){L("missing function: XML_ParserFree"),Q(-1)}function _o(){L("missing function: XML_ResumeParser"),Q(-1)}function ho(){L("missing function: XML_SetCharacterDataHandler"),Q(-1)}function po(){L("missing function: XML_SetElementHandler"),Q(-1)}function mo(){L("missing function: XML_SetUserData"),Q(-1)}function go(){L("missing function: XML_StopParser"),Q(-1)}function Bn(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(i){$[this.ptr+4>>>2]=i},this.get_type=function(){return $[this.ptr+4>>>2]},this.set_destructor=function(i){$[this.ptr+8>>>2]=i},this.get_destructor=function(){return $[this.ptr+8>>>2]},this.set_caught=function(i){i=i?1:0,X[this.ptr+12>>>0]=i},this.get_caught=function(){return X[this.ptr+12>>>0]!=0},this.set_rethrown=function(i){i=i?1:0,X[this.ptr+13>>>0]=i},this.get_rethrown=function(){return X[this.ptr+13>>>0]!=0},this.init=function(i,s){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(s)},this.set_adjusted_ptr=function(i){$[this.ptr+16>>>2]=i},this.get_adjusted_ptr=function(){return $[this.ptr+16>>>2]},this.get_exception_ptr=function(){var i=hn(this.get_type());if(i)return $[this.excPtr>>>2];var s=this.get_adjusted_ptr();return s!==0?s:this.excPtr}}var In=0,De=0;function yo(t,i,s){var c=new Bn(t);throw c.init(i,s),In=t,De++,In}var St="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function dr(t,i,s){Q(St)}var Se={isAbs:t=>t.charAt(0)==="/",splitPath:t=>{var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return i.exec(t).slice(1)},normalizeArray:(t,i)=>{for(var s=0,c=t.length-1;c>=0;c--){var h=t[c];h==="."?t.splice(c,1):h===".."?(t.splice(c,1),s++):s&&(t.splice(c,1),s--)}if(i)for(;s;s--)t.unshift("..");return t},normalize:t=>{var i=Se.isAbs(t),s=t.substr(-1)==="/";return t=Se.normalizeArray(t.split("/").filter(c=>!!c),!i).join("/"),!t&&!i&&(t="."),t&&s&&(t+="/"),(i?"/":"")+t},dirname:t=>{var i=Se.splitPath(t),s=i[0],c=i[1];return!s&&!c?".":(c&&(c=c.substr(0,c.length-1)),s+c)},basename:t=>{if(t==="/")return"/";t=Se.normalize(t),t=t.replace(/\/$/,"");var i=t.lastIndexOf("/");return i===-1?t:t.substr(i+1)},join:function(){var t=Array.prototype.slice.call(arguments);return Se.normalize(t.join("/"))},join2:(t,i)=>Se.normalize(t+"/"+i)};function rn(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return c=>crypto.getRandomValues(c);if(R)try{var t=require("crypto"),i=t.randomFillSync;if(i)return c=>t.randomFillSync(c);var s=t.randomBytes;return c=>(c.set(s(c.byteLength)),c)}catch{}Q("initRandomDevice")}function Lr(t){return(Lr=rn())(t)}var sr={resolve:function(){for(var t="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var c=s>=0?arguments[s]:p.cwd();if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";t=c+"/"+t,i=Se.isAbs(c)}return t=Se.normalizeArray(t.split("/").filter(h=>!!h),!i).join("/"),(i?"/":"")+t||"."},relative:(t,i)=>{t=sr.resolve(t).substr(1),i=sr.resolve(i).substr(1);function s(x){for(var F=0;F<x.length&&x[F]==="";F++);for(var z=x.length-1;z>=0&&x[z]==="";z--);return F>z?[]:x.slice(F,z-F+1)}for(var c=s(t.split("/")),h=s(i.split("/")),y=Math.min(c.length,h.length),b=y,w=0;w<y;w++)if(c[w]!==h[w]){b=w;break}for(var D=[],w=b;w<c.length;w++)D.push("..");return D=D.concat(h.slice(b)),D.join("/")}};function _r(t){for(var i=0,s=0;s<t.length;++s){var c=t.charCodeAt(s);c<=127?i++:c<=2047?i+=2:c>=55296&&c<=57343?(i+=4,++s):i+=3}return i}function ar(t,i,s,c){if(s>>>=0,!(c>0))return 0;for(var h=s,y=s+c-1,b=0;b<t.length;++b){var w=t.charCodeAt(b);if(w>=55296&&w<=57343){var D=t.charCodeAt(++b);w=65536+((w&1023)<<10)|D&1023}if(w<=127){if(s>=y)break;i[s++>>>0]=w}else if(w<=2047){if(s+1>=y)break;i[s++>>>0]=192|w>>6,i[s++>>>0]=128|w&63}else if(w<=65535){if(s+2>=y)break;i[s++>>>0]=224|w>>12,i[s++>>>0]=128|w>>6&63,i[s++>>>0]=128|w&63}else{if(s+3>=y)break;i[s++>>>0]=240|w>>18,i[s++>>>0]=128|w>>12&63,i[s++>>>0]=128|w>>6&63,i[s++>>>0]=128|w&63}}return i[s>>>0]=0,s-h}function Br(t,i,s){var c=s>0?s:_r(t)+1,h=new Array(c),y=ar(t,h,0,h.length);return i&&(h.length=y),h}var Un=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ar(t,i,s){i>>>=0;for(var c=i+s,h=i;t[h]&&!(h>=c);)++h;if(h-i>16&&t.buffer&&Un)return Un.decode(t.subarray(i,h));for(var y="";i<h;){var b=t[i++];if(!(b&128)){y+=String.fromCharCode(b);continue}var w=t[i++]&63;if((b&224)==192){y+=String.fromCharCode((b&31)<<6|w);continue}var D=t[i++]&63;if((b&240)==224?b=(b&15)<<12|w<<6|D:b=(b&7)<<18|w<<12|D<<6|t[i++]&63,b<65536)y+=String.fromCharCode(b);else{var x=b-65536;y+=String.fromCharCode(55296|x>>10,56320|x&1023)}}return y}var oe={ttys:[],init:function(){},shutdown:function(){},register:function(t,i){oe.ttys[t]={input:[],output:[],ops:i},p.registerDevice(t,oe.stream_ops)},stream_ops:{open:function(t){var i=oe.ttys[t.node.rdev];if(!i)throw new p.ErrnoError(43);t.tty=i,t.seekable=!1},close:function(t){t.tty.ops.fsync(t.tty)},fsync:function(t){t.tty.ops.fsync(t.tty)},read:function(t,i,s,c,h){if(!t.tty||!t.tty.ops.get_char)throw new p.ErrnoError(60);for(var y=0,b=0;b<c;b++){var w;try{w=t.tty.ops.get_char(t.tty)}catch{throw new p.ErrnoError(29)}if(w===void 0&&y===0)throw new p.ErrnoError(6);if(w==null)break;y++,i[s+b]=w}return y&&(t.node.timestamp=Date.now()),y},write:function(t,i,s,c,h){if(!t.tty||!t.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var y=0;y<c;y++)t.tty.ops.put_char(t.tty,i[s+y])}catch{throw new p.ErrnoError(29)}return c&&(t.node.timestamp=Date.now()),y}},default_tty_ops:{get_char:function(t){if(!t.input.length){var i=null;if(R){var s=256,c=Buffer.alloc(s),h=0;try{h=me.readSync(process.stdin.fd,c,0,s,-1)}catch(y){if(y.toString().includes("EOF"))h=0;else throw y}h>0?i=c.slice(0,h).toString("utf-8"):i=null}else typeof window<"u"&&typeof window.prompt=="function"?(i=window.prompt("Input: "),i!==null&&(i+=`
`)):typeof readline=="function"&&(i=readline(),i!==null&&(i+=`
`));if(!i)return null;t.input=Br(i,!0)}return t.input.shift()},put_char:function(t,i){i===null||i===10?(ke(Ar(t.output,0)),t.output=[]):i!=0&&t.output.push(i)},fsync:function(t){t.output&&t.output.length>0&&(ke(Ar(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,i){i===null||i===10?(L(Ar(t.output,0)),t.output=[]):i!=0&&t.output.push(i)},fsync:function(t){t.output&&t.output.length>0&&(L(Ar(t.output,0)),t.output=[])}}};function tn(t,i){return re.fill(0,t,t+i),t}function bo(t,i){return Math.ceil(t/i)*i}function Hn(t){t=bo(t,65536);var i=_t(65536,t);return i?tn(i,t):0}var fe={ops_table:null,mount:function(t){return fe.createNode(null,"/",16895,0)},createNode:function(t,i,s,c){if(p.isBlkdev(s)||p.isFIFO(s))throw new p.ErrnoError(63);fe.ops_table||(fe.ops_table={dir:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr,lookup:fe.node_ops.lookup,mknod:fe.node_ops.mknod,rename:fe.node_ops.rename,unlink:fe.node_ops.unlink,rmdir:fe.node_ops.rmdir,readdir:fe.node_ops.readdir,symlink:fe.node_ops.symlink},stream:{llseek:fe.stream_ops.llseek}},file:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr},stream:{llseek:fe.stream_ops.llseek,read:fe.stream_ops.read,write:fe.stream_ops.write,allocate:fe.stream_ops.allocate,mmap:fe.stream_ops.mmap,msync:fe.stream_ops.msync}},link:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr,readlink:fe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:fe.node_ops.getattr,setattr:fe.node_ops.setattr},stream:p.chrdev_stream_ops}});var h=p.createNode(t,i,s,c);return p.isDir(h.mode)?(h.node_ops=fe.ops_table.dir.node,h.stream_ops=fe.ops_table.dir.stream,h.contents={}):p.isFile(h.mode)?(h.node_ops=fe.ops_table.file.node,h.stream_ops=fe.ops_table.file.stream,h.usedBytes=0,h.contents=null):p.isLink(h.mode)?(h.node_ops=fe.ops_table.link.node,h.stream_ops=fe.ops_table.link.stream):p.isChrdev(h.mode)&&(h.node_ops=fe.ops_table.chrdev.node,h.stream_ops=fe.ops_table.chrdev.stream),h.timestamp=Date.now(),t&&(t.contents[i]=h,t.timestamp=h.timestamp),h},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0)},expandFileStorage:function(t,i){i>>>=0;var s=t.contents?t.contents.length:0;if(!(s>=i)){var c=1024*1024;i=Math.max(i,s*(s<c?2:1.125)>>>0),s!=0&&(i=Math.max(i,256));var h=t.contents;t.contents=new Uint8Array(i),t.usedBytes>0&&t.contents.set(h.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,i){if(i>>>=0,t.usedBytes!=i)if(i==0)t.contents=null,t.usedBytes=0;else{var s=t.contents;t.contents=new Uint8Array(i),s&&t.contents.set(s.subarray(0,Math.min(i,t.usedBytes))),t.usedBytes=i}},node_ops:{getattr:function(t){var i={};return i.dev=p.isChrdev(t.mode)?t.id:1,i.ino=t.id,i.mode=t.mode,i.nlink=1,i.uid=0,i.gid=0,i.rdev=t.rdev,p.isDir(t.mode)?i.size=4096:p.isFile(t.mode)?i.size=t.usedBytes:p.isLink(t.mode)?i.size=t.link.length:i.size=0,i.atime=new Date(t.timestamp),i.mtime=new Date(t.timestamp),i.ctime=new Date(t.timestamp),i.blksize=4096,i.blocks=Math.ceil(i.size/i.blksize),i},setattr:function(t,i){i.mode!==void 0&&(t.mode=i.mode),i.timestamp!==void 0&&(t.timestamp=i.timestamp),i.size!==void 0&&fe.resizeFileStorage(t,i.size)},lookup:function(t,i){throw p.genericErrors[44]},mknod:function(t,i,s,c){return fe.createNode(t,i,s,c)},rename:function(t,i,s){if(p.isDir(t.mode)){var c;try{c=p.lookupNode(i,s)}catch{}if(c)for(var h in c.contents)throw new p.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=s,i.contents[s]=t,i.timestamp=t.parent.timestamp,t.parent=i},unlink:function(t,i){delete t.contents[i],t.timestamp=Date.now()},rmdir:function(t,i){var s=p.lookupNode(t,i);for(var c in s.contents)throw new p.ErrnoError(55);delete t.contents[i],t.timestamp=Date.now()},readdir:function(t){var i=[".",".."];for(var s in t.contents)t.contents.hasOwnProperty(s)&&i.push(s);return i},symlink:function(t,i,s){var c=fe.createNode(t,i,41471,0);return c.link=s,c},readlink:function(t){if(!p.isLink(t.mode))throw new p.ErrnoError(28);return t.link}},stream_ops:{read:function(t,i,s,c,h){var y=t.node.contents;if(h>=t.node.usedBytes)return 0;var b=Math.min(t.node.usedBytes-h,c);if(b>8&&y.subarray)i.set(y.subarray(h,h+b),s);else for(var w=0;w<b;w++)i[s+w]=y[h+w];return b},write:function(t,i,s,c,h,y){if(i.buffer===X.buffer&&(y=!1),!c)return 0;var b=t.node;if(b.timestamp=Date.now(),i.subarray&&(!b.contents||b.contents.subarray)){if(y)return b.contents=i.subarray(s,s+c),b.usedBytes=c,c;if(b.usedBytes===0&&h===0)return b.contents=i.slice(s,s+c),b.usedBytes=c,c;if(h+c<=b.usedBytes)return b.contents.set(i.subarray(s,s+c),h),c}if(fe.expandFileStorage(b,h+c),b.contents.subarray&&i.subarray)b.contents.set(i.subarray(s,s+c),h);else for(var w=0;w<c;w++)b.contents[h+w]=i[s+w];return b.usedBytes=Math.max(b.usedBytes,h+c),c},llseek:function(t,i,s){var c=i;if(s===1?c+=t.position:s===2&&p.isFile(t.node.mode)&&(c+=t.node.usedBytes),c<0)throw new p.ErrnoError(28);return c},allocate:function(t,i,s){fe.expandFileStorage(t.node,i+s),t.node.usedBytes=Math.max(t.node.usedBytes,i+s)},mmap:function(t,i,s,c,h){if(!p.isFile(t.node.mode))throw new p.ErrnoError(43);var y,b,w=t.node.contents;if(!(h&2)&&w.buffer===X.buffer)b=!1,y=w.byteOffset;else{if((s>0||s+i<w.length)&&(w.subarray?w=w.subarray(s,s+i):w=Array.prototype.slice.call(w,s,s+i)),b=!0,y=Hn(i),!y)throw new p.ErrnoError(48);y>>>=0,X.set(w,y>>>0)}return{ptr:y,allocated:b}},msync:function(t,i,s,c,h){return fe.stream_ops.write(t,i,0,c,s,!1),0}}};function vo(t,i,s,c){var h=c?"":`al ${t}`;B(t,y=>{O(y,`Loading data file "${t}" failed (no arrayBuffer).`),i(new Uint8Array(y)),h&&kr(h)},y=>{if(s)s();else throw`Loading data file "${t}" failed.`}),h&&nt(h)}var nn=e.preloadPlugins||[];function m(t,i,s,c){typeof Browser<"u"&&Browser.init();var h=!1;return nn.forEach(function(y){h||y.canHandle(i)&&(y.handle(t,i,s,c),h=!0)}),h}function Ir(t,i,s,c,h,y,b,w,D,x){var F=i?sr.resolve(Se.join2(t,i)):t,z=`cp ${F}`;function H(j){function P(U){x&&x(),w||p.createDataFile(t,i,U,c,h,D),y&&y(),kr(z)}m(j,F,P,()=>{b&&b(),kr(z)})||P(j)}nt(z),typeof s=="string"?vo(s,j=>H(j),b):H(s)}function se(t){var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},s=i[t];if(typeof s>"u")throw new Error(`Unknown file open mode: ${t}`);return s}function on(t,i){var s=0;return t&&(s|=365),i&&(s|=146),s}var p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(t,i={})=>{if(t=sr.resolve(t),!t)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};if(i=Object.assign(s,i),i.recurse_count>8)throw new p.ErrnoError(32);for(var c=t.split("/").filter(z=>!!z),h=p.root,y="/",b=0;b<c.length;b++){var w=b===c.length-1;if(w&&i.parent)break;if(h=p.lookupNode(h,c[b]),y=Se.join2(y,c[b]),p.isMountpoint(h)&&(!w||w&&i.follow_mount)&&(h=h.mounted.root),!w||i.follow)for(var D=0;p.isLink(h.mode);){var x=p.readlink(y);y=sr.resolve(Se.dirname(y),x);var F=p.lookupPath(y,{recurse_count:i.recurse_count+1});if(h=F.node,D++>40)throw new p.ErrnoError(32)}}return{path:y,node:h}},getPath:t=>{for(var i;;){if(p.isRoot(t)){var s=t.mount.mountpoint;return i?s[s.length-1]!=="/"?`${s}/${i}`:s+i:s}i=i?`${t.name}/${i}`:t.name,t=t.parent}},hashName:(t,i)=>{for(var s=0,c=0;c<i.length;c++)s=(s<<5)-s+i.charCodeAt(c)|0;return(t+s>>>0)%p.nameTable.length},hashAddNode:t=>{var i=p.hashName(t.parent.id,t.name);t.name_next=p.nameTable[i],p.nameTable[i]=t},hashRemoveNode:t=>{var i=p.hashName(t.parent.id,t.name);if(p.nameTable[i]===t)p.nameTable[i]=t.name_next;else for(var s=p.nameTable[i];s;){if(s.name_next===t){s.name_next=t.name_next;break}s=s.name_next}},lookupNode:(t,i)=>{var s=p.mayLookup(t);if(s)throw new p.ErrnoError(s,t);for(var c=p.hashName(t.id,i),h=p.nameTable[c];h;h=h.name_next){var y=h.name;if(h.parent.id===t.id&&y===i)return h}return p.lookup(t,i)},createNode:(t,i,s,c)=>{var h=new p.FSNode(t,i,s,c);return p.hashAddNode(h),h},destroyNode:t=>{p.hashRemoveNode(t)},isRoot:t=>t===t.parent,isMountpoint:t=>!!t.mounted,isFile:t=>(t&61440)===32768,isDir:t=>(t&61440)===16384,isLink:t=>(t&61440)===40960,isChrdev:t=>(t&61440)===8192,isBlkdev:t=>(t&61440)===24576,isFIFO:t=>(t&61440)===4096,isSocket:t=>(t&49152)===49152,flagsToPermissionString:t=>{var i=["r","w","rw"][t&3];return t&512&&(i+="w"),i},nodePermissions:(t,i)=>p.ignorePermissions?0:i.includes("r")&&!(t.mode&292)||i.includes("w")&&!(t.mode&146)||i.includes("x")&&!(t.mode&73)?2:0,mayLookup:t=>{var i=p.nodePermissions(t,"x");return i||(t.node_ops.lookup?0:2)},mayCreate:(t,i)=>{try{var s=p.lookupNode(t,i);return 20}catch{}return p.nodePermissions(t,"wx")},mayDelete:(t,i,s)=>{var c;try{c=p.lookupNode(t,i)}catch(y){return y.errno}var h=p.nodePermissions(t,"wx");if(h)return h;if(s){if(!p.isDir(c.mode))return 54;if(p.isRoot(c)||p.getPath(c)===p.cwd())return 10}else if(p.isDir(c.mode))return 31;return 0},mayOpen:(t,i)=>t?p.isLink(t.mode)?32:p.isDir(t.mode)&&(p.flagsToPermissionString(i)!=="r"||i&512)?31:p.nodePermissions(t,p.flagsToPermissionString(i)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var t=0;t<=p.MAX_OPEN_FDS;t++)if(!p.streams[t])return t;throw new p.ErrnoError(33)},getStream:t=>p.streams[t],createStream:(t,i=-1)=>(p.FSStream||(p.FSStream=function(){this.shared={}},p.FSStream.prototype={},Object.defineProperties(p.FSStream.prototype,{object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(s){this.shared.flags=s}},position:{get:function(){return this.shared.position},set:function(s){this.shared.position=s}}})),t=Object.assign(new p.FSStream,t),i==-1&&(i=p.nextfd()),t.fd=i,p.streams[i]=t,t),closeStream:t=>{p.streams[t]=null},chrdev_stream_ops:{open:t=>{var i=p.getDevice(t.node.rdev);t.stream_ops=i.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:()=>{throw new p.ErrnoError(70)}},major:t=>t>>8,minor:t=>t&255,makedev:(t,i)=>t<<8|i,registerDevice:(t,i)=>{p.devices[t]={stream_ops:i}},getDevice:t=>p.devices[t],getMounts:t=>{for(var i=[],s=[t];s.length;){var c=s.pop();i.push(c),s.push.apply(s,c.mounts)}return i},syncfs:(t,i)=>{typeof t=="function"&&(i=t,t=!1),p.syncFSRequests++,p.syncFSRequests>1&&L(`warning: ${p.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var s=p.getMounts(p.root.mount),c=0;function h(b){return p.syncFSRequests--,i(b)}function y(b){if(b)return y.errored?void 0:(y.errored=!0,h(b));++c>=s.length&&h(null)}s.forEach(b=>{if(!b.type.syncfs)return y(null);b.type.syncfs(b,t,y)})},mount:(t,i,s)=>{var c=s==="/",h=!s,y;if(c&&p.root)throw new p.ErrnoError(10);if(!c&&!h){var b=p.lookupPath(s,{follow_mount:!1});if(s=b.path,y=b.node,p.isMountpoint(y))throw new p.ErrnoError(10);if(!p.isDir(y.mode))throw new p.ErrnoError(54)}var w={type:t,opts:i,mountpoint:s,mounts:[]},D=t.mount(w);return D.mount=w,w.root=D,c?p.root=D:y&&(y.mounted=w,y.mount&&y.mount.mounts.push(w)),D},unmount:t=>{var i=p.lookupPath(t,{follow_mount:!1});if(!p.isMountpoint(i.node))throw new p.ErrnoError(28);var s=i.node,c=s.mounted,h=p.getMounts(c);Object.keys(p.nameTable).forEach(b=>{for(var w=p.nameTable[b];w;){var D=w.name_next;h.includes(w.mount)&&p.destroyNode(w),w=D}}),s.mounted=null;var y=s.mount.mounts.indexOf(c);s.mount.mounts.splice(y,1)},lookup:(t,i)=>t.node_ops.lookup(t,i),mknod:(t,i,s)=>{var c=p.lookupPath(t,{parent:!0}),h=c.node,y=Se.basename(t);if(!y||y==="."||y==="..")throw new p.ErrnoError(28);var b=p.mayCreate(h,y);if(b)throw new p.ErrnoError(b);if(!h.node_ops.mknod)throw new p.ErrnoError(63);return h.node_ops.mknod(h,y,i,s)},create:(t,i)=>(i=i!==void 0?i:438,i&=4095,i|=32768,p.mknod(t,i,0)),mkdir:(t,i)=>(i=i!==void 0?i:511,i&=1023,i|=16384,p.mknod(t,i,0)),mkdirTree:(t,i)=>{for(var s=t.split("/"),c="",h=0;h<s.length;++h)if(s[h]){c+="/"+s[h];try{p.mkdir(c,i)}catch(y){if(y.errno!=20)throw y}}},mkdev:(t,i,s)=>(typeof s>"u"&&(s=i,i=438),i|=8192,p.mknod(t,i,s)),symlink:(t,i)=>{if(!sr.resolve(t))throw new p.ErrnoError(44);var s=p.lookupPath(i,{parent:!0}),c=s.node;if(!c)throw new p.ErrnoError(44);var h=Se.basename(i),y=p.mayCreate(c,h);if(y)throw new p.ErrnoError(y);if(!c.node_ops.symlink)throw new p.ErrnoError(63);return c.node_ops.symlink(c,h,t)},rename:(t,i)=>{var s=Se.dirname(t),c=Se.dirname(i),h=Se.basename(t),y=Se.basename(i),b,w,D;if(b=p.lookupPath(t,{parent:!0}),w=b.node,b=p.lookupPath(i,{parent:!0}),D=b.node,!w||!D)throw new p.ErrnoError(44);if(w.mount!==D.mount)throw new p.ErrnoError(75);var x=p.lookupNode(w,h),F=sr.relative(t,c);if(F.charAt(0)!==".")throw new p.ErrnoError(28);if(F=sr.relative(i,s),F.charAt(0)!==".")throw new p.ErrnoError(55);var z;try{z=p.lookupNode(D,y)}catch{}if(x!==z){var H=p.isDir(x.mode),j=p.mayDelete(w,h,H);if(j)throw new p.ErrnoError(j);if(j=z?p.mayDelete(D,y,H):p.mayCreate(D,y),j)throw new p.ErrnoError(j);if(!w.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(x)||z&&p.isMountpoint(z))throw new p.ErrnoError(10);if(D!==w&&(j=p.nodePermissions(w,"w"),j))throw new p.ErrnoError(j);p.hashRemoveNode(x);try{w.node_ops.rename(x,D,y)}catch(P){throw P}finally{p.hashAddNode(x)}}},rmdir:t=>{var i=p.lookupPath(t,{parent:!0}),s=i.node,c=Se.basename(t),h=p.lookupNode(s,c),y=p.mayDelete(s,c,!0);if(y)throw new p.ErrnoError(y);if(!s.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(h))throw new p.ErrnoError(10);s.node_ops.rmdir(s,c),p.destroyNode(h)},readdir:t=>{var i=p.lookupPath(t,{follow:!0}),s=i.node;if(!s.node_ops.readdir)throw new p.ErrnoError(54);return s.node_ops.readdir(s)},unlink:t=>{var i=p.lookupPath(t,{parent:!0}),s=i.node;if(!s)throw new p.ErrnoError(44);var c=Se.basename(t),h=p.lookupNode(s,c),y=p.mayDelete(s,c,!1);if(y)throw new p.ErrnoError(y);if(!s.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(h))throw new p.ErrnoError(10);s.node_ops.unlink(s,c),p.destroyNode(h)},readlink:t=>{var i=p.lookupPath(t),s=i.node;if(!s)throw new p.ErrnoError(44);if(!s.node_ops.readlink)throw new p.ErrnoError(28);return sr.resolve(p.getPath(s.parent),s.node_ops.readlink(s))},stat:(t,i)=>{var s=p.lookupPath(t,{follow:!i}),c=s.node;if(!c)throw new p.ErrnoError(44);if(!c.node_ops.getattr)throw new p.ErrnoError(63);return c.node_ops.getattr(c)},lstat:t=>p.stat(t,!0),chmod:(t,i,s)=>{var c;if(typeof t=="string"){var h=p.lookupPath(t,{follow:!s});c=h.node}else c=t;if(!c.node_ops.setattr)throw new p.ErrnoError(63);c.node_ops.setattr(c,{mode:i&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:(t,i)=>{p.chmod(t,i,!0)},fchmod:(t,i)=>{var s=p.getStream(t);if(!s)throw new p.ErrnoError(8);p.chmod(s.node,i)},chown:(t,i,s,c)=>{var h;if(typeof t=="string"){var y=p.lookupPath(t,{follow:!c});h=y.node}else h=t;if(!h.node_ops.setattr)throw new p.ErrnoError(63);h.node_ops.setattr(h,{timestamp:Date.now()})},lchown:(t,i,s)=>{p.chown(t,i,s,!0)},fchown:(t,i,s)=>{var c=p.getStream(t);if(!c)throw new p.ErrnoError(8);p.chown(c.node,i,s)},truncate:(t,i)=>{if(i<0)throw new p.ErrnoError(28);var s;if(typeof t=="string"){var c=p.lookupPath(t,{follow:!0});s=c.node}else s=t;if(!s.node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(s.mode))throw new p.ErrnoError(31);if(!p.isFile(s.mode))throw new p.ErrnoError(28);var h=p.nodePermissions(s,"w");if(h)throw new p.ErrnoError(h);s.node_ops.setattr(s,{size:i,timestamp:Date.now()})},ftruncate:(t,i)=>{var s=p.getStream(t);if(!s)throw new p.ErrnoError(8);if(!(s.flags&2097155))throw new p.ErrnoError(28);p.truncate(s.node,i)},utime:(t,i,s)=>{var c=p.lookupPath(t,{follow:!0}),h=c.node;h.node_ops.setattr(h,{timestamp:Math.max(i,s)})},open:(t,i,s)=>{if(t==="")throw new p.ErrnoError(44);i=typeof i=="string"?se(i):i,s=typeof s>"u"?438:s,i&64?s=s&4095|32768:s=0;var c;if(typeof t=="object")c=t;else{t=Se.normalize(t);try{var h=p.lookupPath(t,{follow:!(i&131072)});c=h.node}catch{}}var y=!1;if(i&64)if(c){if(i&128)throw new p.ErrnoError(20)}else c=p.mknod(t,s,0),y=!0;if(!c)throw new p.ErrnoError(44);if(p.isChrdev(c.mode)&&(i&=-513),i&65536&&!p.isDir(c.mode))throw new p.ErrnoError(54);if(!y){var b=p.mayOpen(c,i);if(b)throw new p.ErrnoError(b)}i&512&&!y&&p.truncate(c,0),i&=-131713;var w=p.createStream({node:c,path:p.getPath(c),flags:i,seekable:!0,position:0,stream_ops:c.stream_ops,ungotten:[],error:!1});return w.stream_ops.open&&w.stream_ops.open(w),e.logReadFiles&&!(i&1)&&(p.readFiles||(p.readFiles={}),t in p.readFiles||(p.readFiles[t]=1)),w},close:t=>{if(p.isClosed(t))throw new p.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(i){throw i}finally{p.closeStream(t.fd)}t.fd=null},isClosed:t=>t.fd===null,llseek:(t,i,s)=>{if(p.isClosed(t))throw new p.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new p.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new p.ErrnoError(28);return t.position=t.stream_ops.llseek(t,i,s),t.ungotten=[],t.position},read:(t,i,s,c,h)=>{if(s>>>=0,c<0||h<0)throw new p.ErrnoError(28);if(p.isClosed(t))throw new p.ErrnoError(8);if((t.flags&2097155)===1)throw new p.ErrnoError(8);if(p.isDir(t.node.mode))throw new p.ErrnoError(31);if(!t.stream_ops.read)throw new p.ErrnoError(28);var y=typeof h<"u";if(!y)h=t.position;else if(!t.seekable)throw new p.ErrnoError(70);var b=t.stream_ops.read(t,i,s,c,h);return y||(t.position+=b),b},write:(t,i,s,c,h,y)=>{if(s>>>=0,c<0||h<0)throw new p.ErrnoError(28);if(p.isClosed(t))throw new p.ErrnoError(8);if(!(t.flags&2097155))throw new p.ErrnoError(8);if(p.isDir(t.node.mode))throw new p.ErrnoError(31);if(!t.stream_ops.write)throw new p.ErrnoError(28);t.seekable&&t.flags&1024&&p.llseek(t,0,2);var b=typeof h<"u";if(!b)h=t.position;else if(!t.seekable)throw new p.ErrnoError(70);var w=t.stream_ops.write(t,i,s,c,h,y);return b||(t.position+=w),w},allocate:(t,i,s)=>{if(p.isClosed(t))throw new p.ErrnoError(8);if(i<0||s<=0)throw new p.ErrnoError(28);if(!(t.flags&2097155))throw new p.ErrnoError(8);if(!p.isFile(t.node.mode)&&!p.isDir(t.node.mode))throw new p.ErrnoError(43);if(!t.stream_ops.allocate)throw new p.ErrnoError(138);t.stream_ops.allocate(t,i,s)},mmap:(t,i,s,c,h)=>{if(c&2&&!(h&2)&&(t.flags&2097155)!==2)throw new p.ErrnoError(2);if((t.flags&2097155)===1)throw new p.ErrnoError(2);if(!t.stream_ops.mmap)throw new p.ErrnoError(43);return t.stream_ops.mmap(t,i,s,c,h)},msync:(t,i,s,c,h)=>(s>>>=0,t.stream_ops.msync?t.stream_ops.msync(t,i,s,c,h):0),munmap:t=>0,ioctl:(t,i,s)=>{if(!t.stream_ops.ioctl)throw new p.ErrnoError(59);return t.stream_ops.ioctl(t,i,s)},readFile:(t,i={})=>{if(i.flags=i.flags||0,i.encoding=i.encoding||"binary",i.encoding!=="utf8"&&i.encoding!=="binary")throw new Error(`Invalid encoding type "${i.encoding}"`);var s,c=p.open(t,i.flags),h=p.stat(t),y=h.size,b=new Uint8Array(y);return p.read(c,b,0,y,0),i.encoding==="utf8"?s=Ar(b,0):i.encoding==="binary"&&(s=b),p.close(c),s},writeFile:(t,i,s={})=>{s.flags=s.flags||577;var c=p.open(t,s.flags,s.mode);if(typeof i=="string"){var h=new Uint8Array(_r(i)+1),y=ar(i,h,0,h.length);p.write(c,h,0,y,void 0,s.canOwn)}else if(ArrayBuffer.isView(i))p.write(c,i,0,i.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");p.close(c)},cwd:()=>p.currentPath,chdir:t=>{var i=p.lookupPath(t,{follow:!0});if(i.node===null)throw new p.ErrnoError(44);if(!p.isDir(i.node.mode))throw new p.ErrnoError(54);var s=p.nodePermissions(i.node,"x");if(s)throw new p.ErrnoError(s);p.currentPath=i.path},createDefaultDirectories:()=>{p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:()=>{p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:()=>0,write:(c,h,y,b,w)=>b}),p.mkdev("/dev/null",p.makedev(1,3)),oe.register(p.makedev(5,0),oe.default_tty_ops),oe.register(p.makedev(6,0),oe.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var t=new Uint8Array(1024),i=0,s=()=>(i===0&&(i=Lr(t).byteLength),t[--i]);p.createDevice("/dev","random",s),p.createDevice("/dev","urandom",s),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{p.mkdir("/proc");var t=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:()=>{var i=p.createNode(t,"fd",16895,73);return i.node_ops={lookup:(s,c)=>{var h=+c,y=p.getStream(h);if(!y)throw new p.ErrnoError(8);var b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>y.path}};return b.parent=b,b}},i}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?p.createDevice("/dev","stdin",e.stdin):p.symlink("/dev/tty","/dev/stdin"),e.stdout?p.createDevice("/dev","stdout",null,e.stdout):p.symlink("/dev/tty","/dev/stdout"),e.stderr?p.createDevice("/dev","stderr",null,e.stderr):p.symlink("/dev/tty1","/dev/stderr");var t=p.open("/dev/stdin",0),i=p.open("/dev/stdout",1),s=p.open("/dev/stderr",1)},ensureErrnoError:()=>{p.ErrnoError||(p.ErrnoError=function(i,s){this.name="ErrnoError",this.node=s,this.setErrno=function(c){this.errno=c},this.setErrno(i),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(t=>{p.genericErrors[t]=new p.ErrnoError(t),p.genericErrors[t].stack="<generic error, no stack>"}))},staticInit:()=>{p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(fe,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:fe}},init:(t,i,s)=>{p.init.initialized=!0,p.ensureErrnoError(),e.stdin=t||e.stdin,e.stdout=i||e.stdout,e.stderr=s||e.stderr,p.createStandardStreams()},quit:()=>{p.init.initialized=!1;for(var t=0;t<p.streams.length;t++){var i=p.streams[t];i&&p.close(i)}},findObject:(t,i)=>{var s=p.analyzePath(t,i);return s.exists?s.object:null},analyzePath:(t,i)=>{try{var s=p.lookupPath(t,{follow:!i});t=s.path}catch{}var c={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=p.lookupPath(t,{parent:!0});c.parentExists=!0,c.parentPath=s.path,c.parentObject=s.node,c.name=Se.basename(t),s=p.lookupPath(t,{follow:!i}),c.exists=!0,c.path=s.path,c.object=s.node,c.name=s.node.name,c.isRoot=s.path==="/"}catch(h){c.error=h.errno}return c},createPath:(t,i,s,c)=>{t=typeof t=="string"?t:p.getPath(t);for(var h=i.split("/").reverse();h.length;){var y=h.pop();if(y){var b=Se.join2(t,y);try{p.mkdir(b)}catch{}t=b}}return b},createFile:(t,i,s,c,h)=>{var y=Se.join2(typeof t=="string"?t:p.getPath(t),i),b=on(c,h);return p.create(y,b)},createDataFile:(t,i,s,c,h,y)=>{var b=i;t&&(t=typeof t=="string"?t:p.getPath(t),b=i?Se.join2(t,i):t);var w=on(c,h),D=p.create(b,w);if(s){if(typeof s=="string"){for(var x=new Array(s.length),F=0,z=s.length;F<z;++F)x[F]=s.charCodeAt(F);s=x}p.chmod(D,w|146);var H=p.open(D,577);p.write(H,s,0,s.length,0,y),p.close(H),p.chmod(D,w)}return D},createDevice:(t,i,s,c)=>{var h=Se.join2(typeof t=="string"?t:p.getPath(t),i),y=on(!!s,!!c);p.createDevice.major||(p.createDevice.major=64);var b=p.makedev(p.createDevice.major++,0);return p.registerDevice(b,{open:w=>{w.seekable=!1},close:w=>{c&&c.buffer&&c.buffer.length&&c(10)},read:(w,D,x,F,z)=>{for(var H=0,j=0;j<F;j++){var P;try{P=s()}catch{throw new p.ErrnoError(29)}if(P===void 0&&H===0)throw new p.ErrnoError(6);if(P==null)break;H++,D[x+j]=P}return H&&(w.node.timestamp=Date.now()),H},write:(w,D,x,F,z)=>{for(var H=0;H<F;H++)try{c(D[x+H])}catch{throw new p.ErrnoError(29)}return F&&(w.node.timestamp=Date.now()),H}}),p.mkdev(h,y,b)},forceLoadFile:t=>{if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(I)try{t.contents=Br(I(t.url),!0),t.usedBytes=t.contents.length}catch{throw new p.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(t,i,s,c,h)=>{function y(){this.lengthKnown=!1,this.chunks=[]}if(y.prototype.get=function(j){if(!(j>this.length-1||j<0)){var P=j%this.chunkSize,U=j/this.chunkSize|0;return this.getter(U)[P]}},y.prototype.setDataGetter=function(j){this.getter=j},y.prototype.cacheLength=function(){var j=new XMLHttpRequest;if(j.open("HEAD",s,!1),j.send(null),!(j.status>=200&&j.status<300||j.status===304))throw new Error("Couldn't load "+s+". Status: "+j.status);var P=Number(j.getResponseHeader("Content-length")),U,ne=(U=j.getResponseHeader("Accept-Ranges"))&&U==="bytes",Z=(U=j.getResponseHeader("Content-Encoding"))&&U==="gzip",M=1024*1024;ne||(M=P);var W=(ce,Me)=>{if(ce>Me)throw new Error("invalid range ("+ce+", "+Me+") or no bytes requested!");if(Me>P-1)throw new Error("only "+P+" bytes available! programmer error!");var Ce=new XMLHttpRequest;if(Ce.open("GET",s,!1),P!==M&&Ce.setRequestHeader("Range","bytes="+ce+"-"+Me),Ce.responseType="arraybuffer",Ce.overrideMimeType&&Ce.overrideMimeType("text/plain; charset=x-user-defined"),Ce.send(null),!(Ce.status>=200&&Ce.status<300||Ce.status===304))throw new Error("Couldn't load "+s+". Status: "+Ce.status);return Ce.response!==void 0?new Uint8Array(Ce.response||[]):Br(Ce.responseText||"",!0)},be=this;be.setDataGetter(ce=>{var Me=ce*M,Ce=(ce+1)*M-1;if(Ce=Math.min(Ce,P-1),typeof be.chunks[ce]>"u"&&(be.chunks[ce]=W(Me,Ce)),typeof be.chunks[ce]>"u")throw new Error("doXHR failed!");return be.chunks[ce]}),(Z||!P)&&(M=P=1,P=this.getter(0).length,M=P,ke("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=P,this._chunkSize=M,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!S)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var b=new y;Object.defineProperties(b,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var w={isDevice:!1,contents:b}}else var w={isDevice:!1,url:s};var D=p.createFile(t,i,w,c,h);w.contents?D.contents=w.contents:w.url&&(D.contents=null,D.url=w.url),Object.defineProperties(D,{usedBytes:{get:function(){return this.contents.length}}});var x={},F=Object.keys(D.stream_ops);F.forEach(H=>{var j=D.stream_ops[H];x[H]=function(){return p.forceLoadFile(D),j.apply(null,arguments)}});function z(H,j,P,U,ne){var Z=H.node.contents;if(ne>=Z.length)return 0;var M=Math.min(Z.length-ne,U);if(Z.slice)for(var W=0;W<M;W++)j[P+W]=Z[ne+W];else for(var W=0;W<M;W++)j[P+W]=Z.get(ne+W);return M}return x.read=(H,j,P,U,ne)=>(p.forceLoadFile(D),z(H,j,P,U,ne)),x.mmap=(H,j,P,U,ne)=>{p.forceLoadFile(D);var Z=Hn(j);if(!Z)throw new p.ErrnoError(48);return z(H,X,Z,j,P),{ptr:Z,allocated:!0}},D.stream_ops=x,D}};function rr(t,i){return t>>>=0,t?Ar(re,t,i):""}var ae={DEFAULT_POLLMASK:5,calculateAt:function(t,i,s){if(Se.isAbs(i))return i;var c;if(t===-100)c=p.cwd();else{var h=ae.getStreamFromFD(t);c=h.path}if(i.length==0){if(!s)throw new p.ErrnoError(44);return c}return Se.join2(c,i)},doStat:function(t,i,s){try{var c=t(i)}catch(w){if(w&&w.node&&Se.normalize(i)!==Se.normalize(p.getPath(w.node)))return-54;throw w}v[s>>>2]=c.dev,v[s+8>>>2]=c.ino,v[s+12>>>2]=c.mode,$[s+16>>>2]=c.nlink,v[s+20>>>2]=c.uid,v[s+24>>>2]=c.gid,v[s+28>>>2]=c.rdev,ee=[c.size>>>0,(N=c.size,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[s+40>>>2]=ee[0],v[s+44>>>2]=ee[1],v[s+48>>>2]=4096,v[s+52>>>2]=c.blocks;var h=c.atime.getTime(),y=c.mtime.getTime(),b=c.ctime.getTime();return ee=[Math.floor(h/1e3)>>>0,(N=Math.floor(h/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[s+56>>>2]=ee[0],v[s+60>>>2]=ee[1],$[s+64>>>2]=h%1e3*1e3,ee=[Math.floor(y/1e3)>>>0,(N=Math.floor(y/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[s+72>>>2]=ee[0],v[s+76>>>2]=ee[1],$[s+80>>>2]=y%1e3*1e3,ee=[Math.floor(b/1e3)>>>0,(N=Math.floor(b/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[s+88>>>2]=ee[0],v[s+92>>>2]=ee[1],$[s+96>>>2]=b%1e3*1e3,ee=[c.ino>>>0,(N=c.ino,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[s+104>>>2]=ee[0],v[s+108>>>2]=ee[1],0},doMsync:function(t,i,s,c,h){if(!p.isFile(i.node.mode))throw new p.ErrnoError(43);if(c&2)return 0;t>>>=0;var y=re.slice(t,t+s);p.msync(i,y,h,s,c)},varargs:void 0,get:function(){ae.varargs+=4;var t=v[ae.varargs-4>>>2];return t},getStr:function(t){var i=rr(t);return i},getStreamFromFD:function(t){var i=p.getStream(t);if(!i)throw new p.ErrnoError(8);return i}};function sn(t,i,s,c,h){try{for(var y=0,b=i?v[i>>>2]:0,w=i?v[i+4>>>2]:0,D=s?v[s>>>2]:0,x=s?v[s+4>>>2]:0,F=c?v[c>>>2]:0,z=c?v[c+4>>>2]:0,H=0,j=0,P=0,U=0,ne=0,Z=0,M=(i?v[i>>>2]:0)|(s?v[s>>>2]:0)|(c?v[c>>>2]:0),W=(i?v[i+4>>>2]:0)|(s?v[s+4>>>2]:0)|(c?v[c+4>>>2]:0),be=function(pn,yh,bh,Qc){return pn<32?yh&Qc:bh&Qc},ce=0;ce<t;ce++){var Me=1<<ce%32;if(be(ce,M,W,Me)){var Ce=ae.getStreamFromFD(ce),pt=ae.DEFAULT_POLLMASK;Ce.stream_ops.poll&&(pt=Ce.stream_ops.poll(Ce)),pt&1&&be(ce,b,w,Me)&&(ce<32?H=H|Me:j=j|Me,y++),pt&4&&be(ce,D,x,Me)&&(ce<32?P=P|Me:U=U|Me,y++),pt&2&&be(ce,F,z,Me)&&(ce<32?ne=ne|Me:Z=Z|Me,y++)}}return i&&(v[i>>>2]=H,v[i+4>>>2]=j),s&&(v[s>>>2]=P,v[s+4>>>2]=U),c&&(v[c>>>2]=ne,v[c+4>>>2]=Z),y}catch(pn){if(typeof p>"u"||pn.name!=="ErrnoError")throw pn;return-pn.errno}}var Re={mount:function(t){return e.websocket=e.websocket&&typeof e.websocket=="object"?e.websocket:{},e.websocket._callbacks={},e.websocket.on=function(i,s){return typeof s=="function"&&(this._callbacks[i]=s),this},e.websocket.emit=function(i,s){typeof this._callbacks[i]=="function"&&this._callbacks[i].call(this,s)},p.createNode(null,"/",16895,0)},createSocket:function(t,i,s){i&=-526337;var c=i==1;if(c&&s&&s!=6)throw new p.ErrnoError(66);var h={family:t,type:i,protocol:s,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Re.websocket_sock_ops},y=Re.nextname(),b=p.createNode(Re.root,y,49152,0);b.sock=h;var w=p.createStream({path:y,node:b,flags:2,seekable:!1,stream_ops:Re.stream_ops});return h.stream=w,h},getSocket:function(t){var i=p.getStream(t);return!i||!p.isSocket(i.node.mode)?null:i.node.sock},stream_ops:{poll:function(t){var i=t.node.sock;return i.sock_ops.poll(i)},ioctl:function(t,i,s){var c=t.node.sock;return c.sock_ops.ioctl(c,i,s)},read:function(t,i,s,c,h){var y=t.node.sock,b=y.sock_ops.recvmsg(y,c);return b?(i.set(b.buffer,s),b.buffer.length):0},write:function(t,i,s,c,h){var y=t.node.sock;return y.sock_ops.sendmsg(y,i,s,c)},close:function(t){var i=t.node.sock;i.sock_ops.close(i)}},nextname:function(){return Re.nextname.current||(Re.nextname.current=0),"socket["+Re.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(t,i,s){var c;if(typeof i=="object"&&(c=i,i=null,s=null),c)if(c._socket)i=c._socket.remoteAddress,s=c._socket.remotePort;else{var h=/ws[s]?:\/\/([^:]+):(\d+)/.exec(c.url);if(!h)throw new Error("WebSocket URL must be in the format ws(s)://address:port");i=h[1],s=parseInt(h[2],10)}else try{var y=e.websocket&&typeof e.websocket=="object",b="ws:#".replace("#","//");if(y&&typeof e.websocket.url=="string"&&(b=e.websocket.url),b==="ws://"||b==="wss://"){var w=i.split("/");b=b+w[0]+":"+s+"/"+w.slice(1).join("/")}var D="binary";y&&typeof e.websocket.subprotocol=="string"&&(D=e.websocket.subprotocol);var x=void 0;D!=="null"&&(D=D.replace(/^ +| +$/g,"").split(/ *, */),x=D),y&&e.websocket.subprotocol===null&&(D="null",x=void 0);var F;R?F=Ln():F=WebSocket,c=new F(b,x),c.binaryType="arraybuffer"}catch{throw new p.ErrnoError(23)}var z={addr:i,port:s,socket:c,dgram_send_queue:[]};return Re.websocket_sock_ops.addPeer(t,z),Re.websocket_sock_ops.handlePeerEvents(t,z),t.type===2&&typeof t.sport<"u"&&z.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(t.sport&65280)>>8,t.sport&255])),z},getPeer:function(t,i,s){return t.peers[i+":"+s]},addPeer:function(t,i){t.peers[i.addr+":"+i.port]=i},removePeer:function(t,i){delete t.peers[i.addr+":"+i.port]},handlePeerEvents:function(t,i){var s=!0,c=function(){e.websocket.emit("open",t.stream.fd);try{for(var y=i.dgram_send_queue.shift();y;)i.socket.send(y),y=i.dgram_send_queue.shift()}catch{i.socket.close()}};function h(y){if(typeof y=="string"){var b=new TextEncoder;y=b.encode(y)}else{if(O(y.byteLength!==void 0),y.byteLength==0)return;y=new Uint8Array(y)}var w=s;if(s=!1,w&&y.length===10&&y[0]===255&&y[1]===255&&y[2]===255&&y[3]===255&&y[4]==="p".charCodeAt(0)&&y[5]==="o".charCodeAt(0)&&y[6]==="r".charCodeAt(0)&&y[7]==="t".charCodeAt(0)){var D=y[8]<<8|y[9];Re.websocket_sock_ops.removePeer(t,i),i.port=D,Re.websocket_sock_ops.addPeer(t,i);return}t.recv_queue.push({addr:i.addr,port:i.port,data:y}),e.websocket.emit("message",t.stream.fd)}R?(i.socket.on("open",c),i.socket.on("message",function(y,b){b&&h(new Uint8Array(y).buffer)}),i.socket.on("close",function(){e.websocket.emit("close",t.stream.fd)}),i.socket.on("error",function(y){t.error=14,e.websocket.emit("error",[t.stream.fd,t.error,"ECONNREFUSED: Connection refused"])})):(i.socket.onopen=c,i.socket.onclose=function(){e.websocket.emit("close",t.stream.fd)},i.socket.onmessage=function(b){h(b.data)},i.socket.onerror=function(y){t.error=14,e.websocket.emit("error",[t.stream.fd,t.error,"ECONNREFUSED: Connection refused"])})},poll:function(t){if(t.type===1&&t.server)return t.pending.length?65:0;var i=0,s=t.type===1?Re.websocket_sock_ops.getPeer(t,t.daddr,t.dport):null;return(t.recv_queue.length||!s||s&&s.socket.readyState===s.socket.CLOSING||s&&s.socket.readyState===s.socket.CLOSED)&&(i|=65),(!s||s&&s.socket.readyState===s.socket.OPEN)&&(i|=4),(s&&s.socket.readyState===s.socket.CLOSING||s&&s.socket.readyState===s.socket.CLOSED)&&(i|=16),i},ioctl:function(t,i,s){switch(i){case 21531:var c=0;return t.recv_queue.length&&(c=t.recv_queue[0].data.length),v[s>>>2]=c,0;default:return 28}},close:function(t){if(t.server){try{t.server.close()}catch{}t.server=null}for(var i=Object.keys(t.peers),s=0;s<i.length;s++){var c=t.peers[i[s]];try{c.socket.close()}catch{}Re.websocket_sock_ops.removePeer(t,c)}return 0},bind:function(t,i,s){if(typeof t.saddr<"u"||typeof t.sport<"u")throw new p.ErrnoError(28);if(t.saddr=i,t.sport=s,t.type===2){t.server&&(t.server.close(),t.server=null);try{t.sock_ops.listen(t,0)}catch(c){if(c.name!=="ErrnoError"||c.errno!==138)throw c}}},connect:function(t,i,s){if(t.server)throw new p.ErrnoError(138);if(typeof t.daddr<"u"&&typeof t.dport<"u"){var c=Re.websocket_sock_ops.getPeer(t,t.daddr,t.dport);if(c)throw c.socket.readyState===c.socket.CONNECTING?new p.ErrnoError(7):new p.ErrnoError(30)}var h=Re.websocket_sock_ops.createPeer(t,i,s);throw t.daddr=h.addr,t.dport=h.port,new p.ErrnoError(26)},listen:function(t,i){if(!R)throw new p.ErrnoError(138);if(t.server)throw new p.ErrnoError(28);var s=Ln().Server,c=t.saddr;t.server=new s({host:c,port:t.sport}),e.websocket.emit("listen",t.stream.fd),t.server.on("connection",function(h){if(t.type===1){var y=Re.createSocket(t.family,t.type,t.protocol),b=Re.websocket_sock_ops.createPeer(y,h);y.daddr=b.addr,y.dport=b.port,t.pending.push(y),e.websocket.emit("connection",y.stream.fd)}else Re.websocket_sock_ops.createPeer(t,h),e.websocket.emit("connection",t.stream.fd)}),t.server.on("close",function(){e.websocket.emit("close",t.stream.fd),t.server=null}),t.server.on("error",function(h){t.error=23,e.websocket.emit("error",[t.stream.fd,t.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(t){if(!t.server||!t.pending.length)throw new p.ErrnoError(28);var i=t.pending.shift();return i.stream.flags=t.stream.flags,i},getname:function(t,i){var s,c;if(i){if(t.daddr===void 0||t.dport===void 0)throw new p.ErrnoError(53);s=t.daddr,c=t.dport}else s=t.saddr||0,c=t.sport||0;return{addr:s,port:c}},sendmsg:function(t,i,s,c,h,y){if(t.type===2){if((h===void 0||y===void 0)&&(h=t.daddr,y=t.dport),h===void 0||y===void 0)throw new p.ErrnoError(17)}else h=t.daddr,y=t.dport;var b=Re.websocket_sock_ops.getPeer(t,h,y);if(t.type===1){if(!b||b.socket.readyState===b.socket.CLOSING||b.socket.readyState===b.socket.CLOSED)throw new p.ErrnoError(53);if(b.socket.readyState===b.socket.CONNECTING)throw new p.ErrnoError(6)}ArrayBuffer.isView(i)&&(s+=i.byteOffset,i=i.buffer);var w;if(w=i.slice(s,s+c),t.type===2&&(!b||b.socket.readyState!==b.socket.OPEN))return(!b||b.socket.readyState===b.socket.CLOSING||b.socket.readyState===b.socket.CLOSED)&&(b=Re.websocket_sock_ops.createPeer(t,h,y)),b.dgram_send_queue.push(w),c;try{return b.socket.send(w),c}catch{throw new p.ErrnoError(28)}},recvmsg:function(t,i){if(t.type===1&&t.server)throw new p.ErrnoError(53);var s=t.recv_queue.shift();if(!s){if(t.type===1){var c=Re.websocket_sock_ops.getPeer(t,t.daddr,t.dport);if(!c)throw new p.ErrnoError(53);if(c.socket.readyState===c.socket.CLOSING||c.socket.readyState===c.socket.CLOSED)return null;throw new p.ErrnoError(6)}throw new p.ErrnoError(6)}var h=s.data.byteLength||s.data.length,y=s.data.byteOffset||0,b=s.data.buffer||s.data,w=Math.min(i,h),D={buffer:new Uint8Array(b,y,w),addr:s.addr,port:s.port};if(t.type===1&&w<h){var x=h-w;s.data=new Uint8Array(b,y+w,x),t.recv_queue.unshift(s)}return D}}};function Tr(t){var i=Re.getSocket(t);if(!i)throw new p.ErrnoError(8);return i}function kt(t){return v[ft()>>>2]=t,t}function Ur(t){return(t&255)+"."+(t>>8&255)+"."+(t>>16&255)+"."+(t>>24&255)}function Dt(t){var i="",s=0,c=0,h=0,y=0,b=0,w=0,D=[t[0]&65535,t[0]>>16,t[1]&65535,t[1]>>16,t[2]&65535,t[2]>>16,t[3]&65535,t[3]>>16],x=!0,F="";for(w=0;w<5;w++)if(D[w]!==0){x=!1;break}if(x){if(F=Ur(D[6]|D[7]<<16),D[5]===-1)return i="::ffff:",i+=F,i;if(D[5]===0)return i="::",F==="0.0.0.0"&&(F=""),F==="0.0.0.1"&&(F="1"),i+=F,i}for(s=0;s<8;s++)D[s]===0&&(s-h>1&&(b=0),h=s,b++),b>c&&(c=b,y=s-c+1);for(s=0;s<8;s++){if(c>1&&D[s]===0&&s>=y&&s<y+c){s===y&&(i+=":",y===0&&(i+=":"));continue}i+=Number(Nt(D[s]&65535)).toString(16),i+=s<7?":":""}return i}function Ye(t,i){var s=he[t>>>1],c=Nt(C[t+2>>>1]),h;switch(s){case 2:if(i!==16)return{errno:28};h=v[t+4>>>2],h=Ur(h);break;case 10:if(i!==28)return{errno:28};h=[v[t+8>>>2],v[t+12>>>2],v[t+16>>>2],v[t+20>>>2]],h=Dt(h);break;default:return{errno:5}}return{family:s,addr:h,port:c}}function Hr(t){for(var i=t.split("."),s=0;s<4;s++){var c=Number(i[s]);if(isNaN(c))return null;i[s]=c}return(i[0]|i[1]<<8|i[2]<<16|i[3]<<24)>>>0}function At(t){return parseInt(t)}function an(t){var i,s,c,h,y=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,b=[];if(!y.test(t))return null;if(t==="::")return[0,0,0,0,0,0,0,0];for(t.startsWith("::")?t=t.replace("::","Z:"):t=t.replace("::",":Z:"),t.indexOf(".")>0?(t=t.replace(new RegExp("[.]","g"),":"),i=t.split(":"),i[i.length-4]=At(i[i.length-4])+At(i[i.length-3])*256,i[i.length-3]=At(i[i.length-2])+At(i[i.length-1])*256,i=i.slice(0,i.length-2)):i=t.split(":"),c=0,h=0,s=0;s<i.length;s++)if(typeof i[s]=="string")if(i[s]==="Z"){for(h=0;h<8-i.length+1;h++)b[s+h]=0;c=h-1}else b[s+c]=dt(parseInt(i[s],16));else b[s+c]=i[s];return[b[1]<<16|b[0],b[3]<<16|b[2],b[5]<<16|b[4],b[7]<<16|b[6]]}var Qe={address_map:{id:1,addrs:{},names:{}},lookup_name:function(t){var i=Hr(t);if(i!==null||(i=an(t),i!==null))return t;var s;if(Qe.address_map.addrs[t])s=Qe.address_map.addrs[t];else{var c=Qe.address_map.id++;O(c<65535,"exceeded max address mappings of 65535"),s="172.29."+(c&255)+"."+(c&65280),Qe.address_map.names[s]=t,Qe.address_map.addrs[t]=s}return s},lookup_addr:function(t){return Qe.address_map.names[t]?Qe.address_map.names[t]:null}};function un(t,i,s){if(s&&t===0)return null;var c=Ye(t,i);if(c.errno)throw new p.ErrnoError(c.errno);return c.addr=Qe.lookup_addr(c.addr)||c.addr,c}function wo(t,i,s,c,h,y){try{var b=Tr(t),w=un(i,s);return b.sock_ops.bind(b,w.addr,w.port),0}catch(D){if(typeof p>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function Tt(t,i,s,c,h,y){try{var b=Tr(t),w=un(i,s);return b.sock_ops.connect(b,w.addr,w.port),0}catch(D){if(typeof p>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function Eo(t,i,s,c){try{if(i=ae.getStr(i),i=ae.calculateAt(t,i),s&-8)return-28;var h=p.lookupPath(i,{follow:!0}),y=h.node;if(!y)return-44;var b="";return s&4&&(b+="r"),s&2&&(b+="w"),s&1&&(b+="x"),b&&p.nodePermissions(y,b)?-2:0}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function it(t,i,s){ae.varargs=s;try{var c=ae.getStreamFromFD(t);switch(i){case 0:{var h=ae.get();if(h<0)return-28;var y;return y=p.createStream(c,h),y.fd}case 1:case 2:return 0;case 3:return c.flags;case 4:{var h=ae.get();return c.flags|=h,0}case 5:{var h=ae.get(),b=0;return he[h+b>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return kt(28),-1;default:return-28}}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function So(t,i){try{var s=ae.getStreamFromFD(t);return ae.doStat(p.stat,s.path,i)}catch(c){if(typeof p>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function qr(t,i){return i+2097152>>>0<4194305-!!t?(t>>>0)+i*4294967296:NaN}function ko(t,i,s){try{var c=qr(i,s);return isNaN(c)?-61:(p.ftruncate(t,c),0)}catch(h){if(typeof p>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function ot(t,i,s){return ar(t,re,i,s)}function Do(t,i,s){try{var c=ae.getStreamFromFD(t);c.getdents||(c.getdents=p.readdir(c.path));for(var h=280,y=0,b=p.llseek(c,0,1),w=Math.floor(b/h);w<c.getdents.length&&y+h<=s;){var D,x,F=c.getdents[w];if(F===".")D=c.node.id,x=4;else if(F===".."){var z=p.lookupPath(c.path,{parent:!0});D=z.node.id,x=4}else{var H=p.lookupNode(c.node,F);D=H.id,x=p.isChrdev(H.mode)?2:p.isDir(H.mode)?4:p.isLink(H.mode)?10:8}ee=[D>>>0,(N=D,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[i+y>>>2]=ee[0],v[i+y+4>>>2]=ee[1],ee=[(w+1)*h>>>0,(N=(w+1)*h,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[i+y+8>>>2]=ee[0],v[i+y+12>>>2]=ee[1],he[i+y+16>>>1]=280,X[i+y+18>>>0]=x,ot(F,i+y+19,256),y+=h,w+=1}return p.llseek(c,w*h,0),y}catch(j){if(typeof p>"u"||j.name!=="ErrnoError")throw j;return-j.errno}}function cn(t,i,s,c,h){switch(i){case 2:s=Hr(s),tn(t,16),h&&(v[h>>>2]=16),he[t>>>1]=i,v[t+4>>>2]=s,he[t+2>>>1]=dt(c);break;case 10:s=an(s),tn(t,28),h&&(v[h>>>2]=28),v[t>>>2]=i,v[t+8>>>2]=s[0],v[t+12>>>2]=s[1],v[t+16>>>2]=s[2],v[t+20>>>2]=s[3],he[t+2>>>1]=dt(c);break;default:return 5}return 0}function Ao(t,i,s,c,h,y){try{var b=Tr(t);if(!b.daddr)return-53;var w=cn(i,b.family,Qe.lookup_name(b.daddr),b.dport,s);return 0}catch(D){if(typeof p>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function To(t,i,s,c,h,y){try{var b=Tr(t);return i===1&&s===4?(v[c>>>2]=b.error,v[h>>>2]=4,b.error=null,0):-50}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function Ro(t,i,s){ae.varargs=s;try{var c=ae.getStreamFromFD(t);switch(i){case 21509:case 21505:return c.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return c.tty?0:-59;case 21519:{if(!c.tty)return-59;var h=ae.get();return v[h>>>2]=0,0}case 21520:return c.tty?-28:-59;case 21531:{var h=ae.get();return p.ioctl(c,i,h)}case 21523:return c.tty?0:-59;case 21524:return c.tty?0:-59;default:return-28}}catch(y){if(typeof p>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Po(t,i){try{return t=ae.getStr(t),ae.doStat(p.lstat,t,i)}catch(s){if(typeof p>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function xo(t,i,s){try{return i=ae.getStr(i),i=ae.calculateAt(t,i),i=Se.normalize(i),i[i.length-1]==="/"&&(i=i.substr(0,i.length-1)),p.mkdir(i,s,0),0}catch(c){if(typeof p>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function Co(t,i,s,c){try{i=ae.getStr(i);var h=c&256,y=c&4096;return c=c&-6401,i=ae.calculateAt(t,i,y),ae.doStat(h?p.lstat:p.stat,i,s)}catch(b){if(typeof p>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function Fo(t,i,s,c){ae.varargs=c;try{i=ae.getStr(i),i=ae.calculateAt(t,i);var h=c?ae.get():0;return p.open(i,s,h).fd}catch(y){if(typeof p>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Oo(t,i,s,c,h,y){try{var b=Tr(t),w=b.sock_ops.recvmsg(b,s);if(!w)return 0;if(h)var D=cn(h,b.family,Qe.lookup_name(w.addr),w.port,y);return re.set(w.buffer,i>>>0),w.buffer.byteLength}catch(x){if(typeof p>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function Mo(t,i,s,c){try{return i=ae.getStr(i),c=ae.getStr(c),i=ae.calculateAt(t,i),c=ae.calculateAt(s,c),p.rename(i,c),0}catch(h){if(typeof p>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function No(t){try{return t=ae.getStr(t),p.rmdir(t),0}catch(i){if(typeof p>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Lo(t,i,s,c,h,y){try{var b=Tr(t),w=un(h,y,!0);return w?b.sock_ops.sendmsg(b,X,i,s,w.addr,w.port):p.write(b.stream,X,i,s)}catch(D){if(typeof p>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function Bo(t,i,s){try{var c=Re.createSocket(t,i,s);return c.stream.fd}catch(h){if(typeof p>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Io(t,i){try{return t=ae.getStr(t),ae.doStat(p.stat,t,i)}catch(s){if(typeof p>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function st(t,i,s){try{return i=ae.getStr(i),i=ae.calculateAt(t,i),s===0?p.unlink(i):s===512?p.rmdir(i):Q("Invalid flags passed to unlinkat"),0}catch(c){if(typeof p>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}var Uo=!0;function Ho(){return Uo}function qo(t){return $[t>>>2]+v[t+4>>>2]*4294967296}function at(t){return t%4===0&&(t%100!==0||t%400===0)}var qn=[0,31,60,91,121,152,182,213,244,274,305,335],jo=[0,31,59,90,120,151,181,212,243,273,304,334];function Wo(t){var i=at(t.getFullYear()),s=i?qn:jo,c=s[t.getMonth()]+t.getDate()-1;return c}function $o(t,i){var s=new Date(qo(t)*1e3);v[i>>>2]=s.getSeconds(),v[i+4>>>2]=s.getMinutes(),v[i+8>>>2]=s.getHours(),v[i+12>>>2]=s.getDate(),v[i+16>>>2]=s.getMonth(),v[i+20>>>2]=s.getFullYear()-1900,v[i+24>>>2]=s.getDay();var c=Wo(s)|0;v[i+28>>>2]=c,v[i+36>>>2]=-(s.getTimezoneOffset()*60);var h=new Date(s.getFullYear(),0,1),y=new Date(s.getFullYear(),6,1).getTimezoneOffset(),b=h.getTimezoneOffset(),w=(y!=b&&s.getTimezoneOffset()==Math.min(b,y))|0;v[i+32>>>2]=w}function jn(t){var i=_r(t)+1,s=jr(i);return s&&ot(t,s,i),s}function Go(t,i,s){var c=new Date().getFullYear(),h=new Date(c,0,1),y=new Date(c,6,1),b=h.getTimezoneOffset(),w=y.getTimezoneOffset(),D=Math.max(b,w);$[t>>>2]=D*60,v[i>>>2]=+(b!=w);function x(P){var U=P.toTimeString().match(/\(([A-Za-z ]+)\)$/);return U?U[1]:"GMT"}var F=x(h),z=x(y),H=jn(F),j=jn(z);w<b?($[s>>>2]=H,$[s+4>>>2]=j):($[s>>>2]=j,$[s+4>>>2]=H)}function zo(){Q("")}function Vo(t,i){Q(St)}function Ko(t,i){return globalThis.DUCKDB_RUNTIME.createDirectory(e,t,i)}function Yo(t,i){return globalThis.DUCKDB_RUNTIME.checkDirectory(e,t,i)}function Xo(t,i){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(e,t,i)}function Qo(t,i){return globalThis.DUCKDB_RUNTIME.removeDirectory(e,t,i)}function Jo(t){return globalThis.DUCKDB_RUNTIME.closeFile(e,t)}function Zo(t,i,s,c){return globalThis.DUCKDB_RUNTIME.checkFile(e,t,i,s,c)}function es(t){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(e,t)}function rs(t,i,s,c){return globalThis.DUCKDB_RUNTIME.moveFile(e,t,i,s,c)}function ts(t,i){return globalThis.DUCKDB_RUNTIME.openFile(e,t,i)}function ns(t,i,s,c){return globalThis.DUCKDB_RUNTIME.readFile(e,t,i,s,c)}function is(t,i){return globalThis.DUCKDB_RUNTIME.truncateFile(e,t,i)}function os(t,i,s,c){return globalThis.DUCKDB_RUNTIME.writeFile(e,t,i,s,c)}function ss(t){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(t)}function Wn(t,i){return globalThis.DUCKDB_RUNTIME.glob(e,t,i)}function as(t){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(e,t)}function $n(t,i,s,c,h,y){return globalThis.DUCKDB_RUNTIME.callScalarUDF(e,t,i,s,c,h,y)}function us(){return Date.now()}function Gn(){return 4294901760}function cs(){return Gn()}var Rt;R&&(global.performance=require("perf_hooks").performance),Rt=()=>performance.now();function ls(t,i,s){re.copyWithin(t>>>0,i>>>0,i+s>>>0)}function ut(t){var i=J.buffer,s=t-i.byteLength+65535>>>16;try{return J.grow(s),Ge(),1}catch{}}function fs(t){var i=re.length;t=t>>>0;var s=Gn();if(t>s)return!1;for(var c=(D,x)=>D+(x-D%x)%x,h=1;h<=4;h*=2){var y=i*(1+.2/h);y=Math.min(y,t+100663296);var b=Math.min(s,c(Math.max(t,y),65536)),w=ut(b);if(w)return!0}return!1}var ln={};function ds(){return E||"./this.program"}function ct(){if(!ct.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:ds()};for(var s in ln)ln[s]===void 0?delete i[s]:i[s]=ln[s];var c=[];for(var s in i)c.push(`${s}=${i[s]}`);ct.strings=c}return ct.strings}function _s(t,i){for(var s=0;s<t.length;++s)X[i++>>>0]=t.charCodeAt(s);X[i>>>0]=0}function zn(t,i){var s=0;return ct().forEach(function(c,h){var y=i+s;$[t+h*4>>>2]=y,_s(c,y),s+=c.length+1}),0}function hs(t,i){var s=ct();$[t>>>2]=s.length;var c=0;return s.forEach(function(h){c+=h.length+1}),$[i>>>2]=c,0}function Vn(t){try{var i=ae.getStreamFromFD(t);return p.close(i),0}catch(s){if(typeof p>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function ps(t,i){try{var s=0,c=0,h=0,y=ae.getStreamFromFD(t),b=y.tty?2:p.isDir(y.mode)?3:p.isLink(y.mode)?7:4;return X[i>>>0]=b,he[i+2>>>1]=h,ee=[s>>>0,(N=s,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[i+8>>>2]=ee[0],v[i+12>>>2]=ee[1],ee=[c>>>0,(N=c,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[i+16>>>2]=ee[0],v[i+20>>>2]=ee[1],0}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return w.errno}}function Kn(t,i,s,c){for(var h=0,y=0;y<s;y++){var b=$[i>>>2],w=$[i+4>>>2];i+=8;var D=p.read(t,X,b,w,c);if(D<0)return-1;if(h+=D,D<w)break;typeof c<"u"&&(c+=D)}return h}function ms(t,i,s,c,h,y){try{var b=qr(c,h);if(isNaN(b))return 61;var w=ae.getStreamFromFD(t),D=Kn(w,i,s,b);return $[y>>>2]=D,0}catch(x){if(typeof p>"u"||x.name!=="ErrnoError")throw x;return x.errno}}function Yn(t,i,s,c){for(var h=0,y=0;y<s;y++){var b=$[i>>>2],w=$[i+4>>>2];i+=8;var D=p.write(t,X,b,w,c);if(D<0)return-1;h+=D,typeof c<"u"&&(c+=D)}return h}function gs(t,i,s,c,h,y){try{var b=qr(c,h);if(isNaN(b))return 61;var w=ae.getStreamFromFD(t),D=Yn(w,i,s,b);return $[y>>>2]=D,0}catch(x){if(typeof p>"u"||x.name!=="ErrnoError")throw x;return x.errno}}function ys(t,i,s,c){try{var h=ae.getStreamFromFD(t),y=Kn(h,i,s);return $[c>>>2]=y,0}catch(b){if(typeof p>"u"||b.name!=="ErrnoError")throw b;return b.errno}}function bs(t,i,s,c,h){try{var y=qr(i,s);if(isNaN(y))return 61;var b=ae.getStreamFromFD(t);return p.llseek(b,y,c),ee=[b.position>>>0,(N=b.position,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[h>>>2]=ee[0],v[h+4>>>2]=ee[1],b.getdents&&y===0&&c===0&&(b.getdents=null),0}catch(w){if(typeof p>"u"||w.name!=="ErrnoError")throw w;return w.errno}}function vs(t){try{var i=ae.getStreamFromFD(t);return i.stream_ops&&i.stream_ops.fsync?i.stream_ops.fsync(i):0}catch(s){if(typeof p>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function ws(t,i,s,c){try{var h=ae.getStreamFromFD(t),y=Yn(h,i,s);return $[c>>>2]=y,0}catch(b){if(typeof p>"u"||b.name!=="ErrnoError")throw b;return b.errno}}function Xn(t,i,s,c){var h=0,y=0,b=0,w=0,D=0,x=0,F;function z(H,j,P,U,ne,Z){var M,W,be,ce;return W=H===10?28:16,ne=H===10?Dt(ne):Ur(ne),M=jr(W),ce=cn(M,H,ne,Z),O(!ce),be=jr(32),v[be+4>>>2]=H,v[be+8>>>2]=j,v[be+12>>>2]=P,$[be+24>>>2]=U,$[be+20>>>2]=M,H===10?v[be+16>>>2]=28:v[be+16>>>2]=16,v[be+28>>>2]=0,be}if(s&&(b=v[s>>>2],w=v[s+4>>>2],D=v[s+8>>>2],x=v[s+12>>>2]),D&&!x&&(x=D===2?17:6),!D&&x&&(D=x===17?2:1),x===0&&(x=6),D===0&&(D=1),!t&&!i)return-2;if(b&-1088||s!==0&&v[s>>>2]&2&&!t)return-1;if(b&32)return-2;if(D!==0&&D!==1&&D!==2)return-7;if(w!==0&&w!==2&&w!==10)return-6;if(i&&(i=rr(i),y=parseInt(i,10),isNaN(y)))return b&1024?-2:-8;if(!t)return w===0&&(w=2),b&1||(w===2?h=Mt(2130706433):h=[0,0,0,1]),F=z(w,D,x,null,h,y),$[c>>>2]=F,0;if(t=rr(t),h=Hr(t),h!==null)if(w===0||w===2)w=2;else if(w===10&&b&8)h=[0,0,Mt(65535),h],w=10;else return-2;else if(h=an(t),h!==null)if(w===0||w===10)w=10;else return-2;return h!=null?(F=z(w,D,x,t,h,y),$[c>>>2]=F,0):b&4?-2:(t=Qe.lookup_name(t),h=Hr(t),w===0?w=2:w===10&&(h=[0,0,Mt(65535),h]),F=z(w,D,x,null,h,y),$[c>>>2]=F,0)}function Qn(t,i){return Lr(re.subarray(t>>>0,t+i>>>0)),0}function Es(t,i,s,c,h,y,b){var w=Ye(t,i);if(w.errno)return-6;var D=w.port,x=w.addr,F=!1;if(s&&c){var z;if(b&1||!(z=Qe.lookup_addr(x))){if(b&8)return-2}else x=z;var H=ot(x,s,c);H+1>=c&&(F=!0)}if(h&&y){D=""+D;var H=ot(D,h,y);H+1>=y&&(F=!0)}return F?-12:0}function Jn(t,i){for(var s=0,c=0;c<=i;s+=t[c++]);return s}var Zn=[31,29,31,30,31,30,31,31,30,31,30,31],ei=[31,28,31,30,31,30,31,31,30,31,30,31];function Ss(t,i){for(var s=new Date(t.getTime());i>0;){var c=at(s.getFullYear()),h=s.getMonth(),y=(c?Zn:ei)[h];if(i>y-s.getDate())i-=y-s.getDate()+1,s.setDate(1),h<11?s.setMonth(h+1):(s.setMonth(0),s.setFullYear(s.getFullYear()+1));else return s.setDate(s.getDate()+i),s}return s}function ri(t,i){X.set(t,i>>>0)}function ks(t,i,s,c){var h=v[c+40>>>2],y={tm_sec:v[c>>>2],tm_min:v[c+4>>>2],tm_hour:v[c+8>>>2],tm_mday:v[c+12>>>2],tm_mon:v[c+16>>>2],tm_year:v[c+20>>>2],tm_wday:v[c+24>>>2],tm_yday:v[c+28>>>2],tm_isdst:v[c+32>>>2],tm_gmtoff:v[c+36>>>2],tm_zone:h?rr(h):""},b=rr(s),w={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var D in w)b=b.replace(new RegExp(D,"g"),w[D]);var x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],F=["January","February","March","April","May","June","July","August","September","October","November","December"];function z(M,W,be){for(var ce=typeof M=="number"?M.toString():M||"";ce.length<W;)ce=be[0]+ce;return ce}function H(M,W){return z(M,W,"0")}function j(M,W){function be(Me){return Me<0?-1:Me>0?1:0}var ce;return(ce=be(M.getFullYear()-W.getFullYear()))===0&&(ce=be(M.getMonth()-W.getMonth()))===0&&(ce=be(M.getDate()-W.getDate())),ce}function P(M){switch(M.getDay()){case 0:return new Date(M.getFullYear()-1,11,29);case 1:return M;case 2:return new Date(M.getFullYear(),0,3);case 3:return new Date(M.getFullYear(),0,2);case 4:return new Date(M.getFullYear(),0,1);case 5:return new Date(M.getFullYear()-1,11,31);case 6:return new Date(M.getFullYear()-1,11,30)}}function U(M){var W=Ss(new Date(M.tm_year+1900,0,1),M.tm_yday),be=new Date(W.getFullYear(),0,4),ce=new Date(W.getFullYear()+1,0,4),Me=P(be),Ce=P(ce);return j(Me,W)<=0?j(Ce,W)<=0?W.getFullYear()+1:W.getFullYear():W.getFullYear()-1}var ne={"%a":function(M){return x[M.tm_wday].substring(0,3)},"%A":function(M){return x[M.tm_wday]},"%b":function(M){return F[M.tm_mon].substring(0,3)},"%B":function(M){return F[M.tm_mon]},"%C":function(M){var W=M.tm_year+1900;return H(W/100|0,2)},"%d":function(M){return H(M.tm_mday,2)},"%e":function(M){return z(M.tm_mday,2," ")},"%g":function(M){return U(M).toString().substring(2)},"%G":function(M){return U(M)},"%H":function(M){return H(M.tm_hour,2)},"%I":function(M){var W=M.tm_hour;return W==0?W=12:W>12&&(W-=12),H(W,2)},"%j":function(M){return H(M.tm_mday+Jn(at(M.tm_year+1900)?Zn:ei,M.tm_mon-1),3)},"%m":function(M){return H(M.tm_mon+1,2)},"%M":function(M){return H(M.tm_min,2)},"%n":function(){return`
`},"%p":function(M){return M.tm_hour>=0&&M.tm_hour<12?"AM":"PM"},"%S":function(M){return H(M.tm_sec,2)},"%t":function(){return"	"},"%u":function(M){return M.tm_wday||7},"%U":function(M){var W=M.tm_yday+7-M.tm_wday;return H(Math.floor(W/7),2)},"%V":function(M){var W=Math.floor((M.tm_yday+7-(M.tm_wday+6)%7)/7);if((M.tm_wday+371-M.tm_yday-2)%7<=2&&W++,W){if(W==53){var ce=(M.tm_wday+371-M.tm_yday)%7;ce!=4&&(ce!=3||!at(M.tm_year))&&(W=1)}}else{W=52;var be=(M.tm_wday+7-M.tm_yday-1)%7;(be==4||be==5&&at(M.tm_year%400-1))&&W++}return H(W,2)},"%w":function(M){return M.tm_wday},"%W":function(M){var W=M.tm_yday+7-(M.tm_wday+6)%7;return H(Math.floor(W/7),2)},"%y":function(M){return(M.tm_year+1900).toString().substring(2)},"%Y":function(M){return M.tm_year+1900},"%z":function(M){var W=M.tm_gmtoff,be=W>=0;return W=Math.abs(W)/60,W=W/60*100+W%60,(be?"+":"-")+("0000"+W).slice(-4)},"%Z":function(M){return M.tm_zone},"%%":function(){return"%"}};b=b.replace(/%%/g,"\0\0");for(var D in ne)b.includes(D)&&(b=b.replace(new RegExp(D,"g"),ne[D](y)));b=b.replace(/\0\0/g,"%");var Z=Br(b,!1);return Z.length>i?0:(ri(Z,t),Z.length-1)}function Ds(t,i,s,c,h){return ks(t,i,s,c)}function As(){L("missing function: unzClose"),Q(-1)}function Ts(){L("missing function: unzCloseCurrentFile"),Q(-1)}function Rs(){L("missing function: unzGetCurrentFileInfo"),Q(-1)}function Ps(){L("missing function: unzGetCurrentFileInfo64"),Q(-1)}function xs(){L("missing function: unzGetGlobalInfo"),Q(-1)}function Cs(){L("missing function: unzGoToFirstFile"),Q(-1)}function Fs(){L("missing function: unzGoToNextFile"),Q(-1)}function Os(){L("missing function: unzLocateFile"),Q(-1)}function Ms(){L("missing function: unzOpen2"),Q(-1)}function Ns(){L("missing function: unzOpenCurrentFile"),Q(-1)}function Ls(){L("missing function: unzReadCurrentFile"),Q(-1)}function Bs(t){ge=t,Yt()||(e.onExit&&e.onExit(t),V=!0),k(t,new en(t))}function Is(t,i){ge=t,Bs(t)}function ti(t){if(t instanceof en||t=="unwind")return ge;k(1,t)}function Pt(t){var i=e["_"+t];return i}function xt(t){var i=_r(t)+1,s=ht(i);return ot(t,s,i),s}function Us(t,i,s,c,h){var y={string:P=>{var U=0;return P!=null&&P!==0&&(U=xt(P)),U},array:P=>{var U=ht(P.length);return ri(P,U),U}};function b(P){return i==="string"?rr(P):i==="boolean"?!!P:P}var w=Pt(t),D=[],x=0;if(c)for(var F=0;F<c.length;F++){var z=y[s[F]];z?(x===0&&(x=Wr()),D[F]=z(c[F])):D[F]=c[F]}var H=w.apply(null,D);function j(P){return x!==0&&_n(x),b(P)}return H=j(H),H}var Hs=function(t,i,s,c){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=p.nextInode++,this.name=i,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=c},Ct=365,lt=146;Object.defineProperties(Hs.prototype,{read:{get:function(){return(this.mode&Ct)===Ct},set:function(t){t?this.mode|=Ct:this.mode&=~Ct}},write:{get:function(){return(this.mode&lt)===lt},set:function(t){t?this.mode|=lt:this.mode&=~lt}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=Hs,p.createPreloadedFile=Ir,p.staticInit();var qs={g:so,T:ao,U:uo,m:co,o:lo,c:fo,z:_o,f:ho,b:po,n:mo,h:go,a:yo,Aa:dr,ua:sn,ya:wo,xa:Tt,qa:Eo,d:it,pa:So,N:ko,ka:Do,sa:Ao,ta:To,I:Ro,ma:Po,la:xo,na:Co,J:Fo,va:Oo,ia:Mo,D:No,wa:Lo,F:Bo,oa:Io,E:st,Ca:Ho,W:$o,X:Go,e:zo,Ba:Vo,ba:Ko,ca:Yo,$:Xo,aa:Qo,B:Jo,Z:Zo,M:es,_:rs,ea:ts,p:ns,da:is,C:os,fa:ss,Y:Wn,A:as,ga:$n,K:us,Da:cs,i:Rt,za:ls,Fa:fs,L:zn,R:hs,k:Vn,V:ps,P:ms,O:gs,H:ys,Q:bs,ja:vs,u:ws,G:Xn,ha:Qn,ra:Es,Ea:Ds,j:As,t:Ts,x:Rs,q:Ps,S:xs,y:Cs,w:Fs,s:Os,v:Ms,r:Ns,l:Ls},Xc=oo(),js=function(){return(js=e.asm.Ha).apply(null,arguments)},ni=e._main=function(){return(ni=e._main=e.asm.Ia).apply(null,arguments)},Ws=e._duckdb_web_fs_glob_add_path=function(){return(Ws=e._duckdb_web_fs_glob_add_path=e.asm.Ka).apply(null,arguments)},$s=e._duckdb_web_clear_response=function(){return($s=e._duckdb_web_clear_response=e.asm.La).apply(null,arguments)},Gs=e._duckdb_web_fail_with=function(){return(Gs=e._duckdb_web_fail_with=e.asm.Ma).apply(null,arguments)},zs=e._duckdb_web_reset=function(){return(zs=e._duckdb_web_reset=e.asm.Na).apply(null,arguments)},Vs=e._duckdb_web_connect=function(){return(Vs=e._duckdb_web_connect=e.asm.Oa).apply(null,arguments)},Ks=e._duckdb_web_disconnect=function(){return(Ks=e._duckdb_web_disconnect=e.asm.Pa).apply(null,arguments)},Ys=e._duckdb_web_flush_files=function(){return(Ys=e._duckdb_web_flush_files=e.asm.Qa).apply(null,arguments)},Xs=e._duckdb_web_flush_file=function(){return(Xs=e._duckdb_web_flush_file=e.asm.Ra).apply(null,arguments)},Qs=e._duckdb_web_open=function(){return(Qs=e._duckdb_web_open=e.asm.Sa).apply(null,arguments)},Js=e._duckdb_web_get_global_file_info=function(){return(Js=e._duckdb_web_get_global_file_info=e.asm.Ta).apply(null,arguments)},Zs=e._duckdb_web_collect_file_stats=function(){return(Zs=e._duckdb_web_collect_file_stats=e.asm.Ua).apply(null,arguments)},ea=e._duckdb_web_export_file_stats=function(){return(ea=e._duckdb_web_export_file_stats=e.asm.Va).apply(null,arguments)},ra=e._duckdb_web_fs_drop_file=function(){return(ra=e._duckdb_web_fs_drop_file=e.asm.Wa).apply(null,arguments)},ta=e._duckdb_web_fs_drop_files=function(){return(ta=e._duckdb_web_fs_drop_files=e.asm.Xa).apply(null,arguments)},na=e._duckdb_web_fs_glob_file_infos=function(){return(na=e._duckdb_web_fs_glob_file_infos=e.asm.Ya).apply(null,arguments)},ia=e._duckdb_web_fs_get_file_info_by_id=function(){return(ia=e._duckdb_web_fs_get_file_info_by_id=e.asm.Za).apply(null,arguments)},oa=e._duckdb_web_fs_get_file_info_by_name=function(){return(oa=e._duckdb_web_fs_get_file_info_by_name=e.asm._a).apply(null,arguments)},sa=e._duckdb_web_fs_register_file_url=function(){return(sa=e._duckdb_web_fs_register_file_url=e.asm.$a).apply(null,arguments)},aa=e._duckdb_web_fs_register_file_buffer=function(){return(aa=e._duckdb_web_fs_register_file_buffer=e.asm.ab).apply(null,arguments)},ua=e._duckdb_web_copy_file_to_buffer=function(){return(ua=e._duckdb_web_copy_file_to_buffer=e.asm.bb).apply(null,arguments)},ca=e._duckdb_web_copy_file_to_path=function(){return(ca=e._duckdb_web_copy_file_to_path=e.asm.cb).apply(null,arguments)},la=e._duckdb_web_get_version=function(){return(la=e._duckdb_web_get_version=e.asm.db).apply(null,arguments)},fa=e._duckdb_web_get_feature_flags=function(){return(fa=e._duckdb_web_get_feature_flags=e.asm.eb).apply(null,arguments)},da=e._duckdb_web_tokenize=function(){return(da=e._duckdb_web_tokenize=e.asm.fb).apply(null,arguments)},_a=e._duckdb_web_udf_scalar_create=function(){return(_a=e._duckdb_web_udf_scalar_create=e.asm.gb).apply(null,arguments)},ha=e._duckdb_web_prepared_create=function(){return(ha=e._duckdb_web_prepared_create=e.asm.hb).apply(null,arguments)},pa=e._duckdb_web_prepared_close=function(){return(pa=e._duckdb_web_prepared_close=e.asm.ib).apply(null,arguments)},ma=e._duckdb_web_prepared_run=function(){return(ma=e._duckdb_web_prepared_run=e.asm.jb).apply(null,arguments)},ga=e._duckdb_web_prepared_send=function(){return(ga=e._duckdb_web_prepared_send=e.asm.kb).apply(null,arguments)},ya=e._duckdb_web_query_run=function(){return(ya=e._duckdb_web_query_run=e.asm.lb).apply(null,arguments)},ba=e._duckdb_web_pending_query_start=function(){return(ba=e._duckdb_web_pending_query_start=e.asm.mb).apply(null,arguments)},va=e._duckdb_web_pending_query_poll=function(){return(va=e._duckdb_web_pending_query_poll=e.asm.nb).apply(null,arguments)},wa=e._duckdb_web_pending_query_cancel=function(){return(wa=e._duckdb_web_pending_query_cancel=e.asm.ob).apply(null,arguments)},Ea=e._duckdb_web_query_fetch_results=function(){return(Ea=e._duckdb_web_query_fetch_results=e.asm.pb).apply(null,arguments)},ii=e._duckdb_web_get_tablenames=function(){return(ii=e._duckdb_web_get_tablenames=e.asm.qb).apply(null,arguments)},Ft=e._duckdb_web_insert_arrow_from_ipc_stream=function(){return(Ft=e._duckdb_web_insert_arrow_from_ipc_stream=e.asm.rb).apply(null,arguments)},Ot=e._duckdb_web_insert_csv_from_path=function(){return(Ot=e._duckdb_web_insert_csv_from_path=e.asm.sb).apply(null,arguments)},fn=e._duckdb_web_insert_json_from_path=function(){return(fn=e._duckdb_web_insert_json_from_path=e.asm.tb).apply(null,arguments)},ft=function(){return(ft=e.asm.ub).apply(null,arguments)},Mt=function(){return(Mt=e.asm.vb).apply(null,arguments)},dt=function(){return(dt=e.asm.wb).apply(null,arguments)},Nt=function(){return(Nt=e.asm.xb).apply(null,arguments)},jr=e._malloc=function(){return(jr=e._malloc=e.asm.yb).apply(null,arguments)},dn=e._free=function(){return(dn=e._free=e.asm.zb).apply(null,arguments)},_t=function(){return(_t=e.asm.Ab).apply(null,arguments)},Wr=function(){return(Wr=e.asm.Bb).apply(null,arguments)},_n=function(){return(_n=e.asm.Cb).apply(null,arguments)},ht=function(){return(ht=e.asm.Db).apply(null,arguments)},hn=function(){return(hn=e.asm.Eb).apply(null,arguments)};e.stackAlloc=ht,e.stackSave=Wr,e.stackRestore=_n,e.ccall=Us;var o;fr=function t(){o||l(),o||(fr=t)};function a(){var t=ni,i=0,s=0;try{var c=t(i,s);return Is(c,!0),c}catch(h){return ti(h)}}function l(){if(qe>0||(K(),qe>0))return;function t(){o||(o=!0,e.calledRun=!0,!V&&(Te(),G(),u(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),_&&a(),pe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),t()},1)):t()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();var _=!0;return e.noInitialRun&&(_=!1),l(),r.ready}})();typeof Ji=="object"&&typeof zc=="object"?zc.exports=Gc:typeof define=="function"&&define.amd?define([],function(){return Gc}):typeof Ji=="object"&&(Ji.DuckDB=Gc)});var ph=q((eo,Yc)=>{"use strict";var Kc=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){var e=typeof r<"u"?r:{},u,f;e.ready=new Promise((o,a)=>{u=o,f=a});var d=Object.assign({},e),g=[],E="./this.program",k=(o,a)=>{throw a},A=typeof window=="object",S=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T="";function te(o){return e.locateFile?e.locateFile(o,T):T+o}var I,B,Y,ie;if(R){var me=require("fs"),de=require("path");S?T=de.dirname(T)+"/":T=__dirname+"/",I=(o,a)=>(o=Qt(o)?new URL(o):de.normalize(o),me.readFileSync(o,a?void 0:"utf8")),Y=o=>{var a=I(o,!0);return a.buffer||(a=new Uint8Array(a)),a},B=(o,a,l,_=!0)=>{o=Qt(o)?new URL(o):de.normalize(o),me.readFile(o,_?void 0:"utf8",(t,i)=>{t?l(t):a(_?i.buffer:i)})},!e.thisProgram&&process.argv.length>1&&(E=process.argv[1].replace(/\\/g,"/")),g=process.argv.slice(2),k=(o,a)=>{throw process.exitCode=o,a},e.inspect=()=>"[Emscripten Module object]"}else(A||S)&&(S?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),n&&(T=n),T.indexOf("blob:")!==0?T=T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):T="",I=o=>{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.send(null),a.responseText},S&&(Y=o=>{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),B=(o,a,l)=>{var _=new XMLHttpRequest;_.open("GET",o,!0),_.responseType="arraybuffer",_.onload=()=>{if(_.status==200||_.status==0&&_.response){a(_.response);return}l()},_.onerror=l,_.send(null)},ie=o=>document.title=o);var ke=e.print||console.log.bind(console),L=e.printErr||console.error.bind(console);Object.assign(e,d),d=null,e.arguments&&(g=e.arguments),e.thisProgram&&(E=e.thisProgram),e.quit&&(k=e.quit);var _e;e.wasmBinary&&(_e=e.wasmBinary);var ue=e.noExitRuntime||!0;typeof WebAssembly!="object"&&Q("no native wasm support detected");var J,V=!1,ge;function O(o,a){o||Q(a)}var X,re,he,C,v,$,Ee,Xe;function Ge(){var o=J.buffer;e.HEAP8=X=new Int8Array(o),e.HEAP16=he=new Int16Array(o),e.HEAP32=v=new Int32Array(o),e.HEAPU8=re=new Uint8Array(o),e.HEAPU16=C=new Uint16Array(o),e.HEAPU32=$=new Uint32Array(o),e.HEAPF32=Ee=new Float32Array(o),e.HEAPF64=Xe=new Float64Array(o)}var We,gr=[],tt=[],Mr=[],Ze=[],ye=!1,Nr=0;function Yt(){return ue||Nr>0}function K(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)xe(e.preRun.shift());Dr(gr)}function Te(){ye=!0,!e.noFSInit&&!m.init.initialized&&m.init(),m.ignorePermissions=!1,ar.init(),p.root=m.mount(p,{},null),Dr(tt)}function G(){Dr(Mr)}function pe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Le(e.postRun.shift());Dr(Ze)}function xe(o){gr.unshift(o)}function He(o){tt.unshift(o)}function Le(o){Ze.unshift(o)}var qe=0,or=null,fr=null;function gh(o){return o}function nt(o){qe++,e.monitorRunDependencies&&e.monitorRunDependencies(qe)}function kr(o){if(qe--,e.monitorRunDependencies&&e.monitorRunDependencies(qe),qe==0&&(or!==null&&(clearInterval(or),or=null),fr)){var a=fr;fr=null,a()}}function Q(o){e.onAbort&&e.onAbort(o),o="Aborted("+o+")",L(o),V=!0,ge=1,o+=". Build with -sASSERTIONS for more info.",ye&&Nt();var a=new WebAssembly.RuntimeError(o);throw f(a),a}var to="data:application/octet-stream;base64,";function Xt(o){return o.startsWith(to)}function Qt(o){return o.startsWith("file://")}var er;er="./duckdb-eh.wasm",Xt(er)||(er=te(er));function Jt(o){try{if(o==er&&_e)return new Uint8Array(_e);if(Y)return Y(o);throw"both async and sync fetching of the wasm failed"}catch(a){Q(a)}}function no(o){return!_e&&(A||S)&&typeof fetch=="function"?fetch(o,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+o+"'";return a.arrayBuffer()}).catch(()=>Jt(o)):Promise.resolve().then(()=>Jt(o))}function Zt(o,a,l){return no(o).then(_=>WebAssembly.instantiate(_,a)).then(_=>_).then(l,_=>{L("failed to asynchronously prepare wasm: "+_),Q(_)})}function io(o,a,l,_){return!o&&typeof WebAssembly.instantiateStreaming=="function"&&!Xt(a)&&!R&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(t=>{var i=WebAssembly.instantiateStreaming(t,l);return i.then(_,function(s){return L("wasm streaming compile failed: "+s),L("falling back to ArrayBuffer instantiation"),Zt(a,l,_)})}):Zt(a,l,_)}function oo(){var o={a:Us};function a(_,t){var i=_.exports;return e.asm=i,J=e.asm.Fa,Ge(),We=e.asm.Ia,He(e.asm.Ga),kr("wasm-instantiate"),i}nt("wasm-instantiate");function l(_){a(_.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(o,a)}catch(_){L("Module.instantiateWasm callback failed with error: "+_),f(_)}return io(_e,er,o,l).catch(f),{}}var N,ee;function en(o){this.name="ExitStatus",this.message=`Program terminated with exit(${o})`,this.status=o}function Dr(o){for(;o.length>0;)o.shift()(e)}function so(){L("missing function: XML_GetBuffer"),Q(-1)}function ao(){L("missing function: XML_GetErrorCode"),Q(-1)}function uo(){L("missing function: XML_Parse"),Q(-1)}function co(){L("missing function: XML_ParseBuffer"),Q(-1)}function lo(){L("missing function: XML_ParserCreate"),Q(-1)}function fo(){L("missing function: XML_ParserFree"),Q(-1)}function _o(){L("missing function: XML_ResumeParser"),Q(-1)}function ho(){L("missing function: XML_SetCharacterDataHandler"),Q(-1)}function po(){L("missing function: XML_SetElementHandler"),Q(-1)}function mo(){L("missing function: XML_SetUserData"),Q(-1)}function go(){L("missing function: XML_StopParser"),Q(-1)}var Bn="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function In(o,a,l){Q(Bn)}var De={isAbs:o=>o.charAt(0)==="/",splitPath:o=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(o).slice(1)},normalizeArray:(o,a)=>{for(var l=0,_=o.length-1;_>=0;_--){var t=o[_];t==="."?o.splice(_,1):t===".."?(o.splice(_,1),l++):l&&(o.splice(_,1),l--)}if(a)for(;l;l--)o.unshift("..");return o},normalize:o=>{var a=De.isAbs(o),l=o.substr(-1)==="/";return o=De.normalizeArray(o.split("/").filter(_=>!!_),!a).join("/"),!o&&!a&&(o="."),o&&l&&(o+="/"),(a?"/":"")+o},dirname:o=>{var a=De.splitPath(o),l=a[0],_=a[1];return!l&&!_?".":(_&&(_=_.substr(0,_.length-1)),l+_)},basename:o=>{if(o==="/")return"/";o=De.normalize(o),o=o.replace(/\/$/,"");var a=o.lastIndexOf("/");return a===-1?o:o.substr(a+1)},join:function(){var o=Array.prototype.slice.call(arguments);return De.normalize(o.join("/"))},join2:(o,a)=>De.normalize(o+"/"+a)};function yo(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return _=>crypto.getRandomValues(_);if(R)try{var o=require("crypto"),a=o.randomFillSync;if(a)return _=>o.randomFillSync(_);var l=o.randomBytes;return _=>(_.set(l(_.byteLength)),_)}catch{}Q("initRandomDevice")}function St(o){return(St=yo())(o)}var dr={resolve:function(){for(var o="",a=!1,l=arguments.length-1;l>=-1&&!a;l--){var _=l>=0?arguments[l]:m.cwd();if(typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";o=_+"/"+o,a=De.isAbs(_)}return o=De.normalizeArray(o.split("/").filter(t=>!!t),!a).join("/"),(a?"/":"")+o||"."},relative:(o,a)=>{o=dr.resolve(o).substr(1),a=dr.resolve(a).substr(1);function l(y){for(var b=0;b<y.length&&y[b]==="";b++);for(var w=y.length-1;w>=0&&y[w]==="";w--);return b>w?[]:y.slice(b,w-b+1)}for(var _=l(o.split("/")),t=l(a.split("/")),i=Math.min(_.length,t.length),s=i,c=0;c<i;c++)if(_[c]!==t[c]){s=c;break}for(var h=[],c=s;c<_.length;c++)h.push("..");return h=h.concat(t.slice(s)),h.join("/")}};function Se(o){for(var a=0,l=0;l<o.length;++l){var _=o.charCodeAt(l);_<=127?a++:_<=2047?a+=2:_>=55296&&_<=57343?(a+=4,++l):a+=3}return a}function rn(o,a,l,_){if(l>>>=0,!(_>0))return 0;for(var t=l,i=l+_-1,s=0;s<o.length;++s){var c=o.charCodeAt(s);if(c>=55296&&c<=57343){var h=o.charCodeAt(++s);c=65536+((c&1023)<<10)|h&1023}if(c<=127){if(l>=i)break;a[l++>>>0]=c}else if(c<=2047){if(l+1>=i)break;a[l++>>>0]=192|c>>6,a[l++>>>0]=128|c&63}else if(c<=65535){if(l+2>=i)break;a[l++>>>0]=224|c>>12,a[l++>>>0]=128|c>>6&63,a[l++>>>0]=128|c&63}else{if(l+3>=i)break;a[l++>>>0]=240|c>>18,a[l++>>>0]=128|c>>12&63,a[l++>>>0]=128|c>>6&63,a[l++>>>0]=128|c&63}}return a[l>>>0]=0,l-t}function Lr(o,a,l){var _=l>0?l:Se(o)+1,t=new Array(_),i=rn(o,t,0,t.length);return a&&(t.length=i),t}var sr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _r(o,a,l){a>>>=0;for(var _=a+l,t=a;o[t]&&!(t>=_);)++t;if(t-a>16&&o.buffer&&sr)return sr.decode(o.subarray(a,t));for(var i="";a<t;){var s=o[a++];if(!(s&128)){i+=String.fromCharCode(s);continue}var c=o[a++]&63;if((s&224)==192){i+=String.fromCharCode((s&31)<<6|c);continue}var h=o[a++]&63;if((s&240)==224?s=(s&15)<<12|c<<6|h:s=(s&7)<<18|c<<12|h<<6|o[a++]&63,s<65536)i+=String.fromCharCode(s);else{var y=s-65536;i+=String.fromCharCode(55296|y>>10,56320|y&1023)}}return i}var ar={ttys:[],init:function(){},shutdown:function(){},register:function(o,a){ar.ttys[o]={input:[],output:[],ops:a},m.registerDevice(o,ar.stream_ops)},stream_ops:{open:function(o){var a=ar.ttys[o.node.rdev];if(!a)throw new m.ErrnoError(43);o.tty=a,o.seekable=!1},close:function(o){o.tty.ops.fsync(o.tty)},fsync:function(o){o.tty.ops.fsync(o.tty)},read:function(o,a,l,_,t){if(!o.tty||!o.tty.ops.get_char)throw new m.ErrnoError(60);for(var i=0,s=0;s<_;s++){var c;try{c=o.tty.ops.get_char(o.tty)}catch{throw new m.ErrnoError(29)}if(c===void 0&&i===0)throw new m.ErrnoError(6);if(c==null)break;i++,a[l+s]=c}return i&&(o.node.timestamp=Date.now()),i},write:function(o,a,l,_,t){if(!o.tty||!o.tty.ops.put_char)throw new m.ErrnoError(60);try{for(var i=0;i<_;i++)o.tty.ops.put_char(o.tty,a[l+i])}catch{throw new m.ErrnoError(29)}return _&&(o.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(o){if(!o.input.length){var a=null;if(R){var l=256,_=Buffer.alloc(l),t=0;try{t=me.readSync(process.stdin.fd,_,0,l,-1)}catch(i){if(i.toString().includes("EOF"))t=0;else throw i}t>0?a=_.slice(0,t).toString("utf-8"):a=null}else typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`));if(!a)return null;o.input=Lr(a,!0)}return o.input.shift()},put_char:function(o,a){a===null||a===10?(ke(_r(o.output,0)),o.output=[]):a!=0&&o.output.push(a)},fsync:function(o){o.output&&o.output.length>0&&(ke(_r(o.output,0)),o.output=[])}},default_tty1_ops:{put_char:function(o,a){a===null||a===10?(L(_r(o.output,0)),o.output=[]):a!=0&&o.output.push(a)},fsync:function(o){o.output&&o.output.length>0&&(L(_r(o.output,0)),o.output=[])}}};function Br(o,a){return re.fill(0,o,o+a),o}function Un(o,a){return Math.ceil(o/a)*a}function Ar(o){o=Un(o,65536);var a=dt(65536,o);return a?Br(a,o):0}var oe={ops_table:null,mount:function(o){return oe.createNode(null,"/",16895,0)},createNode:function(o,a,l,_){if(m.isBlkdev(l)||m.isFIFO(l))throw new m.ErrnoError(63);oe.ops_table||(oe.ops_table={dir:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr,lookup:oe.node_ops.lookup,mknod:oe.node_ops.mknod,rename:oe.node_ops.rename,unlink:oe.node_ops.unlink,rmdir:oe.node_ops.rmdir,readdir:oe.node_ops.readdir,symlink:oe.node_ops.symlink},stream:{llseek:oe.stream_ops.llseek}},file:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr},stream:{llseek:oe.stream_ops.llseek,read:oe.stream_ops.read,write:oe.stream_ops.write,allocate:oe.stream_ops.allocate,mmap:oe.stream_ops.mmap,msync:oe.stream_ops.msync}},link:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr,readlink:oe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr},stream:m.chrdev_stream_ops}});var t=m.createNode(o,a,l,_);return m.isDir(t.mode)?(t.node_ops=oe.ops_table.dir.node,t.stream_ops=oe.ops_table.dir.stream,t.contents={}):m.isFile(t.mode)?(t.node_ops=oe.ops_table.file.node,t.stream_ops=oe.ops_table.file.stream,t.usedBytes=0,t.contents=null):m.isLink(t.mode)?(t.node_ops=oe.ops_table.link.node,t.stream_ops=oe.ops_table.link.stream):m.isChrdev(t.mode)&&(t.node_ops=oe.ops_table.chrdev.node,t.stream_ops=oe.ops_table.chrdev.stream),t.timestamp=Date.now(),o&&(o.contents[a]=t,o.timestamp=t.timestamp),t},getFileDataAsTypedArray:function(o){return o.contents?o.contents.subarray?o.contents.subarray(0,o.usedBytes):new Uint8Array(o.contents):new Uint8Array(0)},expandFileStorage:function(o,a){a>>>=0;var l=o.contents?o.contents.length:0;if(!(l>=a)){var _=1024*1024;a=Math.max(a,l*(l<_?2:1.125)>>>0),l!=0&&(a=Math.max(a,256));var t=o.contents;o.contents=new Uint8Array(a),o.usedBytes>0&&o.contents.set(t.subarray(0,o.usedBytes),0)}},resizeFileStorage:function(o,a){if(a>>>=0,o.usedBytes!=a)if(a==0)o.contents=null,o.usedBytes=0;else{var l=o.contents;o.contents=new Uint8Array(a),l&&o.contents.set(l.subarray(0,Math.min(a,o.usedBytes))),o.usedBytes=a}},node_ops:{getattr:function(o){var a={};return a.dev=m.isChrdev(o.mode)?o.id:1,a.ino=o.id,a.mode=o.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=o.rdev,m.isDir(o.mode)?a.size=4096:m.isFile(o.mode)?a.size=o.usedBytes:m.isLink(o.mode)?a.size=o.link.length:a.size=0,a.atime=new Date(o.timestamp),a.mtime=new Date(o.timestamp),a.ctime=new Date(o.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(o,a){a.mode!==void 0&&(o.mode=a.mode),a.timestamp!==void 0&&(o.timestamp=a.timestamp),a.size!==void 0&&oe.resizeFileStorage(o,a.size)},lookup:function(o,a){throw m.genericErrors[44]},mknod:function(o,a,l,_){return oe.createNode(o,a,l,_)},rename:function(o,a,l){if(m.isDir(o.mode)){var _;try{_=m.lookupNode(a,l)}catch{}if(_)for(var t in _.contents)throw new m.ErrnoError(55)}delete o.parent.contents[o.name],o.parent.timestamp=Date.now(),o.name=l,a.contents[l]=o,a.timestamp=o.parent.timestamp,o.parent=a},unlink:function(o,a){delete o.contents[a],o.timestamp=Date.now()},rmdir:function(o,a){var l=m.lookupNode(o,a);for(var _ in l.contents)throw new m.ErrnoError(55);delete o.contents[a],o.timestamp=Date.now()},readdir:function(o){var a=[".",".."];for(var l in o.contents)o.contents.hasOwnProperty(l)&&a.push(l);return a},symlink:function(o,a,l){var _=oe.createNode(o,a,41471,0);return _.link=l,_},readlink:function(o){if(!m.isLink(o.mode))throw new m.ErrnoError(28);return o.link}},stream_ops:{read:function(o,a,l,_,t){var i=o.node.contents;if(t>=o.node.usedBytes)return 0;var s=Math.min(o.node.usedBytes-t,_);if(s>8&&i.subarray)a.set(i.subarray(t,t+s),l);else for(var c=0;c<s;c++)a[l+c]=i[t+c];return s},write:function(o,a,l,_,t,i){if(a.buffer===X.buffer&&(i=!1),!_)return 0;var s=o.node;if(s.timestamp=Date.now(),a.subarray&&(!s.contents||s.contents.subarray)){if(i)return s.contents=a.subarray(l,l+_),s.usedBytes=_,_;if(s.usedBytes===0&&t===0)return s.contents=a.slice(l,l+_),s.usedBytes=_,_;if(t+_<=s.usedBytes)return s.contents.set(a.subarray(l,l+_),t),_}if(oe.expandFileStorage(s,t+_),s.contents.subarray&&a.subarray)s.contents.set(a.subarray(l,l+_),t);else for(var c=0;c<_;c++)s.contents[t+c]=a[l+c];return s.usedBytes=Math.max(s.usedBytes,t+_),_},llseek:function(o,a,l){var _=a;if(l===1?_+=o.position:l===2&&m.isFile(o.node.mode)&&(_+=o.node.usedBytes),_<0)throw new m.ErrnoError(28);return _},allocate:function(o,a,l){oe.expandFileStorage(o.node,a+l),o.node.usedBytes=Math.max(o.node.usedBytes,a+l)},mmap:function(o,a,l,_,t){if(!m.isFile(o.node.mode))throw new m.ErrnoError(43);var i,s,c=o.node.contents;if(!(t&2)&&c.buffer===X.buffer)s=!1,i=c.byteOffset;else{if((l>0||l+a<c.length)&&(c.subarray?c=c.subarray(l,l+a):c=Array.prototype.slice.call(c,l,l+a)),s=!0,i=Ar(a),!i)throw new m.ErrnoError(48);i>>>=0,X.set(c,i>>>0)}return{ptr:i,allocated:s}},msync:function(o,a,l,_,t){return oe.stream_ops.write(o,a,0,_,l,!1),0}}};function tn(o,a,l,_){var t=_?"":`al ${o}`;B(o,i=>{O(i,`Loading data file "${o}" failed (no arrayBuffer).`),a(new Uint8Array(i)),t&&kr(t)},i=>{if(l)l();else throw`Loading data file "${o}" failed.`}),t&&nt(t)}var bo=e.preloadPlugins||[];function Hn(o,a,l,_){typeof Browser<"u"&&Browser.init();var t=!1;return bo.forEach(function(i){t||i.canHandle(a)&&(i.handle(o,a,l,_),t=!0)}),t}function fe(o,a,l,_,t,i,s,c,h,y){var b=a?dr.resolve(De.join2(o,a)):o,w=`cp ${b}`;function D(x){function F(z){y&&y(),c||m.createDataFile(o,a,z,_,t,h),i&&i(),kr(w)}Hn(x,b,F,()=>{s&&s(),kr(w)})||F(x)}nt(w),typeof l=="string"?tn(l,x=>D(x),s):D(l)}function vo(o){var a={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},l=a[o];if(typeof l>"u")throw new Error(`Unknown file open mode: ${o}`);return l}function nn(o,a){var l=0;return o&&(l|=365),a&&(l|=146),l}var m={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(o,a={})=>{if(o=dr.resolve(o),!o)return{path:"",node:null};var l={follow_mount:!0,recurse_count:0};if(a=Object.assign(l,a),a.recurse_count>8)throw new m.ErrnoError(32);for(var _=o.split("/").filter(w=>!!w),t=m.root,i="/",s=0;s<_.length;s++){var c=s===_.length-1;if(c&&a.parent)break;if(t=m.lookupNode(t,_[s]),i=De.join2(i,_[s]),m.isMountpoint(t)&&(!c||c&&a.follow_mount)&&(t=t.mounted.root),!c||a.follow)for(var h=0;m.isLink(t.mode);){var y=m.readlink(i);i=dr.resolve(De.dirname(i),y);var b=m.lookupPath(i,{recurse_count:a.recurse_count+1});if(t=b.node,h++>40)throw new m.ErrnoError(32)}}return{path:i,node:t}},getPath:o=>{for(var a;;){if(m.isRoot(o)){var l=o.mount.mountpoint;return a?l[l.length-1]!=="/"?`${l}/${a}`:l+a:l}a=a?`${o.name}/${a}`:o.name,o=o.parent}},hashName:(o,a)=>{for(var l=0,_=0;_<a.length;_++)l=(l<<5)-l+a.charCodeAt(_)|0;return(o+l>>>0)%m.nameTable.length},hashAddNode:o=>{var a=m.hashName(o.parent.id,o.name);o.name_next=m.nameTable[a],m.nameTable[a]=o},hashRemoveNode:o=>{var a=m.hashName(o.parent.id,o.name);if(m.nameTable[a]===o)m.nameTable[a]=o.name_next;else for(var l=m.nameTable[a];l;){if(l.name_next===o){l.name_next=o.name_next;break}l=l.name_next}},lookupNode:(o,a)=>{var l=m.mayLookup(o);if(l)throw new m.ErrnoError(l,o);for(var _=m.hashName(o.id,a),t=m.nameTable[_];t;t=t.name_next){var i=t.name;if(t.parent.id===o.id&&i===a)return t}return m.lookup(o,a)},createNode:(o,a,l,_)=>{var t=new m.FSNode(o,a,l,_);return m.hashAddNode(t),t},destroyNode:o=>{m.hashRemoveNode(o)},isRoot:o=>o===o.parent,isMountpoint:o=>!!o.mounted,isFile:o=>(o&61440)===32768,isDir:o=>(o&61440)===16384,isLink:o=>(o&61440)===40960,isChrdev:o=>(o&61440)===8192,isBlkdev:o=>(o&61440)===24576,isFIFO:o=>(o&61440)===4096,isSocket:o=>(o&49152)===49152,flagsToPermissionString:o=>{var a=["r","w","rw"][o&3];return o&512&&(a+="w"),a},nodePermissions:(o,a)=>m.ignorePermissions?0:a.includes("r")&&!(o.mode&292)||a.includes("w")&&!(o.mode&146)||a.includes("x")&&!(o.mode&73)?2:0,mayLookup:o=>{var a=m.nodePermissions(o,"x");return a||(o.node_ops.lookup?0:2)},mayCreate:(o,a)=>{try{var l=m.lookupNode(o,a);return 20}catch{}return m.nodePermissions(o,"wx")},mayDelete:(o,a,l)=>{var _;try{_=m.lookupNode(o,a)}catch(i){return i.errno}var t=m.nodePermissions(o,"wx");if(t)return t;if(l){if(!m.isDir(_.mode))return 54;if(m.isRoot(_)||m.getPath(_)===m.cwd())return 10}else if(m.isDir(_.mode))return 31;return 0},mayOpen:(o,a)=>o?m.isLink(o.mode)?32:m.isDir(o.mode)&&(m.flagsToPermissionString(a)!=="r"||a&512)?31:m.nodePermissions(o,m.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var o=0;o<=m.MAX_OPEN_FDS;o++)if(!m.streams[o])return o;throw new m.ErrnoError(33)},getStream:o=>m.streams[o],createStream:(o,a=-1)=>(m.FSStream||(m.FSStream=function(){this.shared={}},m.FSStream.prototype={},Object.defineProperties(m.FSStream.prototype,{object:{get:function(){return this.node},set:function(l){this.node=l}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(l){this.shared.flags=l}},position:{get:function(){return this.shared.position},set:function(l){this.shared.position=l}}})),o=Object.assign(new m.FSStream,o),a==-1&&(a=m.nextfd()),o.fd=a,m.streams[a]=o,o),closeStream:o=>{m.streams[o]=null},chrdev_stream_ops:{open:o=>{var a=m.getDevice(o.node.rdev);o.stream_ops=a.stream_ops,o.stream_ops.open&&o.stream_ops.open(o)},llseek:()=>{throw new m.ErrnoError(70)}},major:o=>o>>8,minor:o=>o&255,makedev:(o,a)=>o<<8|a,registerDevice:(o,a)=>{m.devices[o]={stream_ops:a}},getDevice:o=>m.devices[o],getMounts:o=>{for(var a=[],l=[o];l.length;){var _=l.pop();a.push(_),l.push.apply(l,_.mounts)}return a},syncfs:(o,a)=>{typeof o=="function"&&(a=o,o=!1),m.syncFSRequests++,m.syncFSRequests>1&&L(`warning: ${m.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var l=m.getMounts(m.root.mount),_=0;function t(s){return m.syncFSRequests--,a(s)}function i(s){if(s)return i.errored?void 0:(i.errored=!0,t(s));++_>=l.length&&t(null)}l.forEach(s=>{if(!s.type.syncfs)return i(null);s.type.syncfs(s,o,i)})},mount:(o,a,l)=>{var _=l==="/",t=!l,i;if(_&&m.root)throw new m.ErrnoError(10);if(!_&&!t){var s=m.lookupPath(l,{follow_mount:!1});if(l=s.path,i=s.node,m.isMountpoint(i))throw new m.ErrnoError(10);if(!m.isDir(i.mode))throw new m.ErrnoError(54)}var c={type:o,opts:a,mountpoint:l,mounts:[]},h=o.mount(c);return h.mount=c,c.root=h,_?m.root=h:i&&(i.mounted=c,i.mount&&i.mount.mounts.push(c)),h},unmount:o=>{var a=m.lookupPath(o,{follow_mount:!1});if(!m.isMountpoint(a.node))throw new m.ErrnoError(28);var l=a.node,_=l.mounted,t=m.getMounts(_);Object.keys(m.nameTable).forEach(s=>{for(var c=m.nameTable[s];c;){var h=c.name_next;t.includes(c.mount)&&m.destroyNode(c),c=h}}),l.mounted=null;var i=l.mount.mounts.indexOf(_);l.mount.mounts.splice(i,1)},lookup:(o,a)=>o.node_ops.lookup(o,a),mknod:(o,a,l)=>{var _=m.lookupPath(o,{parent:!0}),t=_.node,i=De.basename(o);if(!i||i==="."||i==="..")throw new m.ErrnoError(28);var s=m.mayCreate(t,i);if(s)throw new m.ErrnoError(s);if(!t.node_ops.mknod)throw new m.ErrnoError(63);return t.node_ops.mknod(t,i,a,l)},create:(o,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,m.mknod(o,a,0)),mkdir:(o,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,m.mknod(o,a,0)),mkdirTree:(o,a)=>{for(var l=o.split("/"),_="",t=0;t<l.length;++t)if(l[t]){_+="/"+l[t];try{m.mkdir(_,a)}catch(i){if(i.errno!=20)throw i}}},mkdev:(o,a,l)=>(typeof l>"u"&&(l=a,a=438),a|=8192,m.mknod(o,a,l)),symlink:(o,a)=>{if(!dr.resolve(o))throw new m.ErrnoError(44);var l=m.lookupPath(a,{parent:!0}),_=l.node;if(!_)throw new m.ErrnoError(44);var t=De.basename(a),i=m.mayCreate(_,t);if(i)throw new m.ErrnoError(i);if(!_.node_ops.symlink)throw new m.ErrnoError(63);return _.node_ops.symlink(_,t,o)},rename:(o,a)=>{var l=De.dirname(o),_=De.dirname(a),t=De.basename(o),i=De.basename(a),s,c,h;if(s=m.lookupPath(o,{parent:!0}),c=s.node,s=m.lookupPath(a,{parent:!0}),h=s.node,!c||!h)throw new m.ErrnoError(44);if(c.mount!==h.mount)throw new m.ErrnoError(75);var y=m.lookupNode(c,t),b=dr.relative(o,_);if(b.charAt(0)!==".")throw new m.ErrnoError(28);if(b=dr.relative(a,l),b.charAt(0)!==".")throw new m.ErrnoError(55);var w;try{w=m.lookupNode(h,i)}catch{}if(y!==w){var D=m.isDir(y.mode),x=m.mayDelete(c,t,D);if(x)throw new m.ErrnoError(x);if(x=w?m.mayDelete(h,i,D):m.mayCreate(h,i),x)throw new m.ErrnoError(x);if(!c.node_ops.rename)throw new m.ErrnoError(63);if(m.isMountpoint(y)||w&&m.isMountpoint(w))throw new m.ErrnoError(10);if(h!==c&&(x=m.nodePermissions(c,"w"),x))throw new m.ErrnoError(x);m.hashRemoveNode(y);try{c.node_ops.rename(y,h,i)}catch(F){throw F}finally{m.hashAddNode(y)}}},rmdir:o=>{var a=m.lookupPath(o,{parent:!0}),l=a.node,_=De.basename(o),t=m.lookupNode(l,_),i=m.mayDelete(l,_,!0);if(i)throw new m.ErrnoError(i);if(!l.node_ops.rmdir)throw new m.ErrnoError(63);if(m.isMountpoint(t))throw new m.ErrnoError(10);l.node_ops.rmdir(l,_),m.destroyNode(t)},readdir:o=>{var a=m.lookupPath(o,{follow:!0}),l=a.node;if(!l.node_ops.readdir)throw new m.ErrnoError(54);return l.node_ops.readdir(l)},unlink:o=>{var a=m.lookupPath(o,{parent:!0}),l=a.node;if(!l)throw new m.ErrnoError(44);var _=De.basename(o),t=m.lookupNode(l,_),i=m.mayDelete(l,_,!1);if(i)throw new m.ErrnoError(i);if(!l.node_ops.unlink)throw new m.ErrnoError(63);if(m.isMountpoint(t))throw new m.ErrnoError(10);l.node_ops.unlink(l,_),m.destroyNode(t)},readlink:o=>{var a=m.lookupPath(o),l=a.node;if(!l)throw new m.ErrnoError(44);if(!l.node_ops.readlink)throw new m.ErrnoError(28);return dr.resolve(m.getPath(l.parent),l.node_ops.readlink(l))},stat:(o,a)=>{var l=m.lookupPath(o,{follow:!a}),_=l.node;if(!_)throw new m.ErrnoError(44);if(!_.node_ops.getattr)throw new m.ErrnoError(63);return _.node_ops.getattr(_)},lstat:o=>m.stat(o,!0),chmod:(o,a,l)=>{var _;if(typeof o=="string"){var t=m.lookupPath(o,{follow:!l});_=t.node}else _=o;if(!_.node_ops.setattr)throw new m.ErrnoError(63);_.node_ops.setattr(_,{mode:a&4095|_.mode&-4096,timestamp:Date.now()})},lchmod:(o,a)=>{m.chmod(o,a,!0)},fchmod:(o,a)=>{var l=m.getStream(o);if(!l)throw new m.ErrnoError(8);m.chmod(l.node,a)},chown:(o,a,l,_)=>{var t;if(typeof o=="string"){var i=m.lookupPath(o,{follow:!_});t=i.node}else t=o;if(!t.node_ops.setattr)throw new m.ErrnoError(63);t.node_ops.setattr(t,{timestamp:Date.now()})},lchown:(o,a,l)=>{m.chown(o,a,l,!0)},fchown:(o,a,l)=>{var _=m.getStream(o);if(!_)throw new m.ErrnoError(8);m.chown(_.node,a,l)},truncate:(o,a)=>{if(a<0)throw new m.ErrnoError(28);var l;if(typeof o=="string"){var _=m.lookupPath(o,{follow:!0});l=_.node}else l=o;if(!l.node_ops.setattr)throw new m.ErrnoError(63);if(m.isDir(l.mode))throw new m.ErrnoError(31);if(!m.isFile(l.mode))throw new m.ErrnoError(28);var t=m.nodePermissions(l,"w");if(t)throw new m.ErrnoError(t);l.node_ops.setattr(l,{size:a,timestamp:Date.now()})},ftruncate:(o,a)=>{var l=m.getStream(o);if(!l)throw new m.ErrnoError(8);if(!(l.flags&2097155))throw new m.ErrnoError(28);m.truncate(l.node,a)},utime:(o,a,l)=>{var _=m.lookupPath(o,{follow:!0}),t=_.node;t.node_ops.setattr(t,{timestamp:Math.max(a,l)})},open:(o,a,l)=>{if(o==="")throw new m.ErrnoError(44);a=typeof a=="string"?vo(a):a,l=typeof l>"u"?438:l,a&64?l=l&4095|32768:l=0;var _;if(typeof o=="object")_=o;else{o=De.normalize(o);try{var t=m.lookupPath(o,{follow:!(a&131072)});_=t.node}catch{}}var i=!1;if(a&64)if(_){if(a&128)throw new m.ErrnoError(20)}else _=m.mknod(o,l,0),i=!0;if(!_)throw new m.ErrnoError(44);if(m.isChrdev(_.mode)&&(a&=-513),a&65536&&!m.isDir(_.mode))throw new m.ErrnoError(54);if(!i){var s=m.mayOpen(_,a);if(s)throw new m.ErrnoError(s)}a&512&&!i&&m.truncate(_,0),a&=-131713;var c=m.createStream({node:_,path:m.getPath(_),flags:a,seekable:!0,position:0,stream_ops:_.stream_ops,ungotten:[],error:!1});return c.stream_ops.open&&c.stream_ops.open(c),e.logReadFiles&&!(a&1)&&(m.readFiles||(m.readFiles={}),o in m.readFiles||(m.readFiles[o]=1)),c},close:o=>{if(m.isClosed(o))throw new m.ErrnoError(8);o.getdents&&(o.getdents=null);try{o.stream_ops.close&&o.stream_ops.close(o)}catch(a){throw a}finally{m.closeStream(o.fd)}o.fd=null},isClosed:o=>o.fd===null,llseek:(o,a,l)=>{if(m.isClosed(o))throw new m.ErrnoError(8);if(!o.seekable||!o.stream_ops.llseek)throw new m.ErrnoError(70);if(l!=0&&l!=1&&l!=2)throw new m.ErrnoError(28);return o.position=o.stream_ops.llseek(o,a,l),o.ungotten=[],o.position},read:(o,a,l,_,t)=>{if(l>>>=0,_<0||t<0)throw new m.ErrnoError(28);if(m.isClosed(o))throw new m.ErrnoError(8);if((o.flags&2097155)===1)throw new m.ErrnoError(8);if(m.isDir(o.node.mode))throw new m.ErrnoError(31);if(!o.stream_ops.read)throw new m.ErrnoError(28);var i=typeof t<"u";if(!i)t=o.position;else if(!o.seekable)throw new m.ErrnoError(70);var s=o.stream_ops.read(o,a,l,_,t);return i||(o.position+=s),s},write:(o,a,l,_,t,i)=>{if(l>>>=0,_<0||t<0)throw new m.ErrnoError(28);if(m.isClosed(o))throw new m.ErrnoError(8);if(!(o.flags&2097155))throw new m.ErrnoError(8);if(m.isDir(o.node.mode))throw new m.ErrnoError(31);if(!o.stream_ops.write)throw new m.ErrnoError(28);o.seekable&&o.flags&1024&&m.llseek(o,0,2);var s=typeof t<"u";if(!s)t=o.position;else if(!o.seekable)throw new m.ErrnoError(70);var c=o.stream_ops.write(o,a,l,_,t,i);return s||(o.position+=c),c},allocate:(o,a,l)=>{if(m.isClosed(o))throw new m.ErrnoError(8);if(a<0||l<=0)throw new m.ErrnoError(28);if(!(o.flags&2097155))throw new m.ErrnoError(8);if(!m.isFile(o.node.mode)&&!m.isDir(o.node.mode))throw new m.ErrnoError(43);if(!o.stream_ops.allocate)throw new m.ErrnoError(138);o.stream_ops.allocate(o,a,l)},mmap:(o,a,l,_,t)=>{if(_&2&&!(t&2)&&(o.flags&2097155)!==2)throw new m.ErrnoError(2);if((o.flags&2097155)===1)throw new m.ErrnoError(2);if(!o.stream_ops.mmap)throw new m.ErrnoError(43);return o.stream_ops.mmap(o,a,l,_,t)},msync:(o,a,l,_,t)=>(l>>>=0,o.stream_ops.msync?o.stream_ops.msync(o,a,l,_,t):0),munmap:o=>0,ioctl:(o,a,l)=>{if(!o.stream_ops.ioctl)throw new m.ErrnoError(59);return o.stream_ops.ioctl(o,a,l)},readFile:(o,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error(`Invalid encoding type "${a.encoding}"`);var l,_=m.open(o,a.flags),t=m.stat(o),i=t.size,s=new Uint8Array(i);return m.read(_,s,0,i,0),a.encoding==="utf8"?l=_r(s,0):a.encoding==="binary"&&(l=s),m.close(_),l},writeFile:(o,a,l={})=>{l.flags=l.flags||577;var _=m.open(o,l.flags,l.mode);if(typeof a=="string"){var t=new Uint8Array(Se(a)+1),i=rn(a,t,0,t.length);m.write(_,t,0,i,void 0,l.canOwn)}else if(ArrayBuffer.isView(a))m.write(_,a,0,a.byteLength,void 0,l.canOwn);else throw new Error("Unsupported data type");m.close(_)},cwd:()=>m.currentPath,chdir:o=>{var a=m.lookupPath(o,{follow:!0});if(a.node===null)throw new m.ErrnoError(44);if(!m.isDir(a.node.mode))throw new m.ErrnoError(54);var l=m.nodePermissions(a.node,"x");if(l)throw new m.ErrnoError(l);m.currentPath=a.path},createDefaultDirectories:()=>{m.mkdir("/tmp"),m.mkdir("/home"),m.mkdir("/home/web_user")},createDefaultDevices:()=>{m.mkdir("/dev"),m.registerDevice(m.makedev(1,3),{read:()=>0,write:(_,t,i,s,c)=>s}),m.mkdev("/dev/null",m.makedev(1,3)),ar.register(m.makedev(5,0),ar.default_tty_ops),ar.register(m.makedev(6,0),ar.default_tty1_ops),m.mkdev("/dev/tty",m.makedev(5,0)),m.mkdev("/dev/tty1",m.makedev(6,0));var o=new Uint8Array(1024),a=0,l=()=>(a===0&&(a=St(o).byteLength),o[--a]);m.createDevice("/dev","random",l),m.createDevice("/dev","urandom",l),m.mkdir("/dev/shm"),m.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{m.mkdir("/proc");var o=m.mkdir("/proc/self");m.mkdir("/proc/self/fd"),m.mount({mount:()=>{var a=m.createNode(o,"fd",16895,73);return a.node_ops={lookup:(l,_)=>{var t=+_,i=m.getStream(t);if(!i)throw new m.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path}};return s.parent=s,s}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?m.createDevice("/dev","stdin",e.stdin):m.symlink("/dev/tty","/dev/stdin"),e.stdout?m.createDevice("/dev","stdout",null,e.stdout):m.symlink("/dev/tty","/dev/stdout"),e.stderr?m.createDevice("/dev","stderr",null,e.stderr):m.symlink("/dev/tty1","/dev/stderr");var o=m.open("/dev/stdin",0),a=m.open("/dev/stdout",1),l=m.open("/dev/stderr",1)},ensureErrnoError:()=>{m.ErrnoError||(m.ErrnoError=function(a,l){this.name="ErrnoError",this.node=l,this.setErrno=function(_){this.errno=_},this.setErrno(a),this.message="FS error"},m.ErrnoError.prototype=new Error,m.ErrnoError.prototype.constructor=m.ErrnoError,[44].forEach(o=>{m.genericErrors[o]=new m.ErrnoError(o),m.genericErrors[o].stack="<generic error, no stack>"}))},staticInit:()=>{m.ensureErrnoError(),m.nameTable=new Array(4096),m.mount(oe,{},"/"),m.createDefaultDirectories(),m.createDefaultDevices(),m.createSpecialDirectories(),m.filesystems={MEMFS:oe}},init:(o,a,l)=>{m.init.initialized=!0,m.ensureErrnoError(),e.stdin=o||e.stdin,e.stdout=a||e.stdout,e.stderr=l||e.stderr,m.createStandardStreams()},quit:()=>{m.init.initialized=!1;for(var o=0;o<m.streams.length;o++){var a=m.streams[o];a&&m.close(a)}},findObject:(o,a)=>{var l=m.analyzePath(o,a);return l.exists?l.object:null},analyzePath:(o,a)=>{try{var l=m.lookupPath(o,{follow:!a});o=l.path}catch{}var _={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var l=m.lookupPath(o,{parent:!0});_.parentExists=!0,_.parentPath=l.path,_.parentObject=l.node,_.name=De.basename(o),l=m.lookupPath(o,{follow:!a}),_.exists=!0,_.path=l.path,_.object=l.node,_.name=l.node.name,_.isRoot=l.path==="/"}catch(t){_.error=t.errno}return _},createPath:(o,a,l,_)=>{o=typeof o=="string"?o:m.getPath(o);for(var t=a.split("/").reverse();t.length;){var i=t.pop();if(i){var s=De.join2(o,i);try{m.mkdir(s)}catch{}o=s}}return s},createFile:(o,a,l,_,t)=>{var i=De.join2(typeof o=="string"?o:m.getPath(o),a),s=nn(_,t);return m.create(i,s)},createDataFile:(o,a,l,_,t,i)=>{var s=a;o&&(o=typeof o=="string"?o:m.getPath(o),s=a?De.join2(o,a):o);var c=nn(_,t),h=m.create(s,c);if(l){if(typeof l=="string"){for(var y=new Array(l.length),b=0,w=l.length;b<w;++b)y[b]=l.charCodeAt(b);l=y}m.chmod(h,c|146);var D=m.open(h,577);m.write(D,l,0,l.length,0,i),m.close(D),m.chmod(h,c)}return h},createDevice:(o,a,l,_)=>{var t=De.join2(typeof o=="string"?o:m.getPath(o),a),i=nn(!!l,!!_);m.createDevice.major||(m.createDevice.major=64);var s=m.makedev(m.createDevice.major++,0);return m.registerDevice(s,{open:c=>{c.seekable=!1},close:c=>{_&&_.buffer&&_.buffer.length&&_(10)},read:(c,h,y,b,w)=>{for(var D=0,x=0;x<b;x++){var F;try{F=l()}catch{throw new m.ErrnoError(29)}if(F===void 0&&D===0)throw new m.ErrnoError(6);if(F==null)break;D++,h[y+x]=F}return D&&(c.node.timestamp=Date.now()),D},write:(c,h,y,b,w)=>{for(var D=0;D<b;D++)try{_(h[y+D])}catch{throw new m.ErrnoError(29)}return b&&(c.node.timestamp=Date.now()),D}}),m.mkdev(t,i,s)},forceLoadFile:o=>{if(o.isDevice||o.isFolder||o.link||o.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(I)try{o.contents=Lr(I(o.url),!0),o.usedBytes=o.contents.length}catch{throw new m.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(o,a,l,_,t)=>{function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(x){if(!(x>this.length-1||x<0)){var F=x%this.chunkSize,z=x/this.chunkSize|0;return this.getter(z)[F]}},i.prototype.setDataGetter=function(x){this.getter=x},i.prototype.cacheLength=function(){var x=new XMLHttpRequest;if(x.open("HEAD",l,!1),x.send(null),!(x.status>=200&&x.status<300||x.status===304))throw new Error("Couldn't load "+l+". Status: "+x.status);var F=Number(x.getResponseHeader("Content-length")),z,H=(z=x.getResponseHeader("Accept-Ranges"))&&z==="bytes",j=(z=x.getResponseHeader("Content-Encoding"))&&z==="gzip",P=1024*1024;H||(P=F);var U=(Z,M)=>{if(Z>M)throw new Error("invalid range ("+Z+", "+M+") or no bytes requested!");if(M>F-1)throw new Error("only "+F+" bytes available! programmer error!");var W=new XMLHttpRequest;if(W.open("GET",l,!1),F!==P&&W.setRequestHeader("Range","bytes="+Z+"-"+M),W.responseType="arraybuffer",W.overrideMimeType&&W.overrideMimeType("text/plain; charset=x-user-defined"),W.send(null),!(W.status>=200&&W.status<300||W.status===304))throw new Error("Couldn't load "+l+". Status: "+W.status);return W.response!==void 0?new Uint8Array(W.response||[]):Lr(W.responseText||"",!0)},ne=this;ne.setDataGetter(Z=>{var M=Z*P,W=(Z+1)*P-1;if(W=Math.min(W,F-1),typeof ne.chunks[Z]>"u"&&(ne.chunks[Z]=U(M,W)),typeof ne.chunks[Z]>"u")throw new Error("doXHR failed!");return ne.chunks[Z]}),(j||!F)&&(P=F=1,F=this.getter(0).length,P=F,ke("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=F,this._chunkSize=P,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!S)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new i;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var c={isDevice:!1,contents:s}}else var c={isDevice:!1,url:l};var h=m.createFile(o,a,c,_,t);c.contents?h.contents=c.contents:c.url&&(h.contents=null,h.url=c.url),Object.defineProperties(h,{usedBytes:{get:function(){return this.contents.length}}});var y={},b=Object.keys(h.stream_ops);b.forEach(D=>{var x=h.stream_ops[D];y[D]=function(){return m.forceLoadFile(h),x.apply(null,arguments)}});function w(D,x,F,z,H){var j=D.node.contents;if(H>=j.length)return 0;var P=Math.min(j.length-H,z);if(j.slice)for(var U=0;U<P;U++)x[F+U]=j[H+U];else for(var U=0;U<P;U++)x[F+U]=j.get(H+U);return P}return y.read=(D,x,F,z,H)=>(m.forceLoadFile(h),w(D,x,F,z,H)),y.mmap=(D,x,F,z,H)=>{m.forceLoadFile(h);var j=Ar(x);if(!j)throw new m.ErrnoError(48);return w(D,X,j,x,F),{ptr:j,allocated:!0}},h.stream_ops=y,h}};function Ir(o,a){return o>>>=0,o?_r(re,o,a):""}var se={DEFAULT_POLLMASK:5,calculateAt:function(o,a,l){if(De.isAbs(a))return a;var _;if(o===-100)_=m.cwd();else{var t=se.getStreamFromFD(o);_=t.path}if(a.length==0){if(!l)throw new m.ErrnoError(44);return _}return De.join2(_,a)},doStat:function(o,a,l){try{var _=o(a)}catch(c){if(c&&c.node&&De.normalize(a)!==De.normalize(m.getPath(c.node)))return-54;throw c}v[l>>>2]=_.dev,v[l+8>>>2]=_.ino,v[l+12>>>2]=_.mode,$[l+16>>>2]=_.nlink,v[l+20>>>2]=_.uid,v[l+24>>>2]=_.gid,v[l+28>>>2]=_.rdev,ee=[_.size>>>0,(N=_.size,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[l+40>>>2]=ee[0],v[l+44>>>2]=ee[1],v[l+48>>>2]=4096,v[l+52>>>2]=_.blocks;var t=_.atime.getTime(),i=_.mtime.getTime(),s=_.ctime.getTime();return ee=[Math.floor(t/1e3)>>>0,(N=Math.floor(t/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[l+56>>>2]=ee[0],v[l+60>>>2]=ee[1],$[l+64>>>2]=t%1e3*1e3,ee=[Math.floor(i/1e3)>>>0,(N=Math.floor(i/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[l+72>>>2]=ee[0],v[l+76>>>2]=ee[1],$[l+80>>>2]=i%1e3*1e3,ee=[Math.floor(s/1e3)>>>0,(N=Math.floor(s/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[l+88>>>2]=ee[0],v[l+92>>>2]=ee[1],$[l+96>>>2]=s%1e3*1e3,ee=[_.ino>>>0,(N=_.ino,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[l+104>>>2]=ee[0],v[l+108>>>2]=ee[1],0},doMsync:function(o,a,l,_,t){if(!m.isFile(a.node.mode))throw new m.ErrnoError(43);if(_&2)return 0;o>>>=0;var i=re.slice(o,o+l);m.msync(a,i,t,l,_)},varargs:void 0,get:function(){se.varargs+=4;var o=v[se.varargs-4>>>2];return o},getStr:function(o){var a=Ir(o);return a},getStreamFromFD:function(o){var a=m.getStream(o);if(!a)throw new m.ErrnoError(8);return a}};function on(o,a,l,_,t){try{for(var i=0,s=a?v[a>>>2]:0,c=a?v[a+4>>>2]:0,h=l?v[l>>>2]:0,y=l?v[l+4>>>2]:0,b=_?v[_>>>2]:0,w=_?v[_+4>>>2]:0,D=0,x=0,F=0,z=0,H=0,j=0,P=(a?v[a>>>2]:0)|(l?v[l>>>2]:0)|(_?v[_>>>2]:0),U=(a?v[a+4>>>2]:0)|(l?v[l+4>>>2]:0)|(_?v[_+4>>>2]:0),ne=function(ce,Me,Ce,pt){return ce<32?Me&pt:Ce&pt},Z=0;Z<o;Z++){var M=1<<Z%32;if(ne(Z,P,U,M)){var W=se.getStreamFromFD(Z),be=se.DEFAULT_POLLMASK;W.stream_ops.poll&&(be=W.stream_ops.poll(W)),be&1&&ne(Z,s,c,M)&&(Z<32?D=D|M:x=x|M,i++),be&4&&ne(Z,h,y,M)&&(Z<32?F=F|M:z=z|M,i++),be&2&&ne(Z,b,w,M)&&(Z<32?H=H|M:j=j|M,i++)}}return a&&(v[a>>>2]=D,v[a+4>>>2]=x),l&&(v[l>>>2]=F,v[l+4>>>2]=z),_&&(v[_>>>2]=H,v[_+4>>>2]=j),i}catch(ce){if(typeof m>"u"||ce.name!=="ErrnoError")throw ce;return-ce.errno}}var p={mount:function(o){return e.websocket=e.websocket&&typeof e.websocket=="object"?e.websocket:{},e.websocket._callbacks={},e.websocket.on=function(a,l){return typeof l=="function"&&(this._callbacks[a]=l),this},e.websocket.emit=function(a,l){typeof this._callbacks[a]=="function"&&this._callbacks[a].call(this,l)},m.createNode(null,"/",16895,0)},createSocket:function(o,a,l){a&=-526337;var _=a==1;if(_&&l&&l!=6)throw new m.ErrnoError(66);var t={family:o,type:a,protocol:l,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:p.websocket_sock_ops},i=p.nextname(),s=m.createNode(p.root,i,49152,0);s.sock=t;var c=m.createStream({path:i,node:s,flags:2,seekable:!1,stream_ops:p.stream_ops});return t.stream=c,t},getSocket:function(o){var a=m.getStream(o);return!a||!m.isSocket(a.node.mode)?null:a.node.sock},stream_ops:{poll:function(o){var a=o.node.sock;return a.sock_ops.poll(a)},ioctl:function(o,a,l){var _=o.node.sock;return _.sock_ops.ioctl(_,a,l)},read:function(o,a,l,_,t){var i=o.node.sock,s=i.sock_ops.recvmsg(i,_);return s?(a.set(s.buffer,l),s.buffer.length):0},write:function(o,a,l,_,t){var i=o.node.sock;return i.sock_ops.sendmsg(i,a,l,_)},close:function(o){var a=o.node.sock;a.sock_ops.close(a)}},nextname:function(){return p.nextname.current||(p.nextname.current=0),"socket["+p.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(o,a,l){var _;if(typeof a=="object"&&(_=a,a=null,l=null),_)if(_._socket)a=_._socket.remoteAddress,l=_._socket.remotePort;else{var t=/ws[s]?:\/\/([^:]+):(\d+)/.exec(_.url);if(!t)throw new Error("WebSocket URL must be in the format ws(s)://address:port");a=t[1],l=parseInt(t[2],10)}else try{var i=e.websocket&&typeof e.websocket=="object",s="ws:#".replace("#","//");if(i&&typeof e.websocket.url=="string"&&(s=e.websocket.url),s==="ws://"||s==="wss://"){var c=a.split("/");s=s+c[0]+":"+l+"/"+c.slice(1).join("/")}var h="binary";i&&typeof e.websocket.subprotocol=="string"&&(h=e.websocket.subprotocol);var y=void 0;h!=="null"&&(h=h.replace(/^ +| +$/g,"").split(/ *, */),y=h),i&&e.websocket.subprotocol===null&&(h="null",y=void 0);var b;R?b=Ln():b=WebSocket,_=new b(s,y),_.binaryType="arraybuffer"}catch{throw new m.ErrnoError(23)}var w={addr:a,port:l,socket:_,dgram_send_queue:[]};return p.websocket_sock_ops.addPeer(o,w),p.websocket_sock_ops.handlePeerEvents(o,w),o.type===2&&typeof o.sport<"u"&&w.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(o.sport&65280)>>8,o.sport&255])),w},getPeer:function(o,a,l){return o.peers[a+":"+l]},addPeer:function(o,a){o.peers[a.addr+":"+a.port]=a},removePeer:function(o,a){delete o.peers[a.addr+":"+a.port]},handlePeerEvents:function(o,a){var l=!0,_=function(){e.websocket.emit("open",o.stream.fd);try{for(var i=a.dgram_send_queue.shift();i;)a.socket.send(i),i=a.dgram_send_queue.shift()}catch{a.socket.close()}};function t(i){if(typeof i=="string"){var s=new TextEncoder;i=s.encode(i)}else{if(O(i.byteLength!==void 0),i.byteLength==0)return;i=new Uint8Array(i)}var c=l;if(l=!1,c&&i.length===10&&i[0]===255&&i[1]===255&&i[2]===255&&i[3]===255&&i[4]==="p".charCodeAt(0)&&i[5]==="o".charCodeAt(0)&&i[6]==="r".charCodeAt(0)&&i[7]==="t".charCodeAt(0)){var h=i[8]<<8|i[9];p.websocket_sock_ops.removePeer(o,a),a.port=h,p.websocket_sock_ops.addPeer(o,a);return}o.recv_queue.push({addr:a.addr,port:a.port,data:i}),e.websocket.emit("message",o.stream.fd)}R?(a.socket.on("open",_),a.socket.on("message",function(i,s){s&&t(new Uint8Array(i).buffer)}),a.socket.on("close",function(){e.websocket.emit("close",o.stream.fd)}),a.socket.on("error",function(i){o.error=14,e.websocket.emit("error",[o.stream.fd,o.error,"ECONNREFUSED: Connection refused"])})):(a.socket.onopen=_,a.socket.onclose=function(){e.websocket.emit("close",o.stream.fd)},a.socket.onmessage=function(s){t(s.data)},a.socket.onerror=function(i){o.error=14,e.websocket.emit("error",[o.stream.fd,o.error,"ECONNREFUSED: Connection refused"])})},poll:function(o){if(o.type===1&&o.server)return o.pending.length?65:0;var a=0,l=o.type===1?p.websocket_sock_ops.getPeer(o,o.daddr,o.dport):null;return(o.recv_queue.length||!l||l&&l.socket.readyState===l.socket.CLOSING||l&&l.socket.readyState===l.socket.CLOSED)&&(a|=65),(!l||l&&l.socket.readyState===l.socket.OPEN)&&(a|=4),(l&&l.socket.readyState===l.socket.CLOSING||l&&l.socket.readyState===l.socket.CLOSED)&&(a|=16),a},ioctl:function(o,a,l){switch(a){case 21531:var _=0;return o.recv_queue.length&&(_=o.recv_queue[0].data.length),v[l>>>2]=_,0;default:return 28}},close:function(o){if(o.server){try{o.server.close()}catch{}o.server=null}for(var a=Object.keys(o.peers),l=0;l<a.length;l++){var _=o.peers[a[l]];try{_.socket.close()}catch{}p.websocket_sock_ops.removePeer(o,_)}return 0},bind:function(o,a,l){if(typeof o.saddr<"u"||typeof o.sport<"u")throw new m.ErrnoError(28);if(o.saddr=a,o.sport=l,o.type===2){o.server&&(o.server.close(),o.server=null);try{o.sock_ops.listen(o,0)}catch(_){if(_.name!=="ErrnoError"||_.errno!==138)throw _}}},connect:function(o,a,l){if(o.server)throw new m.ErrnoError(138);if(typeof o.daddr<"u"&&typeof o.dport<"u"){var _=p.websocket_sock_ops.getPeer(o,o.daddr,o.dport);if(_)throw _.socket.readyState===_.socket.CONNECTING?new m.ErrnoError(7):new m.ErrnoError(30)}var t=p.websocket_sock_ops.createPeer(o,a,l);throw o.daddr=t.addr,o.dport=t.port,new m.ErrnoError(26)},listen:function(o,a){if(!R)throw new m.ErrnoError(138);if(o.server)throw new m.ErrnoError(28);var l=Ln().Server,_=o.saddr;o.server=new l({host:_,port:o.sport}),e.websocket.emit("listen",o.stream.fd),o.server.on("connection",function(t){if(o.type===1){var i=p.createSocket(o.family,o.type,o.protocol),s=p.websocket_sock_ops.createPeer(i,t);i.daddr=s.addr,i.dport=s.port,o.pending.push(i),e.websocket.emit("connection",i.stream.fd)}else p.websocket_sock_ops.createPeer(o,t),e.websocket.emit("connection",o.stream.fd)}),o.server.on("close",function(){e.websocket.emit("close",o.stream.fd),o.server=null}),o.server.on("error",function(t){o.error=23,e.websocket.emit("error",[o.stream.fd,o.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(o){if(!o.server||!o.pending.length)throw new m.ErrnoError(28);var a=o.pending.shift();return a.stream.flags=o.stream.flags,a},getname:function(o,a){var l,_;if(a){if(o.daddr===void 0||o.dport===void 0)throw new m.ErrnoError(53);l=o.daddr,_=o.dport}else l=o.saddr||0,_=o.sport||0;return{addr:l,port:_}},sendmsg:function(o,a,l,_,t,i){if(o.type===2){if((t===void 0||i===void 0)&&(t=o.daddr,i=o.dport),t===void 0||i===void 0)throw new m.ErrnoError(17)}else t=o.daddr,i=o.dport;var s=p.websocket_sock_ops.getPeer(o,t,i);if(o.type===1){if(!s||s.socket.readyState===s.socket.CLOSING||s.socket.readyState===s.socket.CLOSED)throw new m.ErrnoError(53);if(s.socket.readyState===s.socket.CONNECTING)throw new m.ErrnoError(6)}ArrayBuffer.isView(a)&&(l+=a.byteOffset,a=a.buffer);var c;if(c=a.slice(l,l+_),o.type===2&&(!s||s.socket.readyState!==s.socket.OPEN))return(!s||s.socket.readyState===s.socket.CLOSING||s.socket.readyState===s.socket.CLOSED)&&(s=p.websocket_sock_ops.createPeer(o,t,i)),s.dgram_send_queue.push(c),_;try{return s.socket.send(c),_}catch{throw new m.ErrnoError(28)}},recvmsg:function(o,a){if(o.type===1&&o.server)throw new m.ErrnoError(53);var l=o.recv_queue.shift();if(!l){if(o.type===1){var _=p.websocket_sock_ops.getPeer(o,o.daddr,o.dport);if(!_)throw new m.ErrnoError(53);if(_.socket.readyState===_.socket.CLOSING||_.socket.readyState===_.socket.CLOSED)return null;throw new m.ErrnoError(6)}throw new m.ErrnoError(6)}var t=l.data.byteLength||l.data.length,i=l.data.byteOffset||0,s=l.data.buffer||l.data,c=Math.min(a,t),h={buffer:new Uint8Array(s,i,c),addr:l.addr,port:l.port};if(o.type===1&&c<t){var y=t-c;l.data=new Uint8Array(s,i+c,y),o.recv_queue.unshift(l)}return h}}};function rr(o){var a=p.getSocket(o);if(!a)throw new m.ErrnoError(8);return a}function ae(o){return v[ii()>>>2]=o,o}function sn(o){return(o&255)+"."+(o>>8&255)+"."+(o>>16&255)+"."+(o>>24&255)}function Re(o){var a="",l=0,_=0,t=0,i=0,s=0,c=0,h=[o[0]&65535,o[0]>>16,o[1]&65535,o[1]>>16,o[2]&65535,o[2]>>16,o[3]&65535,o[3]>>16],y=!0,b="";for(c=0;c<5;c++)if(h[c]!==0){y=!1;break}if(y){if(b=sn(h[6]|h[7]<<16),h[5]===-1)return a="::ffff:",a+=b,a;if(h[5]===0)return a="::",b==="0.0.0.0"&&(b=""),b==="0.0.0.1"&&(b="1"),a+=b,a}for(l=0;l<8;l++)h[l]===0&&(l-t>1&&(s=0),t=l,s++),s>_&&(_=s,i=l-_+1);for(l=0;l<8;l++){if(_>1&&h[l]===0&&l>=i&&l<i+_){l===i&&(a+=":",i===0&&(a+=":"));continue}a+=Number(fn(h[l]&65535)).toString(16),a+=l<7?":":""}return a}function Tr(o,a){var l=he[o>>>1],_=fn(C[o+2>>>1]),t;switch(l){case 2:if(a!==16)return{errno:28};t=v[o+4>>>2],t=sn(t);break;case 10:if(a!==28)return{errno:28};t=[v[o+8>>>2],v[o+12>>>2],v[o+16>>>2],v[o+20>>>2]],t=Re(t);break;default:return{errno:5}}return{family:l,addr:t,port:_}}function kt(o){for(var a=o.split("."),l=0;l<4;l++){var _=Number(a[l]);if(isNaN(_))return null;a[l]=_}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}function Ur(o){return parseInt(o)}function Dt(o){var a,l,_,t,i=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,s=[];if(!i.test(o))return null;if(o==="::")return[0,0,0,0,0,0,0,0];for(o.startsWith("::")?o=o.replace("::","Z:"):o=o.replace("::",":Z:"),o.indexOf(".")>0?(o=o.replace(new RegExp("[.]","g"),":"),a=o.split(":"),a[a.length-4]=Ur(a[a.length-4])+Ur(a[a.length-3])*256,a[a.length-3]=Ur(a[a.length-2])+Ur(a[a.length-1])*256,a=a.slice(0,a.length-2)):a=o.split(":"),_=0,t=0,l=0;l<a.length;l++)if(typeof a[l]=="string")if(a[l]==="Z"){for(t=0;t<8-a.length+1;t++)s[l+t]=0;_=t-1}else s[l+_]=Ot(parseInt(a[l],16));else s[l+_]=a[l];return[s[1]<<16|s[0],s[3]<<16|s[2],s[5]<<16|s[4],s[7]<<16|s[6]]}var Ye={address_map:{id:1,addrs:{},names:{}},lookup_name:function(o){var a=kt(o);if(a!==null||(a=Dt(o),a!==null))return o;var l;if(Ye.address_map.addrs[o])l=Ye.address_map.addrs[o];else{var _=Ye.address_map.id++;O(_<65535,"exceeded max address mappings of 65535"),l="172.29."+(_&255)+"."+(_&65280),Ye.address_map.names[l]=o,Ye.address_map.addrs[o]=l}return l},lookup_addr:function(o){return Ye.address_map.names[o]?Ye.address_map.names[o]:null}};function Hr(o,a,l){if(l&&o===0)return null;var _=Tr(o,a);if(_.errno)throw new m.ErrnoError(_.errno);return _.addr=Ye.lookup_addr(_.addr)||_.addr,_}function At(o,a,l,_,t,i){try{var s=rr(o),c=Hr(a,l);return s.sock_ops.bind(s,c.addr,c.port),0}catch(h){if(typeof m>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function an(o,a,l,_,t,i){try{var s=rr(o),c=Hr(a,l);return s.sock_ops.connect(s,c.addr,c.port),0}catch(h){if(typeof m>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Qe(o,a,l,_){try{if(a=se.getStr(a),a=se.calculateAt(o,a),l&-8)return-28;var t=m.lookupPath(a,{follow:!0}),i=t.node;if(!i)return-44;var s="";return l&4&&(s+="r"),l&2&&(s+="w"),l&1&&(s+="x"),s&&m.nodePermissions(i,s)?-2:0}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function un(o,a,l){se.varargs=l;try{var _=se.getStreamFromFD(o);switch(a){case 0:{var t=se.get();if(t<0)return-28;var i;return i=m.createStream(_,t),i.fd}case 1:case 2:return 0;case 3:return _.flags;case 4:{var t=se.get();return _.flags|=t,0}case 5:{var t=se.get(),s=0;return he[t+s>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ae(28),-1;default:return-28}}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function wo(o,a){try{var l=se.getStreamFromFD(o);return se.doStat(m.stat,l.path,a)}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Tt(o,a){return a+2097152>>>0<4194305-!!o?(o>>>0)+a*4294967296:NaN}function Eo(o,a,l){try{var _=Tt(a,l);return isNaN(_)?-61:(m.ftruncate(o,_),0)}catch(t){if(typeof m>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function it(o,a,l){return rn(o,re,a,l)}function So(o,a,l){try{var _=se.getStreamFromFD(o);_.getdents||(_.getdents=m.readdir(_.path));for(var t=280,i=0,s=m.llseek(_,0,1),c=Math.floor(s/t);c<_.getdents.length&&i+t<=l;){var h,y,b=_.getdents[c];if(b===".")h=_.node.id,y=4;else if(b===".."){var w=m.lookupPath(_.path,{parent:!0});h=w.node.id,y=4}else{var D=m.lookupNode(_.node,b);h=D.id,y=m.isChrdev(D.mode)?2:m.isDir(D.mode)?4:m.isLink(D.mode)?10:8}ee=[h>>>0,(N=h,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[a+i>>>2]=ee[0],v[a+i+4>>>2]=ee[1],ee=[(c+1)*t>>>0,(N=(c+1)*t,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[a+i+8>>>2]=ee[0],v[a+i+12>>>2]=ee[1],he[a+i+16>>>1]=280,X[a+i+18>>>0]=y,it(b,a+i+19,256),i+=t,c+=1}return m.llseek(_,c*t,0),i}catch(x){if(typeof m>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function qr(o,a,l,_,t){switch(a){case 2:l=kt(l),Br(o,16),t&&(v[t>>>2]=16),he[o>>>1]=a,v[o+4>>>2]=l,he[o+2>>>1]=Ot(_);break;case 10:l=Dt(l),Br(o,28),t&&(v[t>>>2]=28),v[o>>>2]=a,v[o+8>>>2]=l[0],v[o+12>>>2]=l[1],v[o+16>>>2]=l[2],v[o+20>>>2]=l[3],he[o+2>>>1]=Ot(_);break;default:return 5}return 0}function ko(o,a,l,_,t,i){try{var s=rr(o);if(!s.daddr)return-53;var c=qr(a,s.family,Ye.lookup_name(s.daddr),s.dport,l);return 0}catch(h){if(typeof m>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function ot(o,a,l,_,t,i){try{var s=rr(o);return a===1&&l===4?(v[_>>>2]=s.error,v[t>>>2]=4,s.error=null,0):-50}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function Do(o,a,l){se.varargs=l;try{var _=se.getStreamFromFD(o);switch(a){case 21509:case 21505:return _.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return _.tty?0:-59;case 21519:{if(!_.tty)return-59;var t=se.get();return v[t>>>2]=0,0}case 21520:return _.tty?-28:-59;case 21531:{var t=se.get();return m.ioctl(_,a,t)}case 21523:return _.tty?0:-59;case 21524:return _.tty?0:-59;default:return-28}}catch(i){if(typeof m>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function cn(o,a){try{return o=se.getStr(o),se.doStat(m.lstat,o,a)}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function Ao(o,a,l){try{return a=se.getStr(a),a=se.calculateAt(o,a),a=De.normalize(a),a[a.length-1]==="/"&&(a=a.substr(0,a.length-1)),m.mkdir(a,l,0),0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function To(o,a,l,_){try{a=se.getStr(a);var t=_&256,i=_&4096;return _=_&-6401,a=se.calculateAt(o,a,i),se.doStat(t?m.lstat:m.stat,a,l)}catch(s){if(typeof m>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function Ro(o,a,l,_){se.varargs=_;try{a=se.getStr(a),a=se.calculateAt(o,a);var t=_?se.get():0;return m.open(a,l,t).fd}catch(i){if(typeof m>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Po(o,a,l,_,t,i){try{var s=rr(o),c=s.sock_ops.recvmsg(s,l);if(!c)return 0;if(t)var h=qr(t,s.family,Ye.lookup_name(c.addr),c.port,i);return re.set(c.buffer,a>>>0),c.buffer.byteLength}catch(y){if(typeof m>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function xo(o,a,l,_){try{return a=se.getStr(a),_=se.getStr(_),a=se.calculateAt(o,a),_=se.calculateAt(l,_),m.rename(a,_),0}catch(t){if(typeof m>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function Co(o){try{return o=se.getStr(o),m.rmdir(o),0}catch(a){if(typeof m>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Fo(o,a,l,_,t,i){try{var s=rr(o),c=Hr(t,i,!0);return c?s.sock_ops.sendmsg(s,X,a,l,c.addr,c.port):m.write(s.stream,X,a,l)}catch(h){if(typeof m>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Oo(o,a,l){try{var _=p.createSocket(o,a,l);return _.stream.fd}catch(t){if(typeof m>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function Mo(o,a){try{return o=se.getStr(o),se.doStat(m.stat,o,a)}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function No(o,a,l){try{return a=se.getStr(a),a=se.calculateAt(o,a),l===0?m.unlink(a):l===512?m.rmdir(a):Q("Invalid flags passed to unlinkat"),0}catch(_){if(typeof m>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var Lo=!0;function Bo(){return Lo}function Io(o){return $[o>>>2]+v[o+4>>>2]*4294967296}function st(o){return o%4===0&&(o%100!==0||o%400===0)}var Uo=[0,31,60,91,121,152,182,213,244,274,305,335],Ho=[0,31,59,90,120,151,181,212,243,273,304,334];function qo(o){var a=st(o.getFullYear()),l=a?Uo:Ho,_=l[o.getMonth()]+o.getDate()-1;return _}function at(o,a){var l=new Date(Io(o)*1e3);v[a>>>2]=l.getSeconds(),v[a+4>>>2]=l.getMinutes(),v[a+8>>>2]=l.getHours(),v[a+12>>>2]=l.getDate(),v[a+16>>>2]=l.getMonth(),v[a+20>>>2]=l.getFullYear()-1900,v[a+24>>>2]=l.getDay();var _=qo(l)|0;v[a+28>>>2]=_,v[a+36>>>2]=-(l.getTimezoneOffset()*60);var t=new Date(l.getFullYear(),0,1),i=new Date(l.getFullYear(),6,1).getTimezoneOffset(),s=t.getTimezoneOffset(),c=(i!=s&&l.getTimezoneOffset()==Math.min(s,i))|0;v[a+32>>>2]=c}function qn(o){var a=Se(o)+1,l=ft(a);return l&&it(o,l,a),l}function jo(o,a,l){var _=new Date().getFullYear(),t=new Date(_,0,1),i=new Date(_,6,1),s=t.getTimezoneOffset(),c=i.getTimezoneOffset(),h=Math.max(s,c);$[o>>>2]=h*60,v[a>>>2]=+(s!=c);function y(F){var z=F.toTimeString().match(/\(([A-Za-z ]+)\)$/);return z?z[1]:"GMT"}var b=y(t),w=y(i),D=qn(b),x=qn(w);c<s?($[l>>>2]=D,$[l+4>>>2]=x):($[l>>>2]=x,$[l+4>>>2]=D)}function Wo(){Q("")}function $o(o,a){Q(Bn)}function jn(o,a){return globalThis.DUCKDB_RUNTIME.createDirectory(e,o,a)}function Go(o,a){return globalThis.DUCKDB_RUNTIME.checkDirectory(e,o,a)}function zo(o,a){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(e,o,a)}function Vo(o,a){return globalThis.DUCKDB_RUNTIME.removeDirectory(e,o,a)}function Ko(o){return globalThis.DUCKDB_RUNTIME.closeFile(e,o)}function Yo(o,a,l,_){return globalThis.DUCKDB_RUNTIME.checkFile(e,o,a,l,_)}function Xo(o){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(e,o)}function Qo(o,a,l,_){return globalThis.DUCKDB_RUNTIME.moveFile(e,o,a,l,_)}function Jo(o,a){return globalThis.DUCKDB_RUNTIME.openFile(e,o,a)}function Zo(o,a,l,_){return globalThis.DUCKDB_RUNTIME.readFile(e,o,a,l,_)}function es(o,a){return globalThis.DUCKDB_RUNTIME.truncateFile(e,o,a)}function rs(o,a,l,_){return globalThis.DUCKDB_RUNTIME.writeFile(e,o,a,l,_)}function ts(o){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(o)}function ns(o,a){return globalThis.DUCKDB_RUNTIME.glob(e,o,a)}function is(o){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(e,o)}function os(o,a,l,_,t,i){return globalThis.DUCKDB_RUNTIME.callScalarUDF(e,o,a,l,_,t,i)}function ss(){return Date.now()}function Wn(){return 4294901760}function as(){return Wn()}var $n;R&&(global.performance=require("perf_hooks").performance),$n=()=>performance.now();function us(o,a,l){re.copyWithin(o>>>0,a>>>0,a+l>>>0)}function Gn(o){var a=J.buffer,l=o-a.byteLength+65535>>>16;try{return J.grow(l),Ge(),1}catch{}}function cs(o){var a=re.length;o=o>>>0;var l=Wn();if(o>l)return!1;for(var _=(h,y)=>h+(y-h%y)%y,t=1;t<=4;t*=2){var i=a*(1+.2/t);i=Math.min(i,o+100663296);var s=Math.min(l,_(Math.max(o,i),65536)),c=Gn(s);if(c)return!0}return!1}var Rt={};function ls(){return E||"./this.program"}function ut(){if(!ut.strings){var o=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:o,_:ls()};for(var l in Rt)Rt[l]===void 0?delete a[l]:a[l]=Rt[l];var _=[];for(var l in a)_.push(`${l}=${a[l]}`);ut.strings=_}return ut.strings}function fs(o,a){for(var l=0;l<o.length;++l)X[a++>>>0]=o.charCodeAt(l);X[a>>>0]=0}function ln(o,a){var l=0;return ut().forEach(function(_,t){var i=a+l;$[o+t*4>>>2]=i,fs(_,i),l+=_.length+1}),0}function ds(o,a){var l=ut();$[o>>>2]=l.length;var _=0;return l.forEach(function(t){_+=t.length+1}),$[a>>>2]=_,0}function ct(o){try{var a=se.getStreamFromFD(o);return m.close(a),0}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return l.errno}}function _s(o,a){try{var l=0,_=0,t=0,i=se.getStreamFromFD(o),s=i.tty?2:m.isDir(i.mode)?3:m.isLink(i.mode)?7:4;return X[a>>>0]=s,he[a+2>>>1]=t,ee=[l>>>0,(N=l,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[a+8>>>2]=ee[0],v[a+12>>>2]=ee[1],ee=[_>>>0,(N=_,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[a+16>>>2]=ee[0],v[a+20>>>2]=ee[1],0}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return c.errno}}function zn(o,a,l,_){for(var t=0,i=0;i<l;i++){var s=$[a>>>2],c=$[a+4>>>2];a+=8;var h=m.read(o,X,s,c,_);if(h<0)return-1;if(t+=h,h<c)break;typeof _<"u"&&(_+=h)}return t}function hs(o,a,l,_,t,i){try{var s=Tt(_,t);if(isNaN(s))return 61;var c=se.getStreamFromFD(o),h=zn(c,a,l,s);return $[i>>>2]=h,0}catch(y){if(typeof m>"u"||y.name!=="ErrnoError")throw y;return y.errno}}function Vn(o,a,l,_){for(var t=0,i=0;i<l;i++){var s=$[a>>>2],c=$[a+4>>>2];a+=8;var h=m.write(o,X,s,c,_);if(h<0)return-1;t+=h,typeof _<"u"&&(_+=h)}return t}function ps(o,a,l,_,t,i){try{var s=Tt(_,t);if(isNaN(s))return 61;var c=se.getStreamFromFD(o),h=Vn(c,a,l,s);return $[i>>>2]=h,0}catch(y){if(typeof m>"u"||y.name!=="ErrnoError")throw y;return y.errno}}function Kn(o,a,l,_){try{var t=se.getStreamFromFD(o),i=zn(t,a,l);return $[_>>>2]=i,0}catch(s){if(typeof m>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function ms(o,a,l,_,t){try{var i=Tt(a,l);if(isNaN(i))return 61;var s=se.getStreamFromFD(o);return m.llseek(s,i,_),ee=[s.position>>>0,(N=s.position,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],v[t>>>2]=ee[0],v[t+4>>>2]=ee[1],s.getdents&&i===0&&_===0&&(s.getdents=null),0}catch(c){if(typeof m>"u"||c.name!=="ErrnoError")throw c;return c.errno}}function Yn(o){try{var a=se.getStreamFromFD(o);return a.stream_ops&&a.stream_ops.fsync?a.stream_ops.fsync(a):0}catch(l){if(typeof m>"u"||l.name!=="ErrnoError")throw l;return l.errno}}function gs(o,a,l,_){try{var t=se.getStreamFromFD(o),i=Vn(t,a,l);return $[_>>>2]=i,0}catch(s){if(typeof m>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function ys(o,a,l,_){var t=0,i=0,s=0,c=0,h=0,y=0,b;function w(D,x,F,z,H,j){var P,U,ne,Z;return U=D===10?28:16,H=D===10?Re(H):sn(H),P=ft(U),Z=qr(P,D,H,j),O(!Z),ne=ft(32),v[ne+4>>>2]=D,v[ne+8>>>2]=x,v[ne+12>>>2]=F,$[ne+24>>>2]=z,$[ne+20>>>2]=P,D===10?v[ne+16>>>2]=28:v[ne+16>>>2]=16,v[ne+28>>>2]=0,ne}if(l&&(s=v[l>>>2],c=v[l+4>>>2],h=v[l+8>>>2],y=v[l+12>>>2]),h&&!y&&(y=h===2?17:6),!h&&y&&(h=y===17?2:1),y===0&&(y=6),h===0&&(h=1),!o&&!a)return-2;if(s&-1088||l!==0&&v[l>>>2]&2&&!o)return-1;if(s&32)return-2;if(h!==0&&h!==1&&h!==2)return-7;if(c!==0&&c!==2&&c!==10)return-6;if(a&&(a=Ir(a),i=parseInt(a,10),isNaN(i)))return s&1024?-2:-8;if(!o)return c===0&&(c=2),s&1||(c===2?t=Ft(2130706433):t=[0,0,0,1]),b=w(c,h,y,null,t,i),$[_>>>2]=b,0;if(o=Ir(o),t=kt(o),t!==null)if(c===0||c===2)c=2;else if(c===10&&s&8)t=[0,0,Ft(65535),t],c=10;else return-2;else if(t=Dt(o),t!==null)if(c===0||c===10)c=10;else return-2;return t!=null?(b=w(c,h,y,o,t,i),$[_>>>2]=b,0):s&4?-2:(o=Ye.lookup_name(o),t=kt(o),c===0?c=2:c===10&&(t=[0,0,Ft(65535),t]),b=w(c,h,y,null,t,i),$[_>>>2]=b,0)}function bs(o,a){return St(re.subarray(o>>>0,o+a>>>0)),0}function vs(o,a,l,_,t,i,s){var c=Tr(o,a);if(c.errno)return-6;var h=c.port,y=c.addr,b=!1;if(l&&_){var w;if(s&1||!(w=Ye.lookup_addr(y))){if(s&8)return-2}else y=w;var D=it(y,l,_);D+1>=_&&(b=!0)}if(t&&i){h=""+h;var D=it(h,t,i);D+1>=i&&(b=!0)}return b?-12:0}function ws(o,a){for(var l=0,_=0;_<=a;l+=o[_++]);return l}var Xn=[31,29,31,30,31,30,31,31,30,31,30,31],Qn=[31,28,31,30,31,30,31,31,30,31,30,31];function Es(o,a){for(var l=new Date(o.getTime());a>0;){var _=st(l.getFullYear()),t=l.getMonth(),i=(_?Xn:Qn)[t];if(a>i-l.getDate())a-=i-l.getDate()+1,l.setDate(1),t<11?l.setMonth(t+1):(l.setMonth(0),l.setFullYear(l.getFullYear()+1));else return l.setDate(l.getDate()+a),l}return l}function Jn(o,a){X.set(o,a>>>0)}function Zn(o,a,l,_){var t=v[_+40>>>2],i={tm_sec:v[_>>>2],tm_min:v[_+4>>>2],tm_hour:v[_+8>>>2],tm_mday:v[_+12>>>2],tm_mon:v[_+16>>>2],tm_year:v[_+20>>>2],tm_wday:v[_+24>>>2],tm_yday:v[_+28>>>2],tm_isdst:v[_+32>>>2],tm_gmtoff:v[_+36>>>2],tm_zone:t?Ir(t):""},s=Ir(l),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var h in c)s=s.replace(new RegExp(h,"g"),c[h]);var y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"];function w(P,U,ne){for(var Z=typeof P=="number"?P.toString():P||"";Z.length<U;)Z=ne[0]+Z;return Z}function D(P,U){return w(P,U,"0")}function x(P,U){function ne(M){return M<0?-1:M>0?1:0}var Z;return(Z=ne(P.getFullYear()-U.getFullYear()))===0&&(Z=ne(P.getMonth()-U.getMonth()))===0&&(Z=ne(P.getDate()-U.getDate())),Z}function F(P){switch(P.getDay()){case 0:return new Date(P.getFullYear()-1,11,29);case 1:return P;case 2:return new Date(P.getFullYear(),0,3);case 3:return new Date(P.getFullYear(),0,2);case 4:return new Date(P.getFullYear(),0,1);case 5:return new Date(P.getFullYear()-1,11,31);case 6:return new Date(P.getFullYear()-1,11,30)}}function z(P){var U=Es(new Date(P.tm_year+1900,0,1),P.tm_yday),ne=new Date(U.getFullYear(),0,4),Z=new Date(U.getFullYear()+1,0,4),M=F(ne),W=F(Z);return x(M,U)<=0?x(W,U)<=0?U.getFullYear()+1:U.getFullYear():U.getFullYear()-1}var H={"%a":function(P){return y[P.tm_wday].substring(0,3)},"%A":function(P){return y[P.tm_wday]},"%b":function(P){return b[P.tm_mon].substring(0,3)},"%B":function(P){return b[P.tm_mon]},"%C":function(P){var U=P.tm_year+1900;return D(U/100|0,2)},"%d":function(P){return D(P.tm_mday,2)},"%e":function(P){return w(P.tm_mday,2," ")},"%g":function(P){return z(P).toString().substring(2)},"%G":function(P){return z(P)},"%H":function(P){return D(P.tm_hour,2)},"%I":function(P){var U=P.tm_hour;return U==0?U=12:U>12&&(U-=12),D(U,2)},"%j":function(P){return D(P.tm_mday+ws(st(P.tm_year+1900)?Xn:Qn,P.tm_mon-1),3)},"%m":function(P){return D(P.tm_mon+1,2)},"%M":function(P){return D(P.tm_min,2)},"%n":function(){return`
`},"%p":function(P){return P.tm_hour>=0&&P.tm_hour<12?"AM":"PM"},"%S":function(P){return D(P.tm_sec,2)},"%t":function(){return"	"},"%u":function(P){return P.tm_wday||7},"%U":function(P){var U=P.tm_yday+7-P.tm_wday;return D(Math.floor(U/7),2)},"%V":function(P){var U=Math.floor((P.tm_yday+7-(P.tm_wday+6)%7)/7);if((P.tm_wday+371-P.tm_yday-2)%7<=2&&U++,U){if(U==53){var Z=(P.tm_wday+371-P.tm_yday)%7;Z!=4&&(Z!=3||!st(P.tm_year))&&(U=1)}}else{U=52;var ne=(P.tm_wday+7-P.tm_yday-1)%7;(ne==4||ne==5&&st(P.tm_year%400-1))&&U++}return D(U,2)},"%w":function(P){return P.tm_wday},"%W":function(P){var U=P.tm_yday+7-(P.tm_wday+6)%7;return D(Math.floor(U/7),2)},"%y":function(P){return(P.tm_year+1900).toString().substring(2)},"%Y":function(P){return P.tm_year+1900},"%z":function(P){var U=P.tm_gmtoff,ne=U>=0;return U=Math.abs(U)/60,U=U/60*100+U%60,(ne?"+":"-")+("0000"+U).slice(-4)},"%Z":function(P){return P.tm_zone},"%%":function(){return"%"}};s=s.replace(/%%/g,"\0\0");for(var h in H)s.includes(h)&&(s=s.replace(new RegExp(h,"g"),H[h](i)));s=s.replace(/\0\0/g,"%");var j=Lr(s,!1);return j.length>a?0:(Jn(j,o),j.length-1)}function ei(o,a,l,_,t){return Zn(o,a,l,_)}function Ss(){L("missing function: unzClose"),Q(-1)}function ri(){L("missing function: unzCloseCurrentFile"),Q(-1)}function ks(){L("missing function: unzGetCurrentFileInfo"),Q(-1)}function Ds(){L("missing function: unzGetCurrentFileInfo64"),Q(-1)}function As(){L("missing function: unzGetGlobalInfo"),Q(-1)}function Ts(){L("missing function: unzGoToFirstFile"),Q(-1)}function Rs(){L("missing function: unzGoToNextFile"),Q(-1)}function Ps(){L("missing function: unzLocateFile"),Q(-1)}function xs(){L("missing function: unzOpen2"),Q(-1)}function Cs(){L("missing function: unzOpenCurrentFile"),Q(-1)}function Fs(){L("missing function: unzReadCurrentFile"),Q(-1)}function Os(o){ge=o,Yt()||(e.onExit&&e.onExit(o),V=!0),k(o,new en(o))}function Ms(o,a){ge=o,Os(o)}function Ns(o){if(o instanceof en||o=="unwind")return ge;k(1,o)}function Ls(o){var a=e["_"+o];return a}function Bs(o){var a=Se(o)+1,l=_t(a);return it(o,l,a),l}function Is(o,a,l,_,t){var i={string:F=>{var z=0;return F!=null&&F!==0&&(z=Bs(F)),z},array:F=>{var z=_t(F.length);return Jn(F,z),z}};function s(F){return a==="string"?Ir(F):a==="boolean"?!!F:F}var c=Ls(o),h=[],y=0;if(_)for(var b=0;b<_.length;b++){var w=i[l[b]];w?(y===0&&(y=jr()),h[b]=w(_[b])):h[b]=_[b]}var D=c.apply(null,h);function x(F){return y!==0&&dn(y),s(F)}return D=x(D),D}var ti=function(o,a,l,_){o||(o=this),this.parent=o,this.mount=o.mount,this.mounted=null,this.id=m.nextInode++,this.name=a,this.mode=l,this.node_ops={},this.stream_ops={},this.rdev=_},Pt=365,xt=146;Object.defineProperties(ti.prototype,{read:{get:function(){return(this.mode&Pt)===Pt},set:function(o){o?this.mode|=Pt:this.mode&=~Pt}},write:{get:function(){return(this.mode&xt)===xt},set:function(o){o?this.mode|=xt:this.mode&=~xt}},isFolder:{get:function(){return m.isDir(this.mode)}},isDevice:{get:function(){return m.isChrdev(this.mode)}}}),m.FSNode=ti,m.createPreloadedFile=fe,m.staticInit();var Us={f:so,R:ao,T:uo,l:co,n:lo,b:fo,z:_o,e:ho,a:po,m:mo,i:go,Aa:In,va:on,za:At,ya:an,ra:Qe,c:un,qa:wo,M:Eo,la:So,ta:ko,ua:ot,I:Do,na:cn,ma:Ao,oa:To,J:Ro,wa:Po,ja:xo,D:Co,xa:Fo,F:Oo,pa:Mo,E:No,K:Bo,V:at,W:jo,d:Wo,Ba:$o,ba:jn,ca:Go,_:zo,$:Vo,B:Ko,Y:Yo,L:Xo,Z:Qo,ea:Jo,o:Zo,da:es,C:rs,fa:ts,X:ns,A:is,ga:os,u:ss,S:as,g:$n,Da:us,Ea:cs,aa:ln,ia:ds,j:ct,Ca:_s,O:hs,N:ps,H:Kn,P:ms,ka:Yn,t:gs,G:ys,ha:bs,sa:vs,U:ei,h:Ss,s:ri,x:ks,p:Ds,Q:As,y:Ts,w:Rs,r:Ps,v:xs,q:Cs,k:Fs},Hs=oo(),Ct=function(){return(Ct=e.asm.Ga).apply(null,arguments)},lt=e._main=function(){return(lt=e._main=e.asm.Ha).apply(null,arguments)},qs=e._duckdb_web_fs_glob_add_path=function(){return(qs=e._duckdb_web_fs_glob_add_path=e.asm.Ja).apply(null,arguments)},Xc=e._duckdb_web_clear_response=function(){return(Xc=e._duckdb_web_clear_response=e.asm.Ka).apply(null,arguments)},js=e._duckdb_web_fail_with=function(){return(js=e._duckdb_web_fail_with=e.asm.La).apply(null,arguments)},ni=e._duckdb_web_reset=function(){return(ni=e._duckdb_web_reset=e.asm.Ma).apply(null,arguments)},Ws=e._duckdb_web_connect=function(){return(Ws=e._duckdb_web_connect=e.asm.Na).apply(null,arguments)},$s=e._duckdb_web_disconnect=function(){return($s=e._duckdb_web_disconnect=e.asm.Oa).apply(null,arguments)},Gs=e._duckdb_web_flush_files=function(){return(Gs=e._duckdb_web_flush_files=e.asm.Pa).apply(null,arguments)},zs=e._duckdb_web_flush_file=function(){return(zs=e._duckdb_web_flush_file=e.asm.Qa).apply(null,arguments)},Vs=e._duckdb_web_open=function(){return(Vs=e._duckdb_web_open=e.asm.Ra).apply(null,arguments)},Ks=e._duckdb_web_get_global_file_info=function(){return(Ks=e._duckdb_web_get_global_file_info=e.asm.Sa).apply(null,arguments)},Ys=e._duckdb_web_collect_file_stats=function(){return(Ys=e._duckdb_web_collect_file_stats=e.asm.Ta).apply(null,arguments)},Xs=e._duckdb_web_export_file_stats=function(){return(Xs=e._duckdb_web_export_file_stats=e.asm.Ua).apply(null,arguments)},Qs=e._duckdb_web_fs_drop_file=function(){return(Qs=e._duckdb_web_fs_drop_file=e.asm.Va).apply(null,arguments)},Js=e._duckdb_web_fs_drop_files=function(){return(Js=e._duckdb_web_fs_drop_files=e.asm.Wa).apply(null,arguments)},Zs=e._duckdb_web_fs_glob_file_infos=function(){return(Zs=e._duckdb_web_fs_glob_file_infos=e.asm.Xa).apply(null,arguments)},ea=e._duckdb_web_fs_get_file_info_by_id=function(){return(ea=e._duckdb_web_fs_get_file_info_by_id=e.asm.Ya).apply(null,arguments)},ra=e._duckdb_web_fs_get_file_info_by_name=function(){return(ra=e._duckdb_web_fs_get_file_info_by_name=e.asm.Za).apply(null,arguments)},ta=e._duckdb_web_fs_register_file_url=function(){return(ta=e._duckdb_web_fs_register_file_url=e.asm._a).apply(null,arguments)},na=e._duckdb_web_fs_register_file_buffer=function(){return(na=e._duckdb_web_fs_register_file_buffer=e.asm.$a).apply(null,arguments)},ia=e._duckdb_web_copy_file_to_buffer=function(){return(ia=e._duckdb_web_copy_file_to_buffer=e.asm.ab).apply(null,arguments)},oa=e._duckdb_web_copy_file_to_path=function(){return(oa=e._duckdb_web_copy_file_to_path=e.asm.bb).apply(null,arguments)},sa=e._duckdb_web_get_version=function(){return(sa=e._duckdb_web_get_version=e.asm.cb).apply(null,arguments)},aa=e._duckdb_web_get_feature_flags=function(){return(aa=e._duckdb_web_get_feature_flags=e.asm.db).apply(null,arguments)},ua=e._duckdb_web_tokenize=function(){return(ua=e._duckdb_web_tokenize=e.asm.eb).apply(null,arguments)},ca=e._duckdb_web_udf_scalar_create=function(){return(ca=e._duckdb_web_udf_scalar_create=e.asm.fb).apply(null,arguments)},la=e._duckdb_web_prepared_create=function(){return(la=e._duckdb_web_prepared_create=e.asm.gb).apply(null,arguments)},fa=e._duckdb_web_prepared_close=function(){return(fa=e._duckdb_web_prepared_close=e.asm.hb).apply(null,arguments)},da=e._duckdb_web_prepared_run=function(){return(da=e._duckdb_web_prepared_run=e.asm.ib).apply(null,arguments)},_a=e._duckdb_web_prepared_send=function(){return(_a=e._duckdb_web_prepared_send=e.asm.jb).apply(null,arguments)},ha=e._duckdb_web_query_run=function(){return(ha=e._duckdb_web_query_run=e.asm.kb).apply(null,arguments)},pa=e._duckdb_web_pending_query_start=function(){return(pa=e._duckdb_web_pending_query_start=e.asm.lb).apply(null,arguments)},ma=e._duckdb_web_pending_query_poll=function(){return(ma=e._duckdb_web_pending_query_poll=e.asm.mb).apply(null,arguments)},ga=e._duckdb_web_pending_query_cancel=function(){return(ga=e._duckdb_web_pending_query_cancel=e.asm.nb).apply(null,arguments)},ya=e._duckdb_web_query_fetch_results=function(){return(ya=e._duckdb_web_query_fetch_results=e.asm.ob).apply(null,arguments)},ba=e._duckdb_web_get_tablenames=function(){return(ba=e._duckdb_web_get_tablenames=e.asm.pb).apply(null,arguments)},va=e._duckdb_web_insert_arrow_from_ipc_stream=function(){return(va=e._duckdb_web_insert_arrow_from_ipc_stream=e.asm.qb).apply(null,arguments)},wa=e._duckdb_web_insert_csv_from_path=function(){return(wa=e._duckdb_web_insert_csv_from_path=e.asm.rb).apply(null,arguments)},Ea=e._duckdb_web_insert_json_from_path=function(){return(Ea=e._duckdb_web_insert_json_from_path=e.asm.sb).apply(null,arguments)},ii=function(){return(ii=e.asm.tb).apply(null,arguments)},Ft=function(){return(Ft=e.asm.ub).apply(null,arguments)},Ot=function(){return(Ot=e.asm.vb).apply(null,arguments)},fn=function(){return(fn=e.asm.wb).apply(null,arguments)},ft=e._malloc=function(){return(ft=e._malloc=e.asm.xb).apply(null,arguments)},Mt=e._free=function(){return(Mt=e._free=e.asm.yb).apply(null,arguments)},dt=function(){return(dt=e.asm.zb).apply(null,arguments)},Nt=function(){return(Nt=e.asm.Ab).apply(null,arguments)},jr=function(){return(jr=e.asm.Bb).apply(null,arguments)},dn=function(){return(dn=e.asm.Cb).apply(null,arguments)},_t=function(){return(_t=e.asm.Db).apply(null,arguments)};e.stackAlloc=_t,e.stackSave=jr,e.stackRestore=dn,e.ccall=Is;var Wr;fr=function o(){Wr||ht(),Wr||(fr=o)};function _n(){var o=lt,a=0,l=0;try{var _=o(a,l);return Ms(_,!0),_}catch(t){return Ns(t)}}function ht(){if(qe>0||(K(),qe>0))return;function o(){Wr||(Wr=!0,e.calledRun=!0,!V&&(Te(),G(),u(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),hn&&_n(),pe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),o()},1)):o()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();var hn=!0;return e.noInitialRun&&(hn=!1),ht(),r.ready}})();typeof eo=="object"&&typeof Yc=="object"?Yc.exports=Kc:typeof define=="function"&&define.amd?define([],function(){return Kc}):typeof eo=="object"&&(eo.DuckDB=Kc)});var lv={};Dh(lv,{ConsoleLogger:()=>Oa,DEFAULT_RUNTIME:()=>Ta,DuckDBAccessMode:()=>ul,DuckDBBindingsBase:()=>bn,DuckDBConnection:()=>mn,DuckDBDataProtocol:()=>Lt,DuckDBFeature:()=>al,FileFlags:()=>il,FileStatistics:()=>yn,JSONTableShape:()=>cl,LogEvent:()=>dl,LogLevel:()=>ll,LogOrigin:()=>_l,LogTopic:()=>fl,NODE_RUNTIME:()=>Oe,OPFSFileHandleGenerator:()=>Pa,OpenedFile:()=>Aa,PACKAGE_NAME:()=>Ma,PACKAGE_VERSION:()=>Na,PACKAGE_VERSION_MAJOR:()=>qh,PACKAGE_VERSION_MINOR:()=>jh,PACKAGE_VERSION_PATCH:()=>Wh,PreparedStatement:()=>si,ResultStreamIterator:()=>gn,StatusCode:()=>Zc,VoidLogger:()=>Fa,assertOPFSHandle:()=>Fh,callSRet:()=>Ae,copyBuffer:()=>zr,createDuckDB:()=>cv,createOPFSFileHandle:()=>sl,createStandaloneOPFSFileHandle:()=>Ch,decodeText:()=>Gr,defaultOPFSDomain:()=>ci,dropResponseBuffers:()=>Pe,failWith:()=>Fe,getDataProtocolName:()=>Rh,getJsDelivrBundles:()=>zh,getLogEventLabel:()=>Lh,getLogLevelLabel:()=>Nh,getLogOriginLabel:()=>Ih,getLogTopicLabel:()=>Bh,getPlatformFeatures:()=>di,isFirefox:()=>$h,isNode:()=>ja,isSafari:()=>Gh,opfsScheme:()=>xa,parseOPFSURL:()=>xh,readString:()=>ve,selectBundle:()=>Vh,stringifyOPFSURL:()=>Ca});module.exports=Ah(lv);var yr=$r(require("apache-arrow")),mn=class{constructor(r,e){this._bindings=r,this._conn=e}close(){this._bindings.disconnect(this._conn)}useUnsafe(r){return r(this._bindings,this._conn)}query(r){let e=this._bindings.runQuery(this._conn,r),u=yr.RecordBatchReader.from(e);return console.assert(u.isSync()),console.assert(u.isFile()),new yr.Table(u)}async send(r){let e=this._bindings.startPendingQuery(this._conn,r);for(;e==null;)e=await new Promise((d,g)=>{try{d(this._bindings.pollPendingQuery(this._conn))}catch(E){console.log(E),g(E)}});let u=new gn(this._bindings,this._conn,e),f=yr.RecordBatchReader.from(u);return console.assert(f.isSync()),console.assert(f.isStream()),f}cancelSent(){return this._bindings.cancelPendingQuery(this._conn)}getTableNames(r){return this._bindings.getTableNames(this._conn,r)}prepare(r){let e=this._bindings.createPrepared(this._conn,r);return new si(this._bindings,this._conn,e)}createScalarFunction(r,e,u){this._bindings.createScalarFunction(this._conn,r,e,u)}insertArrowTable(r,e){let u=yr.tableToIPC(r,"stream");this.insertArrowFromIPCStream(u,e)}insertArrowFromIPCStream(r,e){this._bindings.insertArrowFromIPCStream(this._conn,r,e)}insertCSVFromPath(r,e){this._bindings.insertCSVFromPath(this._conn,r,e)}insertJSONFromPath(r,e){this._bindings.insertJSONFromPath(this._conn,r,e)}},gn=class{constructor(r,e,u){this.bindings=r;this.conn=e;this.header=u;this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let r=this.bindings.fetchQueryResults(this.conn);return this._depleted=r.length==0,{done:this._depleted,value:r}}[Symbol.iterator](){return this}},si=class{constructor(r,e,u){this.bindings=r,this.connectionId=e,this.statementId=u}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...r){let e=this.bindings.runPrepared(this.connectionId,this.statementId,r),u=yr.RecordBatchReader.from(e);return console.assert(u.isSync()),console.assert(u.isFile()),new yr.Table(u)}send(...r){let e=this.bindings.sendPrepared(this.connectionId,this.statementId,r),u=new gn(this.bindings,this.connectionId,e),f=yr.RecordBatchReader.from(u);return console.assert(f.isSync()),console.assert(f.isStream()),f}};var Zc=(r=>(r[r.SUCCESS=0]="SUCCESS",r))(Zc||{});var tl=new TextEncoder,el=new TextDecoder("utf-8");function Sa(n,r,e){let u=tl.encode(e),f=n._malloc(u.byteLength),d=n.HEAPU8.subarray(f,f+u.byteLength);d.set(u),n.HEAPF64[(r>>3)+0]=1,n.HEAPF64[(r>>3)+1]=f,n.HEAPF64[(r>>3)+2]=d.byteLength}function Da(n){switch(n){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function ka(n,r,e,u){let f=n.HEAPU8.subarray(r,r+u*Da(e));switch(e){case"UINT8":return new Uint8Array(f.buffer,f.byteOffset,u);case"INT8":return new Int8Array(f.buffer,f.byteOffset,u);case"INT32":return new Int32Array(f.buffer,f.byteOffset,u);case"FLOAT":return new Float32Array(f.buffer,f.byteOffset,u);case"DOUBLE":return new Float64Array(f.buffer,f.byteOffset,u);case"VARCHAR":return new Float64Array(f.buffer,f.byteOffset,u);default:return new Array(0)}}function rl(n,r,e){let u=n.HEAPU8.subarray(r,r+e);return new Uint8Array(u.buffer,u.byteOffset,e)}function ai(n,r,e){let u=n.HEAPU8.subarray(r,r+e*8);return new Float64Array(u.buffer,u.byteOffset,e)}function ui(n,r,e,u,f,d,g,E){try{let k=n._udfFunctions.get(u);if(!k){Sa(r,e,"Unknown UDF with id: "+u);return}let A=el.decode(r.HEAPU8.subarray(f,f+d)),S=JSON.parse(A),R=ai(r,g,E/8),T=V=>{var O;let ge=null;switch(V.validityBuffer!==void 0&&(ge=rl(r,R[V.validityBuffer],S.rows)),V.physicalType){case"VARCHAR":{if(V.dataBuffer===null||V.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(V.lengthBuffer===null||V.lengthBuffer===void 0)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let X=ka(r,R[V.dataBuffer],V.physicalType,S.rows),re=[],he=ai(r,R[V.lengthBuffer],S.rows);for(let C=0;C<S.rows;++C){if(ge!=null&&!ge[C]){re.push(null);continue}let v=r.HEAPU8.subarray(X[C],X[C]+he[C]),$=el.decode(v);re.push($)}return C=>re[C]}case"STRUCT":{let X={},re=[];for(let he=0;he<(((O=V.children)==null?void 0:O.length)||0);++he){let C=V.children[he],v=T(C);re.push($=>{X[C.name]=v($)})}return ge!=null?he=>{if(!ge[he])return null;for(let C of re)C(he);return X}:he=>{for(let C of re)C(he);return X}}default:{if(V.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for argument of type: "+V.physicalType);let X=ka(r,R[V.dataBuffer],V.physicalType,S.rows);return ge!=null?re=>ge[re]?X[re]:null:re=>X[re]}}},te=[];for(let V=0;V<S.args.length;++V)te.push(T(S.args[V]));let I=S.rows*Da(S.ret.physicalType),B=r._malloc(I),Y=ka(r,B,S.ret.physicalType,S.rows),ie=r._malloc(S.rows),me=rl(r,ie,S.rows);if(Y.length==0||me.length==0){Sa(r,e,"Can't create physical arrays for result");return}let de=Y;S.ret.physicalType=="VARCHAR"&&(de=new Array(S.rows));let ke=[];for(let V=0;V<S.args.length;++V)ke.push(null);for(let V=0;V<S.rows;++V){for(let O=0;O<S.args.length;++O)ke[O]=te[O](V);let ge=k.func(...ke);de[V]=ge,me[V]=ge==null?0:1}let L=0;switch(S.ret.physicalType){case"VARCHAR":{let V=new Array(0);L=r._malloc(S.rows*Da("DOUBLE"));let ge=ai(r,L,S.rows),O=0;for(let C=0;C<S.rows;++C){let v=tl.encode(de[C]||"");V.push(v),ge[C]=v.length,O+=v.length}let X=r._malloc(O),re=r.HEAPU8.subarray(X,X+O),he=0;for(let C=0;C<S.rows;++C){Y[C]=he;let v=V[C];re.subarray(he,he+v.length).set(v),he+=v.length}}}let _e=3*8,ue=r._malloc(_e),J=ai(r,ue,3);J[0]=B,J[1]=ie,J[2]=L,r.HEAPF64[(e>>3)+0]=0,r.HEAPF64[(e>>3)+1]=ue,r.HEAPF64[(e>>3)+2]=0}catch(k){Sa(r,e,k.toString())}}function Th(){let n=new TextDecoder;return r=>(typeof SharedArrayBuffer<"u"&&r.buffer instanceof SharedArrayBuffer&&(r=new Uint8Array(r)),n.decode(r))}var Gr=Th();function Fe(n,r){console.error(`FAIL WITH: ${r}`),n.ccall("duckdb_web_fail_with",null,["string"],[r])}function zr(n,r,e){let u=n.HEAPU8.subarray(r,r+e),f=new Uint8Array(new ArrayBuffer(u.byteLength));return f.set(u),f}function ve(n,r,e){return Gr(n.HEAPU8.subarray(r,r+e))}var Lt=(g=>(g[g.BUFFER=0]="BUFFER",g[g.NODE_FS=1]="NODE_FS",g[g.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",g[g.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",g[g.HTTP=4]="HTTP",g[g.S3=5]="S3",g))(Lt||{});function Rh(n){return typeof n=="number"&&Lt[n]||String(n)}var il=(g=>(g[g.FILE_FLAGS_READ=1]="FILE_FLAGS_READ",g[g.FILE_FLAGS_WRITE=2]="FILE_FLAGS_WRITE",g[g.FILE_FLAGS_DIRECT_IO=4]="FILE_FLAGS_DIRECT_IO",g[g.FILE_FLAGS_FILE_CREATE=8]="FILE_FLAGS_FILE_CREATE",g[g.FILE_FLAGS_FILE_CREATE_NEW=16]="FILE_FLAGS_FILE_CREATE_NEW",g[g.FILE_FLAGS_APPEND=32]="FILE_FLAGS_APPEND",g))(il||{}),Aa=class{constructor(r,e=0){this.fileSize=r;this.fileBufferPtr=e}getCppPointer(r){let e=r._malloc(16);return r.HEAPF64[(e>>3)+0]=this.fileSize,r.HEAPF64[(e>>3)+1]=this.fileBufferPtr,e}};function Ae(n,r,e,u){let f=n.stackSave(),d=n.stackAlloc(3*8);e.unshift("number"),u.unshift(d),n.ccall(r,null,e,u);let g=n.HEAPF64[(d>>3)+0],E=n.HEAPF64[(d>>3)+1],k=n.HEAPF64[(d>>3)+2];return n.stackRestore(f),[g,E,k]}function Pe(n){n.ccall("duckdb_web_clear_response",null,[],[])}var Ta={_udfFunctions:new Map,testPlatformFeature:(n,r)=>!1,getDefaultDataProtocol:n=>0,openFile:(n,r,e)=>{},syncFile:(n,r)=>{},closeFile:(n,r)=>{},closeFileByName:(n,r)=>!1,getLastFileModificationTime:(n,r)=>0,truncateFile:(n,r,e)=>{},readFile:(n,r,e,u,f)=>0,writeFile:(n,r,e,u,f)=>0,removeDirectory:(n,r,e)=>{},checkDirectory:(n,r,e)=>!1,createDirectory:(n,r,e)=>{},listDirectoryEntries:(n,r,e)=>!1,glob:(n,r,e)=>{},moveFile:(n,r,e,u,f)=>{},checkFile:(n,r,e)=>!1,removeFile:(n,r,e)=>{},callScalarUDF:(n,r,e,u,f,d,g)=>{ui(Ta,n,r,e,u,f,d,g)}};var xa="opfs",ci="default",Ph=/^([^:/?#]+?):\/\/([^/?#]*)([^?#]*)/;function Ca(n,r,e){let u=`${xa}://${e||ci}`.replace(/\/*$/,"/"),f=n.replace(/^\/*/,"");if(!r&&!f)throw new Error(`Invalid OPFS file path "${n}"`);return u+f.replace(/\/*$/,r?"/":"")}function xh(n){let r=Ph.exec(n);if(!r||r[1]===xa)return;let e=r[2];if(e){let u=e.indexOf("@");u>=0&&(e=e.slice(u+1)),u=e.indexOf(":"),u>=0&&(e=e.slice(0,u))}return e||(e=ci),{domain:e,path:r[3]}}function Ra(n){let r=n.split(/\/+/),e=[];for(let u=0;u<r.length;u++){let f=r[u];f==="."||f===""||(f===".."?e.pop():e.push(f))}return e}var Pa=class{constructor(r){this.root=r;this.cachedDirHandles=new Map}async getDirHandle(r,e){let u=Array.isArray(r)?r:Ra(r),f=this.cachedDirHandles.get(u.join("/"));if(f)return f;let d=this.root,g="",E=e.create||!1;for(let k of u){g=g?`${g}/${k}`:k;try{d=await d.getDirectoryHandle(k,{create:E})}catch{let S=E?`Could not create directory: ${g}`:`Directory not found: ${g}`;throw new Error(S)}this.cachedDirHandles.set(g,d)}return d}async create(r,e){let u=Array.isArray(r)?r:Ra(r);if(u.length<1)throw new Error(`Invalid file path: ${r}`);let f="/"+u.join("/");u.pop();let d=await this.getDirHandle(u,e);return sl(f,d,e)}};function ol(n){let r={create:!1,access:!1,domain:ci,emptyAsAbsent:!1};return n&&Object.assign(r,n),r}async function sl(n,r,e){let u=Ra(n);if(u.length<1)throw new Error(`Invalid filePath: "${n}"`);n="/"+u.join("/");let f=u.pop();if((u.pop()||"")!==r.name)throw new Error(`filePath "${n}" is not matched with "${r.name}"`);let g,E,k,{create:A,access:S,emptyAsAbsent:R,domain:T}=ol(e);return(A||S)&&(E=await r.getFileHandle(f,{create:A||!1}),g=await E.getFile()),S&&E&&(k=await E.createSyncAccessHandle()),{filePath:n,dirHandle:r,fileName:f,file:g,fileHandle:E,accessHandle:k,emptyAsAbsent:R,domain:T}}function Ch(n,r){let{emptyAsAbsent:e,domain:u,fileName:f}=ol(r),d=(f||n.name).replace(/^\/+/,"").replace(/\/+$/,""),g="/"+d,E,k;return{filePath:g,fileName:d,file:E,fileHandle:n,accessHandle:k,emptyAsAbsent:e,domain:u}}function Fh(n,r,e,u){if(!e)throw new Error(`No OPFS access handle registered with name: ${r}`);if(!e.fileName)throw new Error(`Invalid file handle registered with name: ${r}`);if(!e.accessHandle){let f=`Cannot perform ${n} on an file that hasn't been opened: "${r}"`;if(u)throw new Error(f);console.warn(f)}}var yn=class{constructor(r){let e=new Float64Array(r.buffer,r.byteOffset,r.byteLength/8),u=new Uint8Array(new ArrayBuffer(r.byteLength));u.set(r.subarray(7*8)),this.totalFileReadsCold=e[0],this.totalFileReadsAhead=e[1],this.totalFileReadsCached=e[2],this.totalFileWrites=e[3],this.totalPageAccesses=e[4],this.totalPageLoads=e[5],this.blockSize=e[6],this.blockStats=u}getBlockStats(r,e){return e=e||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0},e.file_writes=this.blockStats[r*3+0]&15,e.file_reads_cold=this.blockStats[r*3+0]>>4,e.file_reads_ahead=this.blockStats[r*3+1]&15,e.file_reads_cached=this.blockStats[r*3+1]>>4,e.page_accesses=this.blockStats[r*3+1]&15,e.page_loads=this.blockStats[r*3+1]>>4,e}};var we=$r(require("apache-arrow"));function Bt(n){switch(n.typeId){case we.Type.Binary:return{sqlType:"binary"};case we.Type.Bool:return{sqlType:"bool"};case we.Type.Date:return{sqlType:"date"};case we.Type.DateDay:return{sqlType:"date32[d]"};case we.Type.DateMillisecond:return{sqlType:"date64[ms]"};case we.Type.Decimal:{let r=n;return{sqlType:"decimal",precision:r.precision,scale:r.scale}}case we.Type.Float:return{sqlType:"float"};case we.Type.Float16:return{sqlType:"float16"};case we.Type.Float32:return{sqlType:"float32"};case we.Type.Float64:return{sqlType:"float64"};case we.Type.Int:return{sqlType:"int32"};case we.Type.Int16:return{sqlType:"int16"};case we.Type.Int32:return{sqlType:"int32"};case we.Type.Int64:return{sqlType:"int64"};case we.Type.Uint16:return{sqlType:"uint16"};case we.Type.Uint32:return{sqlType:"uint32"};case we.Type.Uint64:return{sqlType:"uint64"};case we.Type.Uint8:return{sqlType:"uint8"};case we.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case we.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case we.Type.List:return{sqlType:"list",valueType:Bt(n.valueType)};case we.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case we.Type.Null:return{sqlType:"null"};case we.Type.Utf8:return{sqlType:"utf8"};case we.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>li(e.name,e.type))};case we.Type.Map:{let r=n;return{sqlType:"map",keyType:Bt(r.keyType),valueType:Bt(r.valueType)}}case we.Type.Time:return{sqlType:"time[s]"};case we.Type.TimeMicrosecond:return{sqlType:"time[us]"};case we.Type.TimeMillisecond:return{sqlType:"time[ms]"};case we.Type.TimeNanosecond:return{sqlType:"time[ns]"};case we.Type.TimeSecond:return{sqlType:"time[s]"};case we.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case we.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case we.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case we.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case we.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function li(n,r){let e=Bt(r);return e.name=n,e}var Oh=!!process.env.KEEP_DEBUG_LOGS,Mh=new TextEncoder,al=(d=>(d[d.WASM_EXCEPTIONS=1]="WASM_EXCEPTIONS",d[d.WASM_THREADS=2]="WASM_THREADS",d[d.WASM_SIMD=4]="WASM_SIMD",d[d.WASM_BULK_MEMORY=8]="WASM_BULK_MEMORY",d[d.EMIT_BIGINT=16]="EMIT_BIGINT",d))(al||{}),bn=class{constructor(r,e){this._instance=null;this._initPromise=null;this._initPromiseResolver=()=>{};this.onInstantiationProgress=[];this._logger=r,this._runtime=e,this._nextUDFId=1}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(r=e=>{}){return this._instance!=null?this:(this._initPromise!=null&&(this.onInstantiationProgress.push(r),await this._initPromise),this._initPromise=new Promise(e=>{this._initPromiseResolver=e}),this.onInstantiationProgress=[r],this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null,this.onInstantiationProgress=this.onInstantiationProgress.filter(e=>e!=r),this)}open(r){let[e,u,f]=Ae(this.mod,"duckdb_web_open",["string"],[JSON.stringify(r)]);if(e!==0)throw new Error(ve(this.mod,u,f));Pe(this.mod)}reset(){let[r,e,u]=Ae(this.mod,"duckdb_web_reset",[],[]);if(r!==0)throw new Error(ve(this.mod,e,u));Pe(this.mod)}getVersion(){let[r,e,u]=Ae(this.mod,"duckdb_web_get_version",[],[]);if(r!==0)throw new Error(ve(this.mod,e,u));let f=ve(this.mod,e,u);return Pe(this.mod),f}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(r){let[e,u,f]=Ae(this.mod,"duckdb_web_tokenize",["string"],[r]);if(e!==0)throw new Error(ve(this.mod,u,f));let d=ve(this.mod,u,f);return Pe(this.mod),JSON.parse(d)}connect(){let r=this.mod.ccall("duckdb_web_connect","number",[],[]);return new mn(this,r)}disconnect(r){if(this.mod.ccall("duckdb_web_disconnect",null,["number"],[r]),this.pthread)for(let e of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])e.postMessage({cmd:"dropUDFFunctions",connectionId:r})}runQuery(r,e){let[u,f,d]=Ae(this.mod,"duckdb_web_query_run",["number","string"],[r,e]);if(u!==0)throw new Error(ve(this.mod,f,d));let g=zr(this.mod,f,d);return Pe(this.mod),g}startPendingQuery(r,e){let[u,f,d]=Ae(this.mod,"duckdb_web_pending_query_start",["number","string"],[r,e]);if(u!==0)throw new Error(ve(this.mod,f,d));if(f==0)return null;let g=zr(this.mod,f,d);return Pe(this.mod),g}pollPendingQuery(r){let[e,u,f]=Ae(this.mod,"duckdb_web_pending_query_poll",["number"],[r]);if(e!==0)throw new Error(ve(this.mod,u,f));if(u==0)return null;let d=zr(this.mod,u,f);return Pe(this.mod),d}cancelPendingQuery(r){return this.mod.ccall("duckdb_web_pending_query_cancel","boolean",["number"],[r])}fetchQueryResults(r){let[e,u,f]=Ae(this.mod,"duckdb_web_query_fetch_results",["number"],[r]);if(e!==0)throw new Error(ve(this.mod,u,f));let d=zr(this.mod,u,f);return Pe(this.mod),d}getTableNames(r,e){let[u,f,d]=Ae(this.mod,"duckdb_web_get_tablenames",["number","string"],[r,e]);if(u!==0)throw new Error(ve(this.mod,f,d));let g=ve(this.mod,f,d);return Pe(this.mod),JSON.parse(g)}createScalarFunction(r,e,u,f){let d={functionId:this._nextUDFId,name:e,returnType:Bt(u)},g={functionId:d.functionId,connectionId:r,name:e,returnType:u,func:f};this._nextUDFId+=1;let[E,k,A]=Ae(this.mod,"duckdb_web_udf_scalar_create",["number","string"],[r,JSON.stringify(d)]);if(E!==0)throw new Error(ve(this.mod,k,A));if(Pe(this.mod),globalThis.DUCKDB_RUNTIME._udfFunctions=(globalThis.DUCKDB_RUNTIME._udfFunctions||new Map).set(g.functionId,g),this.pthread)for(let S of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])S.postMessage({cmd:"registerUDFFunction",udf:g})}createPrepared(r,e){let[u,f,d]=Ae(this.mod,"duckdb_web_prepared_create",["number","string"],[r,e]);if(u!==0)throw new Error(ve(this.mod,f,d));return Pe(this.mod),f}closePrepared(r,e){let[u,f,d]=Ae(this.mod,"duckdb_web_prepared_close",["number","number"],[r,e]);if(u!==0)throw new Error(ve(this.mod,f,d));Pe(this.mod)}runPrepared(r,e,u){let[f,d,g]=Ae(this.mod,"duckdb_web_prepared_run",["number","number","string"],[r,e,JSON.stringify(u)]);if(f!==0)throw new Error(ve(this.mod,d,g));let E=zr(this.mod,d,g);return Pe(this.mod),E}sendPrepared(r,e,u){let[f,d,g]=Ae(this.mod,"duckdb_web_prepared_send",["number","number","string"],[r,e,JSON.stringify(u)]);if(f!==0)throw new Error(ve(this.mod,d,g));let E=zr(this.mod,d,g);return Pe(this.mod),E}insertArrowFromIPCStream(r,e,u){if(e.length==0)return;let f=this.mod._malloc(e.length);this.mod.HEAPU8.subarray(f,f+e.length).set(e);let g=u?JSON.stringify(u):"",[E,k,A]=Ae(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[r,f,e.length,g]);if(E!==0)throw new Error(ve(this.mod,k,A))}insertCSVFromPath(r,e,u){if(u.columns!==void 0){u.columnsFlat=[];for(let A in u.columns)u.columnsFlat.push(li(A,u.columns[A]))}let f={...u};f.columns=f.columnsFlat,delete f.columnsFlat;let d=JSON.stringify(f),[g,E,k]=Ae(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[r,e,d]);if(g!==0)throw new Error(ve(this.mod,E,k))}insertJSONFromPath(r,e,u){if(u.columns!==void 0){u.columnsFlat=[];for(let A in u.columns)u.columnsFlat.push(li(A,u.columns[A]))}let f={...u};f.columns=f.columnsFlat,delete f.columnsFlat;let d=JSON.stringify(f),[g,E,k]=Ae(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[r,e,d]);if(g!==0)throw new Error(ve(this.mod,E,k))}globFiles(r){let[e,u,f]=Ae(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[r]);if(e!==0)throw new Error(ve(this.mod,u,f));let d=ve(this.mod,u,f);Pe(this.mod);let g=JSON.parse(d);return g??[]}registerFileURL(r,e,u,f=!1){e===void 0&&(e=r);let[d,g,E]=Ae(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[r,e,u,f]);if(d!==0)throw new Error(ve(this.mod,g,E));Pe(this.mod)}registerFileText(r,e){let u=Mh.encode(e);this.registerFileBuffer(r,u)}registerFileBuffer(r,e){let u=this.mod._malloc(e.length);this.mod.HEAPU8.subarray(u,u+e.length).set(e);let[d,g,E]=Ae(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[r,u,e.length]);if(d!==0)throw new Error(ve(this.mod,g,E));Pe(this.mod)}async registerFileHandle(r,e,u,f){let d=r;if(u===3){let A=e;if(!(A!=null&&A.filePath))throw new Error(`Invalid OPFS file handle for "${r}"`);let{filePath:S,domain:R}=A;A._url||(A._url=Ca(S,!1,R)),d=A._url}let[g,E,k]=Ae(this.mod,"duckdb_web_fs_register_file_url",["string","string","number","boolean"],[r,d,u,f]);if(g!==0)throw new Error(ve(this.mod,E,k));if(Pe(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(r,e),u===3){let A=e,{fileHandle:S}=A;S?A.accessHandle||(A.accessHandle=await S.createSyncAccessHandle(),console.debug(`prepared SyncAccessHandle for OPFS file "${r}"`)):console.warn(`Invalid file handle for OPFS file "${r}"`)}if(this.pthread){for(let A of this.pthread.runningWorkers)A.postMessage({cmd:"registerFileHandle",fileName:r,fileHandle:e});for(let A of this.pthread.unusedWorkers)A.postMessage({cmd:"dropFileHandle",fileName:r})}}dropFile(r){let[e,u,f]=Ae(this.mod,"duckdb_web_fs_drop_file",["string"],[r]);if(e!==0)throw new Error(ve(this.mod,u,f));Pe(this.mod)}dropFiles(){let[r,e,u]=Ae(this.mod,"duckdb_web_fs_drop_files",[],[]);if(r!==0)throw new Error(ve(this.mod,e,u));Pe(this.mod)}flushFiles(){var e;this.mod.ccall("duckdb_web_flush_files",null,[],[]);let r=(e=this._runtime._files)==null?void 0:e.entries();if(r){for(let[u,f]of r)if(f.accessHandle){Oh&&console.log(`[WASM-CALL] flushFiles() => flushFile("${u}")`);let d=f;d.accessHandle&&d.accessHandle.flush()}}}copyFileToPath(r,e){let[u,f,d]=Ae(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[r,e]);if(u!==0)throw new Error(ve(this.mod,f,d));Pe(this.mod)}copyFileToBuffer(r){let[e,u,f]=Ae(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[r]);if(e!==0)throw new Error(ve(this.mod,u,f));let d=this.mod.HEAPU8.subarray(u,u+f),g=new Uint8Array(d.length);return g.set(d),Pe(this.mod),g}closeFile(r){var u,f;return((f=(u=this._runtime).closeFileByName)==null?void 0:f.call(u,this.mod,r))||!1}collectFileStatistics(r,e){let[u,f,d]=Ae(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[r,e]);if(u!==0)throw new Error(ve(this.mod,f,d))}exportFileStatistics(r){let[e,u,f]=Ae(this.mod,"duckdb_web_export_file_stats",["string"],[r]);if(e!==0)throw new Error(ve(this.mod,u,f));return new yn(this.mod.HEAPU8.subarray(u,u+f))}};var ul=(f=>(f[f.UNDEFINED=0]="UNDEFINED",f[f.AUTOMATIC=1]="AUTOMATIC",f[f.READ_ONLY=2]="READ_ONLY",f[f.READ_WRITE=3]="READ_WRITE",f))(ul||{});var cl=(e=>(e.ROW_ARRAY="row-array",e.COLUMN_OBJECT="column-object",e))(cl||{});var ll=(d=>(d[d.NONE=0]="NONE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARNING=3]="WARNING",d[d.ERROR=4]="ERROR",d))(ll||{}),fl=(g=>(g[g.NONE=0]="NONE",g[g.CONNECT=1]="CONNECT",g[g.DISCONNECT=2]="DISCONNECT",g[g.OPEN=3]="OPEN",g[g.QUERY=4]="QUERY",g[g.INSTANTIATE=5]="INSTANTIATE",g))(fl||{}),dl=(g=>(g[g.NONE=0]="NONE",g[g.OK=1]="OK",g[g.ERROR=2]="ERROR",g[g.START=3]="START",g[g.RUN=4]="RUN",g[g.CAPTURE=5]="CAPTURE",g))(dl||{}),_l=(d=>(d[d.NONE=0]="NONE",d[d.WEB_WORKER=1]="WEB_WORKER",d[d.NODE_WORKER=2]="NODE_WORKER",d[d.BINDINGS=3]="BINDINGS",d[d.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",d))(_l||{}),Fa=class{log(r){}},Oa=class{constructor(r=2){this.level=r}log(r){r.level>=this.level&&console.log(r)}};function Nh(n){switch(n){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function Lh(n){switch(n){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function Bh(n){switch(n){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function Ih(n){switch(n){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var hl=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),pl=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]));var ml=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var gl=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var fi={name:"@duckdb/duckdb-wasm",version:"1.11.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^12.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.1","@types/wicg-file-system-access":"^2023.10.2","@typescript-eslint/eslint-plugin":"^6.3.0","@typescript-eslint/parser":"^6.2.1",esbuild:"^0.18.13",eslint:"^8.47.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.32.2","fast-glob":"^3.3.1",jasmine:"^5.1.0","jasmine-core":"^5.0.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.8.4",puppeteer:"^20.8.0",rimraf:"^4.3.0",s3rver:"^3.7.1",typedoc:"^0.24.8",typescript:"^5","wasm-feature-detect":"^1.5.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}};var Ma=fi.name,Na=fi.version,La=fi.version.split("."),qh=La[0],jh=La[1],Wh=La[2];var ja=()=>typeof navigator>"u",yl=()=>ja()?"node":navigator.userAgent,$h=()=>yl().includes("Firefox"),Gh=()=>/^((?!chrome|android).)*safari/i.test(yl());function zh(){let n=`https://cdn.jsdelivr.net/npm/${Ma}@${Na}/dist/`;return{mvp:{mainModule:`${n}duckdb-mvp.wasm`,mainWorker:`${n}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${n}duckdb-eh.wasm`,mainWorker:`${n}duckdb-browser-eh.worker.js`}}}var Ba=null,Ia=null,Ua=null,Ha=null,qa=null;async function di(){return Ba==null&&(Ba=typeof BigInt64Array<"u"),Ia==null&&(Ia=await pl()),Ua==null&&(Ua=await gl()),Ha==null&&(Ha=await ml()),qa==null&&(qa=await hl()),{bigInt64Array:Ba,crossOriginIsolated:ja()||globalThis.crossOriginIsolated||!1,wasmExceptions:Ia,wasmSIMD:Ha,wasmThreads:Ua,wasmBulkMemory:qa}}async function Vh(n){let r=await di();if(r.wasmExceptions){if(r.wasmSIMD&&r.wasmThreads&&r.crossOriginIsolated&&n.coi)return{mainModule:n.coi.mainModule,mainWorker:n.coi.mainWorker,pthreadWorker:n.coi.pthreadWorker};if(n.eh)return{mainModule:n.eh.mainModule,mainWorker:n.eh.mainWorker,pthreadWorker:null}}return{mainModule:n.mvp.mainModule,mainWorker:n.mvp.mainWorker,pthreadWorker:null}}var $e=$r(require("fs"));var c_=$r(u_());var Oe={_files:new Map,_filesById:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,resolveFileInfo(n,r){try{let e=Oe._fileInfoCache.get(r),[u,f,d]=Ae(n,"duckdb_web_fs_get_file_info_by_id",["number","number"],[r,(e==null?void 0:e.cacheEpoch)||0]);if(u!==0)return Fe(n,ve(n,f,d)),null;if(d===0)return Pe(n),e;let g=ve(n,f,d);Pe(n);let E=JSON.parse(g);return E==null?null:(Oe._fileInfoCache.set(r,E),E)}catch(e){return console.log(e),Fe(n,e.toString()),null}},testPlatformFeature:(n,r)=>{switch(r){case 1:return typeof BigInt64Array<"u";default:return console.warn(`test for unknown feature: ${r}`),!1}},getDefaultDataProtocol(n){return 1},openFile(n,r,e){var u,f;try{Oe._fileInfoCache.delete(r);let d=Oe.resolveFileInfo(n,r);switch(d==null?void 0:d.dataProtocol){case 1:{let g=(u=Oe._files)==null?void 0:u.get(d.dataUrl);g==null&&(g=$e.default.openSync(d.dataUrl,$e.default.constants.O_CREAT|$e.default.constants.O_RDWR,$e.default.constants.S_IRUSR|$e.default.constants.S_IWUSR),(f=Oe._filesById)==null||f.set(d.fileId,g));let E=$e.default.fstatSync(g).size,k=n._malloc(2*8);return n.HEAPF64[(k>>3)+0]=+E,n.HEAPF64[(k>>3)+1]=0,k}case 2:case 3:case 4:case 5:Fe(n,"Unsupported data protocol")}}catch(d){console.log(d),Fe(n,d.toString())}return 0},syncFile:(n,r)=>{},closeFile:(n,r)=>{try{let e=Oe._fileInfoCache.get(r);switch(Oe._fileInfoCache.delete(r),e==null?void 0:e.dataProtocol){case 1:{let u=Oe._filesById.get(r);Oe._filesById.delete(r),u!=null&&$e.default.closeSync(u);break}case 2:case 3:case 4:case 5:break}}catch(e){console.log(e),Fe(n,e.toString())}return 0},truncateFile:(n,r,e)=>{try{let u=Oe.resolveFileInfo(n,r);switch(u==null?void 0:u.dataProtocol){case 1:{$e.default.truncateSync(u.dataUrl,e);break}case 2:case 3:case 4:case 5:Fe(n,"Unsupported data protocol")}}catch(u){console.log(u),Fe(n,u.toString())}return 0},readFile:(n,r,e,u,f)=>{try{let d=Oe.resolveFileInfo(n,r);switch(d==null?void 0:d.dataProtocol){case 1:{let g=Oe._filesById.get(r);return g==null?(Fe(n,`File ${r} is missing a file descriptor`),0):$e.default.readSync(g,n.HEAPU8,e,u,f)}case 2:case 3:case 4:case 5:Fe(n,"Unsupported data protocol")}}catch(d){console.log(d),Fe(n,d.toString())}return 0},writeFile:(n,r,e,u,f)=>{try{let d=Oe.resolveFileInfo(n,r);switch(d==null?void 0:d.dataProtocol){case 1:{let g=Oe._filesById.get(r);if(g==null)return Fe(n,`File ${r} is missing a file descriptor`),0;let E=n.HEAPU8.subarray(e,e+u);return $e.default.writeSync(g,E,0,E.length,f)}case 2:case 3:case 4:case 5:Fe(n,"Unsupported data protocol")}}catch(d){console.log(d),Fe(n,d.toString())}return 0},getLastFileModificationTime:(n,r)=>{try{let e=Oe.resolveFileInfo(n,r);switch(e==null?void 0:e.dataProtocol){case 1:{let u=Oe._filesById.get(r);return u==null?(Fe(n,`File ${r} is missing a file descriptor`),0):$e.default.fstatSync(u).mtime.getTime()}case 2:case 3:case 4:case 5:Fe(n,"Unsupported data protocol")}}catch(e){console.log(e),Fe(n,e.toString())}return 0},checkDirectory:(n,r,e)=>{try{let u=Gr(n.HEAPU8.subarray(r,r+e));return $e.default.existsSync(u)}catch(u){return console.log(u),Fe(n,u.toString()),!1}},createDirectory:(n,r,e)=>{try{let u=Gr(n.HEAPU8.subarray(r,r+e));return $e.default.mkdirSync(u)}catch(u){return console.log(u),Fe(n,u.toString()),0}},removeDirectory:(n,r,e)=>{try{let u=Gr(n.HEAPU8.subarray(r,r+e));return $e.default.rmdirSync(u)}catch(u){return console.log(u),Fe(n,u.toString()),0}},listDirectoryEntries:(n,r,e)=>(Fe(n,"Not Implemented"),!1),glob:(n,r,e)=>{try{let u=ve(n,r,e),f=c_.sync([u],{dot:!0});for(let d of f)n.ccall("duckdb_web_fs_glob_add_path",null,["string"],[d])}catch(u){return console.log(u),Fe(n,u.toString()),0}},moveFile:(n,r,e,u,f)=>{var k,A;let d=ve(n,r,e),g=ve(n,u,f),E=(k=Oe._files)==null?void 0:k.get(d);E!==void 0&&(Oe._files.delete(E),Oe._files.set(g,E));for(let[S,R]of((A=Oe._fileInfoCache)==null?void 0:A.entries())||[])if(R.dataUrl==d){Oe._fileInfoCache.delete(S);break}return!0},checkFile:(n,r,e)=>{try{let u=Gr(n.HEAPU8.subarray(r,r+e));return $e.default.existsSync(u)}catch(u){return console.log(u),Fe(n,u.toString()),!1}},removeFile:(n,r,e)=>{try{let u=Gr(n.HEAPU8.subarray(r,r+e));return $e.default.rmSync(u)}catch(u){return console.log(u),Fe(n,u.toString()),0}},callScalarUDF:(n,r,e,u,f,d,g)=>{ui(Oe,n,r,e,u,f,d,g)}};var hh=$r(Vc());var dh=$r(Vc());var _h=$r(require("fs")),Kt=class extends bn{constructor(e,u,f,d){super(e,u);this.mainModulePath=f,this.pthreadWorkerPath=d}locateFile(e,u){if(e.endsWith(".wasm"))return this.mainModulePath;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerPath)throw new Error("Missing DuckDB worker path!");return this.pthreadWorkerPath}throw new Error(`WASM instantiation requested unexpected file: prefix=${u} path=${e}`)}instantiateWasm(e,u){globalThis.DUCKDB_RUNTIME={};for(let d of Object.getOwnPropertyNames(this._runtime)){if(d=="constructor")continue;let g=globalThis.DUCKDB_RUNTIME;g[d]=Object.getOwnPropertyDescriptor(this._runtime,d).value}let f=_h.default.readFileSync(this.mainModulePath);return WebAssembly.instantiate(f,e).then(d=>{u(d.instance,d.module)}),[]}instantiateImpl(e){return(0,dh.default)({...e,instantiateWasm:this.instantiateWasm.bind(this)})}};var Zi=class extends Kt{constructor(r,e,u,f=null){super(r,e,u,f)}instantiateImpl(r){return(0,hh.default)({...r,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};var mh=$r(ph());var ro=class extends Kt{constructor(r,e,u,f=null){super(r,e,u,f)}instantiateImpl(r){return(0,mh.default)({...r,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};async function cv(n,r,e){return(await di()).wasmExceptions&&n.eh?new ro(r,e,n.eh.mainModule):new Zi(r,e,n.mvp.mainModule)}0&&(module.exports={ConsoleLogger,DEFAULT_RUNTIME,DuckDBAccessMode,DuckDBBindingsBase,DuckDBConnection,DuckDBDataProtocol,DuckDBFeature,FileFlags,FileStatistics,JSONTableShape,LogEvent,LogLevel,LogOrigin,LogTopic,NODE_RUNTIME,OPFSFileHandleGenerator,OpenedFile,PACKAGE_NAME,PACKAGE_VERSION,PACKAGE_VERSION_MAJOR,PACKAGE_VERSION_MINOR,PACKAGE_VERSION_PATCH,PreparedStatement,ResultStreamIterator,StatusCode,VoidLogger,assertOPFSHandle,callSRet,copyBuffer,createDuckDB,createOPFSFileHandle,createStandaloneOPFSFileHandle,decodeText,defaultOPFSDomain,dropResponseBuffers,failWith,getDataProtocolName,getJsDelivrBundles,getLogEventLabel,getLogLevelLabel,getLogOriginLabel,getLogTopicLabel,getPlatformFeatures,isFirefox,isNode,isSafari,opfsScheme,parseOPFSURL,readString,selectBundle,stringifyOPFSURL});
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=duckdb-node-blocking.cjs.map
