"use strict";var le=Object.create;var I=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var Ee=Object.getOwnPropertyNames;var pe=Object.getPrototypeOf,me=Object.prototype.hasOwnProperty;var Te=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),Re=(s,e)=>{for(var r in e)I(s,r,{get:e[r],enumerable:!0})},j=(s,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ee(e))!me.call(s,n)&&n!==r&&I(s,n,{get:()=>e[n],enumerable:!(t=ue(e,n))||t.enumerable});return s};var A=(s,e,r)=>(r=s!=null?le(pe(s)):{},j(e||!s||!s.__esModule?I(r,"default",{value:s,enumerable:!0}):r,s)),_e=s=>j(I({},"__esModule",{value:!0}),s);var ie=Te((ir,ae)=>{var Q=require("url"),fe=require("vm"),R=require("worker_threads"),q=Symbol.for("worker"),k=Symbol.for("events"),N=class{constructor(){Object.defineProperty(this,k,{value:new Map})}dispatchEvent(e){if(e.target=e.currentTarget=this,this["on"+e.type])try{this["on"+e.type](e)}catch(t){console.error(t)}let r=this[k].get(e.type);r!=null&&r.forEach(t=>{try{t.call(this,e)}catch(n){console.error(n)}})}addEventListener(e,r){let t=this[k].get(e);t||this[k].set(e,t=[]),t.push(r)}removeEventListener(e,r){let t=this[k].get(e);if(t){let n=t.indexOf(r);n!==-1&&t.splice(n,1)}}};function Y(s,e){this.type=s,this.timeStamp=Date.now(),this.target=this.currentTarget=this.data=null}ae.exports=R.isMainThread?Ue():Ce();var Fe=Q.pathToFileURL(process.cwd()+"/");function Ue(){class s extends N{constructor(r,t){super();let{name:n,type:c}=t||{};r+="";let o;/^data:/.test(r)?o=r:o=Q.fileURLToPath(new Q.URL(r,Fe));let E=new R.Worker(__filename,{workerData:{mod:o,name:n,type:c}});Object.defineProperty(this,q,{value:E}),E.on("message",T=>{let u=new Y("message");u.data=T,this.dispatchEvent(u)}),E.on("error",T=>{T.type="error",this.dispatchEvent(T)}),E.on("exit",()=>{this.dispatchEvent(new Y("close"))})}postMessage(r,t){this[q].postMessage(r,t)}terminate(){this[q].terminate()}}return s.prototype.onmessage=s.prototype.onerror=s.prototype.onclose=null,s}function Ce(){let{mod:s,name:e,type:r}=R.workerData,t=global.self=global,n=[];function c(){let u=n;n=null,u.forEach(m=>{t.dispatchEvent(m)})}R.parentPort.on("message",u=>{let m=new Y("message");m.data=u,n==null?t.dispatchEvent(m):n.push(m)}),R.parentPort.on("error",u=>{u.type="Error",t.dispatchEvent(u)});class o extends N{postMessage(m,de){R.parentPort.postMessage(m,de)}close(){process.exit()}}let E=Object.getPrototypeOf(global);delete E.constructor,Object.defineProperties(o.prototype,E),E=Object.setPrototypeOf(global,new o),["postMessage","addEventListener","removeEventListener","dispatchEvent"].forEach(u=>{E[u]=E[u].bind(global)}),global.name=e;let T=/^data:/.test(s);if(r==="module")import(s).catch(u=>{if(T&&u.message==="Not supported")return console.warn("Worker(): Importing data: URLs requires Node 12.10+. Falling back to classic worker."),oe(s,e);console.error(u)}).then(c);else{try{/^data:/.test(s)?oe(s,e):require(s)}catch(u){console.error(u)}Promise.resolve().then(c)}}function oe(s,e){let{data:r}=We(s);return fe.runInThisContext(r,{filename:"worker.<"+(e||"data:")+">"})}function We(s){let[e,r,t,n]=s.match(/^data: *([^;,]*)(?: *; *([^,]*))? *,(.*)$/)||[];if(!e)throw Error("Invalid Data URL.");if(t)switch(t.toLowerCase()){case"base64":n=Buffer.from(n,"base64").toString();break;default:throw Error('Unknown Data URL encoding "'+t+'"')}return{type:r,data:n}}});var Be={};Re(Be,{AsyncDuckDB:()=>O,AsyncDuckDBConnection:()=>_,AsyncDuckDBDispatcher:()=>f,AsyncPreparedStatement:()=>y,AsyncResultStreamIterator:()=>b,ConsoleLogger:()=>L,DuckDBAccessMode:()=>K,DuckDBDataProtocol:()=>H,LogEvent:()=>J,LogLevel:()=>V,LogOrigin:()=>$,LogTopic:()=>z,PACKAGE_NAME:()=>F,PACKAGE_VERSION:()=>U,PACKAGE_VERSION_MAJOR:()=>Ne,PACKAGE_VERSION_MINOR:()=>Ae,PACKAGE_VERSION_PATCH:()=>we,StatusCode:()=>Z,VoidLogger:()=>w,WorkerRequestType:()=>P,WorkerResponseType:()=>D,WorkerTask:()=>a,createWorker:()=>ve,getJsDelivrBundles:()=>De,getLogEventLabel:()=>ke,getLogLevelLabel:()=>be,getLogOriginLabel:()=>ye,getLogTopicLabel:()=>Ie,getPlatformFeatures:()=>ne,isFirefox:()=>Le,isNode:()=>x,isSafari:()=>Pe,selectBundle:()=>Oe});module.exports=_e(Be);var K=(n=>(n[n.UNDEFINED=0]="UNDEFINED",n[n.AUTOMATIC=1]="AUTOMATIC",n[n.READ_ONLY=2]="READ_ONLY",n[n.READ_WRITE=3]="READ_WRITE",n))(K||{});var V=(c=>(c[c.NONE=0]="NONE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARNING=3]="WARNING",c[c.ERROR=4]="ERROR",c))(V||{}),z=(o=>(o[o.NONE=0]="NONE",o[o.CONNECT=1]="CONNECT",o[o.DISCONNECT=2]="DISCONNECT",o[o.OPEN=3]="OPEN",o[o.QUERY=4]="QUERY",o[o.INSTANTIATE=5]="INSTANTIATE",o))(z||{}),J=(o=>(o[o.NONE=0]="NONE",o[o.OK=1]="OK",o[o.ERROR=2]="ERROR",o[o.START=3]="START",o[o.RUN=4]="RUN",o[o.CAPTURE=5]="CAPTURE",o))(J||{}),$=(c=>(c[c.NONE=0]="NONE",c[c.WEB_WORKER=1]="WEB_WORKER",c[c.NODE_WORKER=2]="NODE_WORKER",c[c.BINDINGS=3]="BINDINGS",c[c.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",c))($||{}),w=class{log(e){}},L=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}};function be(s){switch(s){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function ke(s){switch(s){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function Ie(s){switch(s){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function ye(s){switch(s){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var Z=(e=>(e[e.SUCCESS=0]="SUCCESS",e))(Z||{});var p=A(require("apache-arrow"));var _=class{constructor(e,r){this._bindings=e,this._conn=r}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let r=await this._bindings.runQuery(this._conn,e),t=p.RecordBatchReader.from(r);return console.assert(t.isSync(),"Reader is not sync"),console.assert(t.isFile(),"Reader is not file"),new p.Table(t)}async send(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let r=await this._bindings.startPendingQuery(this._conn,e);for(;r==null;)r=await this._bindings.pollPendingQuery(this._conn);let t=new b(this._bindings,this._conn,r),n=await p.RecordBatchReader.from(t);return console.assert(n.isAsync()),console.assert(n.isStream()),n}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let r=await this._bindings.createPrepared(this._conn,e);return new y(this._bindings,this._conn,r)}async insertArrowTable(e,r){let t=p.tableToIPC(e,"stream");await this.insertArrowFromIPCStream(t,r)}async insertArrowFromIPCStream(e,r){await this._bindings.insertArrowFromIPCStream(this._conn,e,r)}async insertCSVFromPath(e,r){await this._bindings.insertCSVFromPath(this._conn,e,r)}async insertJSONFromPath(e,r){await this._bindings.insertJSONFromPath(this._conn,e,r)}},b=class{constructor(e,r,t){this.db=e;this.conn=r;this.header=t;this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},y=class{constructor(e,r,t){this.bindings=e,this.connectionId=r,this.statementId=t}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let r=await this.bindings.runPrepared(this.connectionId,this.statementId,e),t=p.RecordBatchReader.from(r);return console.assert(t.isSync()),console.assert(t.isFile()),new p.Table(t)}async send(...e){let r=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),t=new b(this.bindings,this.connectionId,r),n=await p.RecordBatchReader.from(t);return console.assert(n.isAsync()),console.assert(n.isStream()),n}};var P=(d=>(d.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",d.CLOSE_PREPARED="CLOSE_PREPARED",d.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",d.CONNECT="CONNECT",d.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",d.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",d.CREATE_PREPARED="CREATE_PREPARED",d.DISCONNECT="DISCONNECT",d.DROP_FILE="DROP_FILE",d.DROP_FILES="DROP_FILES",d.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",d.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",d.FLUSH_FILES="FLUSH_FILES",d.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",d.GET_TABLE_NAMES="GET_TABLE_NAMES",d.GET_VERSION="GET_VERSION",d.GLOB_FILE_INFOS="GLOB_FILE_INFOS",d.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",d.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",d.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",d.INSTANTIATE="INSTANTIATE",d.OPEN="OPEN",d.PING="PING",d.POLL_PENDING_QUERY="POLL_PENDING_QUERY",d.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",d.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",d.REGISTER_FILE_URL="REGISTER_FILE_URL",d.RESET="RESET",d.RUN_PREPARED="RUN_PREPARED",d.RUN_QUERY="RUN_QUERY",d.SEND_PREPARED="SEND_PREPARED",d.START_PENDING_QUERY="START_PENDING_QUERY",d.TOKENIZE="TOKENIZE",d))(P||{}),D=(l=>(l.CONNECTION_INFO="CONNECTION_INFO",l.ERROR="ERROR",l.FEATURE_FLAGS="FEATURE_FLAGS",l.FILE_BUFFER="FILE_BUFFER",l.FILE_INFOS="FILE_INFOS",l.FILE_SIZE="FILE_SIZE",l.FILE_STATISTICS="FILE_STATISTICS",l.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",l.LOG="LOG",l.OK="OK",l.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",l.QUERY_PLAN="QUERY_PLAN",l.QUERY_RESULT="QUERY_RESULT",l.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",l.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",l.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",l.REGISTERED_FILE="REGISTERED_FILE",l.SCRIPT_TOKENS="SCRIPT_TOKENS",l.SUCCESS="SUCCESS",l.TABLE_NAMES="TABLE_NAMES",l.VERSION_STRING="VERSION_STRING",l))(D||{}),a=class{constructor(e,r){this.promiseResolver=()=>{};this.promiseRejecter=()=>{};this.type=e,this.data=r,this.promise=new Promise((t,n)=>{this.promiseResolver=t,this.promiseRejecter=n})}};var i=A(require("apache-arrow"));function g(s){switch(s.typeId){case i.Type.Binary:return{sqlType:"binary"};case i.Type.Bool:return{sqlType:"bool"};case i.Type.Date:return{sqlType:"date"};case i.Type.DateDay:return{sqlType:"date32[d]"};case i.Type.DateMillisecond:return{sqlType:"date64[ms]"};case i.Type.Decimal:{let e=s;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case i.Type.Float:return{sqlType:"float"};case i.Type.Float16:return{sqlType:"float16"};case i.Type.Float32:return{sqlType:"float32"};case i.Type.Float64:return{sqlType:"float64"};case i.Type.Int:return{sqlType:"int32"};case i.Type.Int16:return{sqlType:"int16"};case i.Type.Int32:return{sqlType:"int32"};case i.Type.Int64:return{sqlType:"int64"};case i.Type.Uint16:return{sqlType:"uint16"};case i.Type.Uint32:return{sqlType:"uint32"};case i.Type.Uint64:return{sqlType:"uint64"};case i.Type.Uint8:return{sqlType:"uint8"};case i.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case i.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case i.Type.List:return{sqlType:"list",valueType:g(s.valueType)};case i.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:s.byteWidth};case i.Type.Null:return{sqlType:"null"};case i.Type.Utf8:return{sqlType:"utf8"};case i.Type.Struct:return{sqlType:"struct",fields:s.children.map(r=>S(r.name,r.type))};case i.Type.Map:{let e=s;return{sqlType:"map",keyType:g(e.keyType),valueType:g(e.valueType)}}case i.Type.Time:return{sqlType:"time[s]"};case i.Type.TimeMicrosecond:return{sqlType:"time[us]"};case i.Type.TimeMillisecond:return{sqlType:"time[ms]"};case i.Type.TimeNanosecond:return{sqlType:"time[ns]"};case i.Type.TimeSecond:return{sqlType:"time[s]"};case i.Type.Timestamp:return{sqlType:"timestamp",timezone:s.timezone||void 0};case i.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:s.timezone||void 0};case i.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:s.timezone||void 0};case i.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:s.timezone||void 0};case i.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:s.timezone||void 0}}throw new Error(`unsupported arrow type: ${s.toString()}`)}function S(s,e){let r=g(e);return r.name=s,r}var ge=new TextEncoder,O=class{constructor(e,r=null){this._onInstantiationProgress=[];this._worker=null;this._workerShutdownPromise=null;this._workerShutdownResolver=()=>{};this._nextMessageId=0;this._pendingRequests=new Map;this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),r!=null&&this.attach(r)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((r,t)=>{this._workerShutdownResolver=r})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,r=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let t=this._nextMessageId++;return this._pendingRequests.set(t,e),this._worker.postMessage({messageId:t,type:e.type,data:e.data},r),await e.promise}onMessage(e){let r=e.data;switch(r.type){case"LOG":{this._logger.log(r.data);return}case"INSTANTIATE_PROGRESS":{for(let n of this._onInstantiationProgress)n(r.data);return}}let t=this._pendingRequests.get(r.requestId);if(!t){console.warn(`unassociated response: [${r.requestId}, ${r.type.toString()}]`);return}if(this._pendingRequests.delete(r.requestId),r.type=="ERROR"){let n=new Error(r.data.message);n.name=r.data.name,n.stack=r.data.stack,t.promiseRejecter(n);return}switch(t.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(r.type=="OK"){t.promiseResolver(r.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],r.type=="OK"){t.promiseResolver(r.data);return}break;case"GLOB_FILE_INFOS":if(r.type=="FILE_INFOS"){t.promiseResolver(r.data);return}break;case"GET_VERSION":if(r.type=="VERSION_STRING"){t.promiseResolver(r.data);return}break;case"GET_FEATURE_FLAGS":if(r.type=="FEATURE_FLAGS"){t.promiseResolver(r.data);return}break;case"GET_TABLE_NAMES":if(r.type=="TABLE_NAMES"){t.promiseResolver(r.data);return}break;case"TOKENIZE":if(r.type=="SCRIPT_TOKENS"){t.promiseResolver(r.data);return}break;case"COPY_FILE_TO_BUFFER":if(r.type=="FILE_BUFFER"){t.promiseResolver(r.data);return}break;case"EXPORT_FILE_STATISTICS":if(r.type=="FILE_STATISTICS"){t.promiseResolver(r.data);return}break;case"CONNECT":if(r.type=="CONNECTION_INFO"){t.promiseResolver(r.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(r.type=="QUERY_RESULT"){t.promiseResolver(r.data);return}break;case"SEND_PREPARED":if(r.type=="QUERY_RESULT_HEADER"){t.promiseResolver(r.data);return}break;case"START_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(r.data);return}break;case"POLL_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(r.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],r.type=="SUCCESS"){t.promiseResolver(r.data);return}break;case"FETCH_QUERY_RESULTS":if(r.type=="QUERY_RESULT_CHUNK"){t.promiseResolver(r.data);return}break;case"CREATE_PREPARED":if(r.type=="PREPARED_STATEMENT_ID"){t.promiseResolver(r.data);return}break}t.promiseRejecter(new Error(`unexpected response type: ${r.type.toString()}`))}onError(e){console.error(e),console.error(`error in duckdb worker: ${e.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let e=new a("RESET",null);return await this.postTask(e)}async ping(){let e=new a("PING",null);await this.postTask(e)}async dropFile(e){let r=new a("DROP_FILE",e);return await this.postTask(r)}async dropFiles(){let e=new a("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new a("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,r=null,t=n=>{}){this._onInstantiationProgress.push(t);let n=new a("INSTANTIATE",[e,r]);return await this.postTask(n)}async getVersion(){let e=new a("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new a("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let r=new a("OPEN",e);await this.postTask(r)}async tokenize(e){let r=new a("TOKENIZE",e);return await this.postTask(r)}async connectInternal(){let e=new a("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new _(this,e)}async disconnect(e){let r=new a("DISCONNECT",e);await this.postTask(r)}async runQuery(e,r){let t=new a("RUN_QUERY",[e,r]);return await this.postTask(t)}async startPendingQuery(e,r){let t=new a("START_PENDING_QUERY",[e,r]);return await this.postTask(t)}async pollPendingQuery(e){let r=new a("POLL_PENDING_QUERY",e);return await this.postTask(r)}async cancelPendingQuery(e){let r=new a("CANCEL_PENDING_QUERY",e);return await this.postTask(r)}async fetchQueryResults(e){let r=new a("FETCH_QUERY_RESULTS",e);return await this.postTask(r)}async getTableNames(e,r){let t=new a("GET_TABLE_NAMES",[e,r]);return await this.postTask(t)}async createPrepared(e,r){let t=new a("CREATE_PREPARED",[e,r]);return await this.postTask(t)}async closePrepared(e,r){let t=new a("CLOSE_PREPARED",[e,r]);await this.postTask(t)}async runPrepared(e,r,t){let n=new a("RUN_PREPARED",[e,r,t]);return await this.postTask(n)}async sendPrepared(e,r,t){let n=new a("SEND_PREPARED",[e,r,t]);return await this.postTask(n)}async globFiles(e){let r=new a("GLOB_FILE_INFOS",e);return await this.postTask(r)}async registerFileText(e,r){let t=ge.encode(r);await this.registerFileBuffer(e,t)}async registerFileURL(e,r,t,n){r===void 0&&(r=e);let c=new a("REGISTER_FILE_URL",[e,r,t,n]);await this.postTask(c)}async registerEmptyFileBuffer(e){let r=new a("REGISTER_FILE_BUFFER",[e,new Uint8Array]);await this.postTask(r)}async registerFileBuffer(e,r){let t=new a("REGISTER_FILE_BUFFER",[e,r]);await this.postTask(t,[r.buffer])}async registerFileHandle(e,r,t,n){let c=new a("REGISTER_FILE_HANDLE",[e,r,t,n]);await this.postTask(c,[])}async collectFileStatistics(e,r){let t=new a("COLLECT_FILE_STATISTICS",[e,r]);await this.postTask(t,[])}async exportFileStatistics(e){let r=new a("EXPORT_FILE_STATISTICS",e);return await this.postTask(r,[])}async copyFileToBuffer(e){let r=new a("COPY_FILE_TO_BUFFER",e);return await this.postTask(r)}async copyFileToPath(e,r){let t=new a("COPY_FILE_TO_PATH",[e,r]);await this.postTask(t)}async insertArrowFromIPCStream(e,r,t){if(r.length==0)return;let n=new a("INSERT_ARROW_FROM_IPC_STREAM",[e,r,t]);await this.postTask(n,[r.buffer])}async insertCSVFromPath(e,r,t){if(t.columns!==void 0){let c=[];for(let o in t.columns){let E=t.columns[o];c.push(S(o,E))}t.columnsFlat=c,delete t.columns}let n=new a("IMPORT_CSV_FROM_PATH",[e,r,t]);await this.postTask(n)}async insertJSONFromPath(e,r,t){if(t.columns!==void 0){let c=[];for(let o in t.columns){let E=t.columns[o];c.push(S(o,E))}t.columnsFlat=c,delete t.columns}let n=new a("IMPORT_JSON_FROM_PATH",[e,r,t]);await this.postTask(n)}};var f=class{constructor(){this._bindings=null;this._nextMessageId=0}log(e){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:e},[])}sendOK(e){this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"OK",data:null},[])}failWith(e,r){let t={name:r.name,message:r.message,stack:r.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"ERROR",data:t},[])}async onMessage(e){switch(e.type){case"PING":this.sendOK(e);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(e,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(e.data[0],e.data[1],r=>{this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"INSTANTIATE_PROGRESS",data:r},[])}),this.sendOK(e)}catch(r){this._bindings=null,this.failWith(e,r)}return;default:break}if(!this._bindings)return this.failWith(e,new Error("duckdb is not initialized"));try{switch(e.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(e);break;case"OPEN":this._bindings.open(e.data),this.sendOK(e);break;case"DROP_FILE":this._bindings.dropFile(e.data),this.sendOK(e);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(e);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(e);break;case"CONNECT":{let r=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"CONNECTION_INFO",data:r.useUnsafe((t,n)=>n)},[]);break}case"DISCONNECT":this._bindings.disconnect(e.data),this.sendOK(e);break;case"CREATE_PREPARED":{let r=this._bindings.createPrepared(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"PREPARED_STATEMENT_ID",data:r},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(e.data[0],e.data[1]),this.sendOK(e);break}case"RUN_PREPARED":{let r=this._bindings.runPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT",data:r},[r.buffer]);break}case"RUN_QUERY":{let r=this._bindings.runQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT",data:r},[r.buffer]);break}case"SEND_PREPARED":{let r=this._bindings.sendPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT_HEADER",data:r},[r.buffer]);break}case"START_PENDING_QUERY":{let r=this._bindings.startPendingQuery(e.data[0],e.data[1]),t=[];r&&t.push(r.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:r},t);break}case"POLL_PENDING_QUERY":{let r=this._bindings.pollPendingQuery(e.data),t=[];r&&t.push(r.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:r},t);break}case"CANCEL_PENDING_QUERY":{let r=this._bindings.cancelPendingQuery(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"SUCCESS",data:r},[]);break}case"FETCH_QUERY_RESULTS":{let r=this._bindings.fetchQueryResults(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"QUERY_RESULT_CHUNK",data:r},[r.buffer]);break}case"GET_TABLE_NAMES":{let r=this._bindings.getTableNames(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"TABLE_NAMES",data:r},[]);break}case"GLOB_FILE_INFOS":{let r=this._bindings.globFiles(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_INFOS",data:r},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(e.data[0],e.data[1],e.data[2],e.data[3]),this.sendOK(e);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(e.data[0],e.data[1]),this.sendOK(e);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(e.data[0],e.data[1],e.data[2],e.data[3]),this.sendOK(e);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(e.data[0],e.data[1]),this.sendOK(e);break;case"COPY_FILE_TO_BUFFER":{let r=this._bindings.copyFileToBuffer(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_BUFFER",data:r},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(e.data[0],e.data[1]),this.sendOK(e);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(e.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case"TOKENIZE":{let r=this._bindings.tokenize(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:"SCRIPT_TOKENS",data:r},[]);break}}}catch(r){return this.failWith(e,r)}}};var X=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),ee=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]));var re=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var te=()=>(async s=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(s)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var h={name:"@duckdb/duckdb-wasm",version:"1.11.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^11.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.1","@typescript-eslint/eslint-plugin":"^5.53.0","@typescript-eslint/parser":"^5.49.0",esbuild:"^0.15.12",eslint:"^8.35.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.32.2","fast-glob":"^3.2.12",jasmine:"^4.5.0","jasmine-core":"^5.0.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.2","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.36","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.8.4",puppeteer:"^19.10.0",rimraf:"^4.3.0",s3rver:"^3.7.1",typedoc:"^0.24.8",typescript:"^4.8.4","wasm-feature-detect":"^1.5.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}};var F=h.name,U=h.version,C=h.version.split("."),Ne=C[0],Ae=C[1],we=C[2];var x=()=>typeof navigator>"u",se=()=>x()?"node":navigator.userAgent,Le=()=>se().includes("Firefox"),Pe=()=>/^((?!chrome|android).)*safari/i.test(se());function De(){let s=`https://cdn.jsdelivr.net/npm/${F}@${U}/dist/`;return{mvp:{mainModule:`${s}duckdb-mvp.wasm`,mainWorker:`${s}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${s}duckdb-eh.wasm`,mainWorker:`${s}duckdb-browser-eh.worker.js`}}}var W=null,v=null,M=null,B=null,G=null;async function ne(){return W==null&&(W=typeof BigInt64Array<"u"),v==null&&(v=await ee()),M==null&&(M=await te()),B==null&&(B=await re()),G==null&&(G=await X()),{bigInt64Array:W,crossOriginIsolated:x()||globalThis.crossOriginIsolated||!1,wasmExceptions:v,wasmSIMD:B,wasmThreads:M,wasmBulkMemory:G}}async function Oe(s){let e=await ne();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&s.coi)return{mainModule:s.coi.mainModule,mainWorker:s.coi.mainWorker,pthreadWorker:s.coi.pthreadWorker};if(s.eh)return{mainModule:s.eh.mainModule,mainWorker:s.eh.mainWorker,pthreadWorker:null}}return{mainModule:s.mvp.mainModule,mainWorker:s.mvp.mainWorker,pthreadWorker:null}}var ce=A(ie());async function ve(s){let e=new Request(s),r=await fetch(e),t=URL.createObjectURL(await r.blob());return new ce.default(t)}function Me(){let s=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),s.decode(e))}var dr=Me();var H=(o=>(o[o.BUFFER=0]="BUFFER",o[o.NODE_FS=1]="NODE_FS",o[o.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",o[o.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",o[o.HTTP=4]="HTTP",o[o.S3=5]="S3",o))(H||{});0&&(module.exports={AsyncDuckDB,AsyncDuckDBConnection,AsyncDuckDBDispatcher,AsyncPreparedStatement,AsyncResultStreamIterator,ConsoleLogger,DuckDBAccessMode,DuckDBDataProtocol,LogEvent,LogLevel,LogOrigin,LogTopic,PACKAGE_NAME,PACKAGE_VERSION,PACKAGE_VERSION_MAJOR,PACKAGE_VERSION_MINOR,PACKAGE_VERSION_PATCH,StatusCode,VoidLogger,WorkerRequestType,WorkerResponseType,WorkerTask,createWorker,getJsDelivrBundles,getLogEventLabel,getLogLevelLabel,getLogOriginLabel,getLogTopicLabel,getPlatformFeatures,isFirefox,isNode,isSafari,selectBundle});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi13b3JrZXIvY2pzL25vZGUuanMiLCAiLi4vc3JjL3RhcmdldHMvZHVja2RiLnRzIiwgIi4uL3NyYy9iaW5kaW5ncy9jb25maWcudHMiLCAiLi4vc3JjL2xvZy50cyIsICIuLi9zcmMvc3RhdHVzLnRzIiwgIi4uL3NyYy9wYXJhbGxlbC9hc3luY19jb25uZWN0aW9uLnRzIiwgIi4uL3NyYy9wYXJhbGxlbC93b3JrZXJfcmVxdWVzdC50cyIsICIuLi9zcmMvanNvbl90eXBlZGVmLnRzIiwgIi4uL3NyYy9wYXJhbGxlbC9hc3luY19iaW5kaW5ncy50cyIsICIuLi9zcmMvcGFyYWxsZWwvd29ya2VyX2Rpc3BhdGNoZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dhc20tZmVhdHVyZS1kZXRlY3QvZGlzdC9lc20vaW5kZXguanMiLCAiLi4vc3JjL3ZlcnNpb24udHMiLCAiLi4vc3JjL3BsYXRmb3JtLnRzIiwgIi4uL3NyYy93b3JrZXIudHMiLCAiLi4vc3JjL2JpbmRpbmdzL3J1bnRpbWUudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgVVJMID0gcmVxdWlyZSgndXJsJyk7XG5cbmNvbnN0IFZNID0gcmVxdWlyZSgndm0nKTtcblxuY29uc3QgdGhyZWFkcyA9IHJlcXVpcmUoJ3dvcmtlcl90aHJlYWRzJyk7XG5cbmNvbnN0IFdPUktFUiA9IFN5bWJvbC5mb3IoJ3dvcmtlcicpO1xuY29uc3QgRVZFTlRTID0gU3ltYm9sLmZvcignZXZlbnRzJyk7XG5cbmNsYXNzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIEVWRU5UUywge1xuICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgIH0pO1xuICB9XG5cbiAgZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgIGV2ZW50LnRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXNbJ29uJyArIGV2ZW50LnR5cGVdKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzWydvbicgKyBldmVudC50eXBlXShldmVudCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGxpc3QgPSB0aGlzW0VWRU5UU10uZ2V0KGV2ZW50LnR5cGUpO1xuICAgIGlmIChsaXN0ID09IG51bGwpIHJldHVybjtcbiAgICBsaXN0LmZvckVhY2goaGFuZGxlciA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4pIHtcbiAgICBsZXQgZXZlbnRzID0gdGhpc1tFVkVOVFNdLmdldCh0eXBlKTtcbiAgICBpZiAoIWV2ZW50cykgdGhpc1tFVkVOVFNdLnNldCh0eXBlLCBldmVudHMgPSBbXSk7XG4gICAgZXZlbnRzLnB1c2goZm4pO1xuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbikge1xuICAgIGxldCBldmVudHMgPSB0aGlzW0VWRU5UU10uZ2V0KHR5cGUpO1xuXG4gICAgaWYgKGV2ZW50cykge1xuICAgICAgY29uc3QgaW5kZXggPSBldmVudHMuaW5kZXhPZihmbik7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSBldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxufVxuXG5mdW5jdGlvbiBFdmVudCh0eXBlLCB0YXJnZXQpIHtcbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgdGhpcy50aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xuICB0aGlzLnRhcmdldCA9IHRoaXMuY3VycmVudFRhcmdldCA9IHRoaXMuZGF0YSA9IG51bGw7XG59IC8vIHRoaXMgbW9kdWxlIGlzIHVzZWQgc2VsZi1yZWZlcmVudGlhbGx5IG9uIGJvdGggc2lkZXMgb2YgdGhlXG4vLyB0aHJlYWQgYm91bmRhcnksIGJ1dCBiZWhhdmVzIGRpZmZlcmVudGx5IGluIGVhY2ggY29udGV4dC5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocmVhZHMuaXNNYWluVGhyZWFkID8gbWFpblRocmVhZCgpIDogd29ya2VyVGhyZWFkKCk7XG5jb25zdCBiYXNlVXJsID0gVVJMLnBhdGhUb0ZpbGVVUkwocHJvY2Vzcy5jd2QoKSArICcvJyk7XG5cbmZ1bmN0aW9uIG1haW5UaHJlYWQoKSB7XG4gIC8qKlxuICAgKiBBIHdlYi1jb21wYXRpYmxlIFdvcmtlciBpbXBsZW1lbnRhdGlvbiBhdG9wIE5vZGUncyB3b3JrZXJfdGhyZWFkcy5cbiAgICogIC0gdXNlcyBET00tc3R5bGUgZXZlbnRzIChFdmVudC5kYXRhLCBFdmVudC50eXBlLCBldGMpXG4gICAqICAtIHN1cHBvcnRzIGV2ZW50IGhhbmRsZXIgcHJvcGVydGllcyAod29ya2VyLm9ubWVzc2FnZSlcbiAgICogIC0gV29ya2VyKCkgY29uc3RydWN0b3IgYWNjZXB0cyBhIG1vZHVsZSBVUkxcbiAgICogIC0gYWNjZXB0cyB0aGUge3R5cGU6J21vZHVsZSd9IG9wdGlvblxuICAgKiAgLSBlbXVsYXRlcyBXb3JrZXJHbG9iYWxTY29wZSB3aXRoaW4gdGhlIHdvcmtlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsICBUaGUgVVJMIG9yIG1vZHVsZSBzcGVjaWZpZXIgdG8gbG9hZFxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdICBXb3JrZXIgY29uc3RydWN0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm5hbWVdICBBdmFpbGFibGUgYXMgYHNlbGYubmFtZWAgd2l0aGluIHRoZSBXb3JrZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnR5cGU9XCJjbGFzc2ljXCJdICBQYXNzIFwibW9kdWxlXCIgdG8gY3JlYXRlIGEgTW9kdWxlIFdvcmtlci5cbiAgICovXG4gIGNsYXNzIFdvcmtlciBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdXJsICs9ICcnO1xuICAgICAgbGV0IG1vZDtcblxuICAgICAgaWYgKC9eZGF0YTovLnRlc3QodXJsKSkge1xuICAgICAgICBtb2QgPSB1cmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb2QgPSBVUkwuZmlsZVVSTFRvUGF0aChuZXcgVVJMLlVSTCh1cmwsIGJhc2VVcmwpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd29ya2VyID0gbmV3IHRocmVhZHMuV29ya2VyKF9fZmlsZW5hbWUsIHtcbiAgICAgICAgd29ya2VyRGF0YToge1xuICAgICAgICAgIG1vZCxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHR5cGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgV09SS0VSLCB7XG4gICAgICAgIHZhbHVlOiB3b3JrZXJcbiAgICAgIH0pO1xuICAgICAgd29ya2VyLm9uKCdtZXNzYWdlJywgZGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCdtZXNzYWdlJyk7XG4gICAgICAgIGV2ZW50LmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICB3b3JrZXIub24oJ2Vycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICBlcnJvci50eXBlID0gJ2Vycm9yJztcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVycm9yKTtcbiAgICAgIH0pO1xuICAgICAgd29ya2VyLm9uKCdleGl0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbG9zZScpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvc3RNZXNzYWdlKGRhdGEsIHRyYW5zZmVyTGlzdCkge1xuICAgICAgdGhpc1tXT1JLRVJdLnBvc3RNZXNzYWdlKGRhdGEsIHRyYW5zZmVyTGlzdCk7XG4gICAgfVxuXG4gICAgdGVybWluYXRlKCkge1xuICAgICAgdGhpc1tXT1JLRVJdLnRlcm1pbmF0ZSgpO1xuICAgIH1cblxuICB9XG5cbiAgV29ya2VyLnByb3RvdHlwZS5vbm1lc3NhZ2UgPSBXb3JrZXIucHJvdG90eXBlLm9uZXJyb3IgPSBXb3JrZXIucHJvdG90eXBlLm9uY2xvc2UgPSBudWxsO1xuICByZXR1cm4gV29ya2VyO1xufVxuXG5mdW5jdGlvbiB3b3JrZXJUaHJlYWQoKSB7XG4gIGxldCB7XG4gICAgbW9kLFxuICAgIG5hbWUsXG4gICAgdHlwZVxuICB9ID0gdGhyZWFkcy53b3JrZXJEYXRhOyAvLyB0dXJuIGdsb2JhbCBpbnRvIGEgbW9jayBXb3JrZXJHbG9iYWxTY29wZVxuXG4gIGNvbnN0IHNlbGYgPSBnbG9iYWwuc2VsZiA9IGdsb2JhbDsgLy8gZW5xdWV1ZSBtZXNzYWdlcyB0byBkaXNwYXRjaCBhZnRlciBtb2R1bGVzIGFyZSBsb2FkZWRcblxuICBsZXQgcSA9IFtdO1xuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGNvbnN0IGJ1ZmZlcmVkID0gcTtcbiAgICBxID0gbnVsbDtcbiAgICBidWZmZXJlZC5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICB0aHJlYWRzLnBhcmVudFBvcnQub24oJ21lc3NhZ2UnLCBkYXRhID0+IHtcbiAgICBjb25zdCBldmVudCA9IG5ldyBFdmVudCgnbWVzc2FnZScpO1xuICAgIGV2ZW50LmRhdGEgPSBkYXRhO1xuICAgIGlmIChxID09IG51bGwpIHNlbGYuZGlzcGF0Y2hFdmVudChldmVudCk7ZWxzZSBxLnB1c2goZXZlbnQpO1xuICB9KTtcbiAgdGhyZWFkcy5wYXJlbnRQb3J0Lm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgZXJyLnR5cGUgPSAnRXJyb3InO1xuICAgIHNlbGYuZGlzcGF0Y2hFdmVudChlcnIpO1xuICB9KTtcblxuICBjbGFzcyBXb3JrZXJHbG9iYWxTY29wZSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgICBwb3N0TWVzc2FnZShkYXRhLCB0cmFuc2Zlckxpc3QpIHtcbiAgICAgIHRocmVhZHMucGFyZW50UG9ydC5wb3N0TWVzc2FnZShkYXRhLCB0cmFuc2Zlckxpc3QpO1xuICAgIH0gLy8gRW11bGF0ZXMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlL2Nsb3NlXG5cblxuICAgIGNsb3NlKCkge1xuICAgICAgcHJvY2Vzcy5leGl0KCk7XG4gICAgfVxuXG4gIH1cblxuICBsZXQgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgZGVsZXRlIHByb3RvLmNvbnN0cnVjdG9yO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXb3JrZXJHbG9iYWxTY29wZS5wcm90b3R5cGUsIHByb3RvKTtcbiAgcHJvdG8gPSBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2xvYmFsLCBuZXcgV29ya2VyR2xvYmFsU2NvcGUoKSk7XG4gIFsncG9zdE1lc3NhZ2UnLCAnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJywgJ2Rpc3BhdGNoRXZlbnQnXS5mb3JFYWNoKGZuID0+IHtcbiAgICBwcm90b1tmbl0gPSBwcm90b1tmbl0uYmluZChnbG9iYWwpO1xuICB9KTtcbiAgZ2xvYmFsLm5hbWUgPSBuYW1lO1xuICBjb25zdCBpc0RhdGFVcmwgPSAvXmRhdGE6Ly50ZXN0KG1vZCk7XG5cbiAgaWYgKHR5cGUgPT09ICdtb2R1bGUnKSB7XG4gICAgaW1wb3J0KG1vZCkuY2F0Y2goZXJyID0+IHtcbiAgICAgIGlmIChpc0RhdGFVcmwgJiYgZXJyLm1lc3NhZ2UgPT09ICdOb3Qgc3VwcG9ydGVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1dvcmtlcigpOiBJbXBvcnRpbmcgZGF0YTogVVJMcyByZXF1aXJlcyBOb2RlIDEyLjEwKy4gRmFsbGluZyBiYWNrIHRvIGNsYXNzaWMgd29ya2VyLicpO1xuICAgICAgICByZXR1cm4gZXZhbHVhdGVEYXRhVXJsKG1vZCwgbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KS50aGVuKGZsdXNoKTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgaWYgKC9eZGF0YTovLnRlc3QobW9kKSkge1xuICAgICAgICBldmFsdWF0ZURhdGFVcmwobW9kLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVpcmUobW9kKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG5cbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZsdXNoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmFsdWF0ZURhdGFVcmwodXJsLCBuYW1lKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhXG4gIH0gPSBwYXJzZURhdGFVcmwodXJsKTtcbiAgcmV0dXJuIFZNLnJ1bkluVGhpc0NvbnRleHQoZGF0YSwge1xuICAgIGZpbGVuYW1lOiAnd29ya2VyLjwnICsgKG5hbWUgfHwgJ2RhdGE6JykgKyAnPidcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF0YVVybCh1cmwpIHtcbiAgbGV0IFttLCB0eXBlLCBlbmNvZGluZywgZGF0YV0gPSB1cmwubWF0Y2goL15kYXRhOiAqKFteOyxdKikoPzogKjsgKihbXixdKikpPyAqLCguKikkLykgfHwgW107XG4gIGlmICghbSkgdGhyb3cgRXJyb3IoJ0ludmFsaWQgRGF0YSBVUkwuJyk7XG4gIGlmIChlbmNvZGluZykgc3dpdGNoIChlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLCAnYmFzZTY0JykudG9TdHJpbmcoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKCdVbmtub3duIERhdGEgVVJMIGVuY29kaW5nIFwiJyArIGVuY29kaW5nICsgJ1wiJyk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0eXBlLFxuICAgIGRhdGFcbiAgfTtcbn0iLCAiZXhwb3J0ICogZnJvbSAnLi4vYmluZGluZ3MvY29uZmlnJztcbmV4cG9ydCAqIGZyb20gJy4uL2xvZyc7XG5leHBvcnQgKiBmcm9tICcuLi9zdGF0dXMnO1xuZXhwb3J0ICogZnJvbSAnLi4vcGFyYWxsZWwnO1xuZXhwb3J0ICogZnJvbSAnLi4vcGxhdGZvcm0nO1xuZXhwb3J0ICogZnJvbSAnLi4vdmVyc2lvbic7XG5leHBvcnQgKiBmcm9tICcuLi93b3JrZXInO1xuXG5leHBvcnQgeyBJbnN0YW50aWF0aW9uUHJvZ3Jlc3MsIEluc3RhbnRpYXRpb25Qcm9ncmVzc0hhbmRsZXIsIER1Y2tEQkRhdGFQcm90b2NvbCB9IGZyb20gJy4uL2JpbmRpbmdzJztcbiIsICJleHBvcnQgaW50ZXJmYWNlIER1Y2tEQlF1ZXJ5Q29uZmlnIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcG9sbGluZyBpbnRlcnZhbCBmb3IgcXVlcmllc1xuICAgICAqL1xuICAgIHF1ZXJ5UG9sbGluZ0ludGVydmFsPzogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIENhc3QgQmlnSW50IHRvIERvdWJsZT9cbiAgICAgKi9cbiAgICBjYXN0QmlnSW50VG9Eb3VibGU/OiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIENhc3QgVGltZXN0YW1wIHRvIERhdGU2ND9cbiAgICAgKi9cbiAgICBjYXN0VGltZXN0YW1wVG9EYXRlPzogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBDYXN0IFRpbWVzdGFtcCB0byBEYXRlNjQ/XG4gICAgICovXG4gICAgY2FzdER1cmF0aW9uVG9UaW1lNjQ/OiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIENhc3QgRGVjaW1hbCB0byBEb3VibGU/XG4gICAgICovXG4gICAgY2FzdERlY2ltYWxUb0RvdWJsZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHVja0RCRmlsZXN5c3RlbUNvbmZpZyB7XG4gICAgLyoqXG4gICAgICogQWxsb3cgZmFsbGluZyBiYWNrIHRvIGZ1bGwgSFRUUCByZWFkcyBpZiB0aGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgcmFuZ2UgcmVxdWVzdHMuXG4gICAgICovXG4gICAgYWxsb3dGdWxsSFRUUFJlYWRzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGVudW0gRHVja0RCQWNjZXNzTW9kZSB7XG4gICAgVU5ERUZJTkVEID0gMCxcbiAgICBBVVRPTUFUSUMgPSAxLFxuICAgIFJFQURfT05MWSA9IDIsXG4gICAgUkVBRF9XUklURSA9IDMsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHVja0RCQ29uZmlnIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YWJhc2UgcGF0aFxuICAgICAqL1xuICAgIHBhdGg/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIGFjY2VzcyBtb2RlXG4gICAgICovXG4gICAgYWNjZXNzTW9kZT86IER1Y2tEQkFjY2Vzc01vZGU7XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRocmVhZHMuXG4gICAgICogTm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IHdvcmsgd2l0aCBjcm9zcy1vcmlnaW4gaXNvbGF0ZWQgc2l0ZXMgc2luY2UgaXQgcmVxdWlyZXMgU2hhcmVkQXJyYXlCdWZmZXJzLlxuICAgICAqL1xuICAgIG1heGltdW1UaHJlYWRzPzogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRoZSBxdWVyeSBjb25maWdcbiAgICAgKi9cbiAgICBxdWVyeT86IER1Y2tEQlF1ZXJ5Q29uZmlnO1xuICAgIC8qKlxuICAgICAqIFRoZSBmaWxlc3lzdGVtIGNvbmZpZ1xuICAgICAqL1xuICAgIGZpbGVzeXN0ZW0/OiBEdWNrREJGaWxlc3lzdGVtQ29uZmlnO1xufVxuIiwgImV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgICBOT05FID0gMCxcbiAgICBERUJVRyA9IDEsXG4gICAgSU5GTyA9IDIsXG4gICAgV0FSTklORyA9IDMsXG4gICAgRVJST1IgPSA0LFxufVxuXG5leHBvcnQgZW51bSBMb2dUb3BpYyB7XG4gICAgTk9ORSA9IDAsXG4gICAgQ09OTkVDVCA9IDEsXG4gICAgRElTQ09OTkVDVCA9IDIsXG4gICAgT1BFTiA9IDMsXG4gICAgUVVFUlkgPSA0LFxuICAgIElOU1RBTlRJQVRFID0gNSxcbn1cblxuZXhwb3J0IGVudW0gTG9nRXZlbnQge1xuICAgIE5PTkUgPSAwLFxuICAgIE9LID0gMSxcbiAgICBFUlJPUiA9IDIsXG4gICAgU1RBUlQgPSAzLFxuICAgIFJVTiA9IDQsXG4gICAgQ0FQVFVSRSA9IDUsXG59XG5cbmV4cG9ydCBlbnVtIExvZ09yaWdpbiB7XG4gICAgTk9ORSA9IDAsXG4gICAgV0VCX1dPUktFUiA9IDEsXG4gICAgTk9ERV9XT1JLRVIgPSAyLFxuICAgIEJJTkRJTkdTID0gMyxcbiAgICBBU1lOQ19EVUNLREIgPSA0LFxufVxuXG5leHBvcnQgdHlwZSBMb2dFbnRyeTxPLCBULCBFLCBWPiA9IHtcbiAgICByZWFkb25seSB0aW1lc3RhbXA6IERhdGU7XG4gICAgcmVhZG9ubHkgbGV2ZWw6IExvZ0xldmVsO1xuICAgIHJlYWRvbmx5IG9yaWdpbjogTztcbiAgICByZWFkb25seSB0b3BpYzogVDtcbiAgICByZWFkb25seSBldmVudDogRTtcbiAgICByZWFkb25seSB2YWx1ZTogVjtcbn07XG5cbmV4cG9ydCB0eXBlIExvZ0VudHJ5VmFyaWFudCA9XG4gICAgfCBMb2dFbnRyeTxMb2dPcmlnaW4uQklORElOR1MsIExvZ1RvcGljLklOU1RBTlRJQVRFLCBMb2dFdmVudC5FUlJPUiwgc3RyaW5nPlxuICAgIHwgTG9nRW50cnk8TG9nT3JpZ2luLkJJTkRJTkdTLCBMb2dUb3BpYy5RVUVSWSwgTG9nRXZlbnQuU1RBUlQsIHZvaWQ+XG4gICAgfCBMb2dFbnRyeTxMb2dPcmlnaW4uQklORElOR1MsIExvZ1RvcGljLlFVRVJZLCBMb2dFdmVudC5PSywgdm9pZD5cbiAgICB8IExvZ0VudHJ5PExvZ09yaWdpbi5CSU5ESU5HUywgTG9nVG9waWMuUVVFUlksIExvZ0V2ZW50LkVSUk9SLCB2b2lkPlxuICAgIHwgTG9nRW50cnk8TG9nT3JpZ2luLkJJTkRJTkdTLCBMb2dUb3BpYy5DT05ORUNULCBMb2dFdmVudC5PSywgdm9pZD5cbiAgICB8IExvZ0VudHJ5PExvZ09yaWdpbi5CSU5ESU5HUywgTG9nVG9waWMuQ09OTkVDVCwgTG9nRXZlbnQuRVJST1IsIHZvaWQ+XG4gICAgfCBMb2dFbnRyeTxMb2dPcmlnaW4uQklORElOR1MsIExvZ1RvcGljLkRJU0NPTk5FQ1QsIExvZ0V2ZW50Lk9LLCB2b2lkPlxuICAgIHwgTG9nRW50cnk8TG9nT3JpZ2luLkJJTkRJTkdTLCBMb2dUb3BpYy5ESVNDT05ORUNULCBMb2dFdmVudC5FUlJPUiwgdm9pZD5cbiAgICB8IExvZ0VudHJ5PExvZ09yaWdpbi5CSU5ESU5HUywgTG9nVG9waWMuT1BFTiwgTG9nRXZlbnQuU1RBUlQsIHZvaWQ+XG4gICAgfCBMb2dFbnRyeTxMb2dPcmlnaW4uQklORElOR1MsIExvZ1RvcGljLk9QRU4sIExvZ0V2ZW50Lk9LLCB2b2lkPlxuICAgIHwgTG9nRW50cnk8TG9nT3JpZ2luLkJJTkRJTkdTLCBMb2dUb3BpYy5PUEVOLCBMb2dFdmVudC5FUlJPUiwgdm9pZD5cbiAgICB8IExvZ0VudHJ5PExvZ09yaWdpbi5BU1lOQ19EVUNLREIsIExvZ1RvcGljLlFVRVJZLCBMb2dFdmVudC5SVU4sIHN0cmluZz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcbiAgICBsb2coZW50cnk6IExvZ0VudHJ5VmFyaWFudCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBWb2lkTG9nZ2VyIGltcGxlbWVudHMgTG9nZ2VyIHtcbiAgICBwdWJsaWMgbG9nKF9lbnRyeTogTG9nRW50cnlWYXJpYW50KTogdm9pZCB7fVxufVxuXG5leHBvcnQgY2xhc3MgQ29uc29sZUxvZ2dlciBpbXBsZW1lbnRzIExvZ2dlciB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGxldmVsOiBMb2dMZXZlbCA9IExvZ0xldmVsLklORk8pIHt9XG4gICAgcHVibGljIGxvZyhlbnRyeTogTG9nRW50cnlWYXJpYW50KTogdm9pZCB7XG4gICAgICAgIGlmIChlbnRyeS5sZXZlbCA+PSB0aGlzLmxldmVsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbnRyeSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dMZXZlbExhYmVsKGxldmVsOiBMb2dMZXZlbCk6IHN0cmluZyB7XG4gICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgICBjYXNlIExvZ0xldmVsLk5PTkU6XG4gICAgICAgICAgICByZXR1cm4gJ05PTkUnO1xuICAgICAgICBjYXNlIExvZ0xldmVsLkRFQlVHOlxuICAgICAgICAgICAgcmV0dXJuICdERUJVRyc7XG4gICAgICAgIGNhc2UgTG9nTGV2ZWwuSU5GTzpcbiAgICAgICAgICAgIHJldHVybiAnSU5GTyc7XG4gICAgICAgIGNhc2UgTG9nTGV2ZWwuV0FSTklORzpcbiAgICAgICAgICAgIHJldHVybiAnV0FSTklORyc7XG4gICAgICAgIGNhc2UgTG9nTGV2ZWwuRVJST1I6XG4gICAgICAgICAgICByZXR1cm4gJ0VSUk9SJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnPyc7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nRXZlbnRMYWJlbChldmVudDogTG9nRXZlbnQpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgY2FzZSBMb2dFdmVudC5OT05FOlxuICAgICAgICAgICAgcmV0dXJuICdOT05FJztcbiAgICAgICAgY2FzZSBMb2dFdmVudC5PSzpcbiAgICAgICAgICAgIHJldHVybiAnT0snO1xuICAgICAgICBjYXNlIExvZ0V2ZW50LkVSUk9SOlxuICAgICAgICAgICAgcmV0dXJuICdFUlJPUic7XG4gICAgICAgIGNhc2UgTG9nRXZlbnQuU1RBUlQ6XG4gICAgICAgICAgICByZXR1cm4gJ1NUQVJUJztcbiAgICAgICAgY2FzZSBMb2dFdmVudC5SVU46XG4gICAgICAgICAgICByZXR1cm4gJ1JVTic7XG4gICAgICAgIGNhc2UgTG9nRXZlbnQuQ0FQVFVSRTpcbiAgICAgICAgICAgIHJldHVybiAnQ0FQVFVSRSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJz8nO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ1RvcGljTGFiZWwodG9waWM6IExvZ1RvcGljKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRvcGljKSB7XG4gICAgICAgIGNhc2UgTG9nVG9waWMuQ09OTkVDVDpcbiAgICAgICAgICAgIHJldHVybiAnQ09OTkVDVCc7XG4gICAgICAgIGNhc2UgTG9nVG9waWMuRElTQ09OTkVDVDpcbiAgICAgICAgICAgIHJldHVybiAnRElTQ09OTkVDVCc7XG4gICAgICAgIGNhc2UgTG9nVG9waWMuSU5TVEFOVElBVEU6XG4gICAgICAgICAgICByZXR1cm4gJ0lOU1RBTlRJQVRFJztcbiAgICAgICAgY2FzZSBMb2dUb3BpYy5PUEVOOlxuICAgICAgICAgICAgcmV0dXJuICdPUEVOJztcbiAgICAgICAgY2FzZSBMb2dUb3BpYy5RVUVSWTpcbiAgICAgICAgICAgIHJldHVybiAnUVVFUlknO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICc/JztcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dPcmlnaW5MYWJlbChvcmlnaW46IExvZ09yaWdpbik6IHN0cmluZyB7XG4gICAgc3dpdGNoIChvcmlnaW4pIHtcbiAgICAgICAgY2FzZSBMb2dPcmlnaW4uTk9ORTpcbiAgICAgICAgICAgIHJldHVybiAnTk9ORSc7XG4gICAgICAgIGNhc2UgTG9nT3JpZ2luLldFQl9XT1JLRVI6XG4gICAgICAgICAgICByZXR1cm4gJ1dFQiBXT1JLRVInO1xuICAgICAgICBjYXNlIExvZ09yaWdpbi5OT0RFX1dPUktFUjpcbiAgICAgICAgICAgIHJldHVybiAnTk9ERSBXT1JLRVInO1xuICAgICAgICBjYXNlIExvZ09yaWdpbi5CSU5ESU5HUzpcbiAgICAgICAgICAgIHJldHVybiAnRFVDS0RCIEJJTkRJTkdTJztcbiAgICAgICAgY2FzZSBMb2dPcmlnaW4uQVNZTkNfRFVDS0RCOlxuICAgICAgICAgICAgcmV0dXJuICdEVUNLREInO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICc/JztcbiAgICB9XG59XG4iLCAiZXhwb3J0IGVudW0gU3RhdHVzQ29kZSB7XG4gICAgU1VDQ0VTUyA9IDAsXG59XG4iLCAiaW1wb3J0ICogYXMgYXJyb3cgZnJvbSAnYXBhY2hlLWFycm93JztcbmltcG9ydCB7IEFzeW5jRHVja0RCIH0gZnJvbSAnLi9hc3luY19iaW5kaW5ncyc7XG5pbXBvcnQgeyBMb2dMZXZlbCwgTG9nVG9waWMsIExvZ09yaWdpbiwgTG9nRXZlbnQgfSBmcm9tICcuLi9sb2cnO1xuaW1wb3J0IHsgQXJyb3dJbnNlcnRPcHRpb25zLCBDU1ZJbnNlcnRPcHRpb25zLCBKU09OSW5zZXJ0T3B0aW9ucyB9IGZyb20gJy4uL2JpbmRpbmdzL2luc2VydF9vcHRpb25zJztcblxuLyoqIEEgdGhpbiBoZWxwZXIgdG8gbWVtb2l6ZSB0aGUgY29ubmVjdGlvbiBpZCAqL1xuZXhwb3J0IGNsYXNzIEFzeW5jRHVja0RCQ29ubmVjdGlvbiB7XG4gICAgLyoqIFRoZSBhc3luYyBkdWNrZGIgKi9cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2JpbmRpbmdzOiBBc3luY0R1Y2tEQjtcbiAgICAvKiogVGhlIGNvbm4gaGFuZGxlICovXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9jb25uOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihiaW5kaW5nczogQXN5bmNEdWNrREIsIGNvbm46IG51bWJlcikge1xuICAgICAgICB0aGlzLl9iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICAgICAgICB0aGlzLl9jb25uID0gY29ubjtcbiAgICB9XG5cbiAgICAvKiogQWNjZXNzIHRoZSBkYXRhYmFzZSBiaW5kaW5ncyAqL1xuICAgIHB1YmxpYyBnZXQgYmluZGluZ3MoKTogQXN5bmNEdWNrREIge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ3M7XG4gICAgfVxuXG4gICAgLyoqIERpc2Nvbm5lY3QgZnJvbSB0aGUgZGF0YWJhc2UgKi9cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5ncy5kaXNjb25uZWN0KHRoaXMuX2Nvbm4pO1xuICAgIH1cblxuICAgIC8qKiBCcmF2ZSBzb3VscyBtYXkgdXNlIHRoaXMgZnVuY3Rpb24gdG8gY29uc3VtZSB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uIGlkICovXG4gICAgcHVibGljIHVzZVVuc2FmZTxSPihjYWxsYmFjazogKGJpbmRpbmdzOiBBc3luY0R1Y2tEQiwgY29ubjogbnVtYmVyKSA9PiBSKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLl9iaW5kaW5ncywgdGhpcy5fY29ubik7XG4gICAgfVxuXG4gICAgLyoqIFJ1biBhIHF1ZXJ5ICovXG4gICAgcHVibGljIGFzeW5jIHF1ZXJ5PFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IGFycm93LkRhdGFUeXBlIH0gPSBhbnk+KHRleHQ6IHN0cmluZyk6IFByb21pc2U8YXJyb3cuVGFibGU8VD4+IHtcbiAgICAgICAgdGhpcy5fYmluZGluZ3MubG9nZ2VyLmxvZyh7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBsZXZlbDogTG9nTGV2ZWwuSU5GTyxcbiAgICAgICAgICAgIG9yaWdpbjogTG9nT3JpZ2luLkFTWU5DX0RVQ0tEQixcbiAgICAgICAgICAgIHRvcGljOiBMb2dUb3BpYy5RVUVSWSxcbiAgICAgICAgICAgIGV2ZW50OiBMb2dFdmVudC5SVU4sXG4gICAgICAgICAgICB2YWx1ZTogdGV4dCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHRoaXMuX2JpbmRpbmdzLnJ1blF1ZXJ5KHRoaXMuX2Nvbm4sIHRleHQpO1xuICAgICAgICBjb25zdCByZWFkZXIgPSBhcnJvdy5SZWNvcmRCYXRjaFJlYWRlci5mcm9tPFQ+KGJ1ZmZlcik7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHJlYWRlci5pc1N5bmMoKSwgXCJSZWFkZXIgaXMgbm90IHN5bmNcIik7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHJlYWRlci5pc0ZpbGUoKSwgXCJSZWFkZXIgaXMgbm90IGZpbGVcIik7XG4gICAgICAgIHJldHVybiBuZXcgYXJyb3cuVGFibGUocmVhZGVyIGFzIGFycm93LlJlY29yZEJhdGNoRmlsZVJlYWRlcik7XG4gICAgfVxuXG4gICAgLyoqIFNlbmQgYSBxdWVyeSAqL1xuICAgIHB1YmxpYyBhc3luYyBzZW5kPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IGFycm93LkRhdGFUeXBlIH0gPSBhbnk+KFxuICAgICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxhcnJvdy5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyPFQ+PiB7XG4gICAgICAgIHRoaXMuX2JpbmRpbmdzLmxvZ2dlci5sb2coe1xuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgbGV2ZWw6IExvZ0xldmVsLklORk8sXG4gICAgICAgICAgICBvcmlnaW46IExvZ09yaWdpbi5BU1lOQ19EVUNLREIsXG4gICAgICAgICAgICB0b3BpYzogTG9nVG9waWMuUVVFUlksXG4gICAgICAgICAgICBldmVudDogTG9nRXZlbnQuUlVOLFxuICAgICAgICAgICAgdmFsdWU6IHRleHQsXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgaGVhZGVyID0gYXdhaXQgdGhpcy5fYmluZGluZ3Muc3RhcnRQZW5kaW5nUXVlcnkodGhpcy5fY29ubiwgdGV4dCk7XG4gICAgICAgIHdoaWxlIChoZWFkZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVyID0gYXdhaXQgdGhpcy5fYmluZGluZ3MucG9sbFBlbmRpbmdRdWVyeSh0aGlzLl9jb25uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVyID0gbmV3IEFzeW5jUmVzdWx0U3RyZWFtSXRlcmF0b3IodGhpcy5fYmluZGluZ3MsIHRoaXMuX2Nvbm4sIGhlYWRlcik7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGF3YWl0IGFycm93LlJlY29yZEJhdGNoUmVhZGVyLmZyb208VD4oaXRlcik7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHJlYWRlci5pc0FzeW5jKCkpO1xuICAgICAgICBjb25zb2xlLmFzc2VydChyZWFkZXIuaXNTdHJlYW0oKSk7XG4gICAgICAgIHJldHVybiByZWFkZXIgYXMgdW5rbm93biBhcyBhcnJvdy5Bc3luY1JlY29yZEJhdGNoU3RyZWFtUmVhZGVyPFQ+OyAvLyBYWFhcbiAgICB9XG5cbiAgICAvKiogQ2FuY2VsIGEgcXVlcnkgdGhhdCB3YXMgc2VudCBlYXJsaWVyICovXG4gICAgcHVibGljIGFzeW5jIGNhbmNlbFNlbnQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9iaW5kaW5ncy5jYW5jZWxQZW5kaW5nUXVlcnkodGhpcy5fY29ubik7XG4gICAgfVxuXG4gICAgLyoqIEdldCB0YWJsZSBuYW1lcyAqL1xuICAgIHB1YmxpYyBhc3luYyBnZXRUYWJsZU5hbWVzKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9iaW5kaW5ncy5nZXRUYWJsZU5hbWVzKHRoaXMuX2Nvbm4sIHF1ZXJ5KTtcbiAgICB9XG5cbiAgICAvKiogQ3JlYXRlIGEgcHJlcGFyZWQgc3RhdGVtZW50ICovXG4gICAgcHVibGljIGFzeW5jIHByZXBhcmU8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogYXJyb3cuRGF0YVR5cGUgfSA9IGFueT4oXG4gICAgICAgIHRleHQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPEFzeW5jUHJlcGFyZWRTdGF0ZW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgc3RtdCA9IGF3YWl0IHRoaXMuX2JpbmRpbmdzLmNyZWF0ZVByZXBhcmVkKHRoaXMuX2Nvbm4sIHRleHQpO1xuICAgICAgICByZXR1cm4gbmV3IEFzeW5jUHJlcGFyZWRTdGF0ZW1lbnQ8VD4odGhpcy5fYmluZGluZ3MsIHRoaXMuX2Nvbm4sIHN0bXQpO1xuICAgIH1cblxuICAgIC8qKiBJbnNlcnQgYW4gYXJyb3cgdGFibGUgKi9cbiAgICBwdWJsaWMgYXN5bmMgaW5zZXJ0QXJyb3dUYWJsZSh0YWJsZTogYXJyb3cuVGFibGUsIG9wdGlvbnM6IEFycm93SW5zZXJ0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBhcnJvdy50YWJsZVRvSVBDKHRhYmxlLCAnc3RyZWFtJyk7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5zZXJ0QXJyb3dGcm9tSVBDU3RyZWFtKGJ1ZmZlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKiBJbnNlcnQgYW4gYXJyb3cgdGFibGUgZnJvbSBhbiBpcGMgc3RyZWFtICovXG4gICAgcHVibGljIGFzeW5jIGluc2VydEFycm93RnJvbUlQQ1N0cmVhbShidWZmZXI6IFVpbnQ4QXJyYXksIG9wdGlvbnM6IEFycm93SW5zZXJ0T3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLl9iaW5kaW5ncy5pbnNlcnRBcnJvd0Zyb21JUENTdHJlYW0odGhpcy5fY29ubiwgYnVmZmVyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqIEluc2VydCBjc3YgZmlsZSBmcm9tIHBhdGggKi9cbiAgICBwdWJsaWMgYXN5bmMgaW5zZXJ0Q1NWRnJvbVBhdGgodGV4dDogc3RyaW5nLCBvcHRpb25zOiBDU1ZJbnNlcnRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMuX2JpbmRpbmdzLmluc2VydENTVkZyb21QYXRoKHRoaXMuX2Nvbm4sIHRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKiogSW5zZXJ0IGpzb24gZmlsZSBmcm9tIHBhdGggKi9cbiAgICBwdWJsaWMgYXN5bmMgaW5zZXJ0SlNPTkZyb21QYXRoKHRleHQ6IHN0cmluZywgb3B0aW9uczogSlNPTkluc2VydE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5fYmluZGluZ3MuaW5zZXJ0SlNPTkZyb21QYXRoKHRoaXMuX2Nvbm4sIHRleHQsIG9wdGlvbnMpO1xuICAgIH1cbn1cblxuLyoqIEFuIGFzeW5jIHJlc3VsdCBzdHJlYW0gaXRlcmF0b3IgKi9cbmV4cG9ydCBjbGFzcyBBc3luY1Jlc3VsdFN0cmVhbUl0ZXJhdG9yIGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZTxVaW50OEFycmF5PiB7XG4gICAgLyoqIEZpcnN0IGNodW5rPyAqL1xuICAgIHByb3RlY3RlZCBfZmlyc3Q6IGJvb2xlYW47XG4gICAgLyoqIFJlYWNoZWQgZW5kIG9mIHN0cmVhbT8gKi9cbiAgICBwcm90ZWN0ZWQgX2RlcGxldGVkOiBib29sZWFuO1xuICAgIC8qKiBJbi1mbGlnaHQgKi9cbiAgICBwcm90ZWN0ZWQgX2luRmxpZ2h0OiBQcm9taXNlPFVpbnQ4QXJyYXk+IHwgbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGI6IEFzeW5jRHVja0RCLFxuICAgICAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY29ubjogbnVtYmVyLFxuICAgICAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaGVhZGVyOiBVaW50OEFycmF5LFxuICAgICkge1xuICAgICAgICB0aGlzLl9maXJzdCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2RlcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2luRmxpZ2h0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBhc3luYyBuZXh0KCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VWludDhBcnJheT4+IHtcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0KSB7XG4gICAgICAgICAgICB0aGlzLl9maXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiB0aGlzLmhlYWRlciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZXBsZXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYnVmZmVyOiBVaW50OEFycmF5O1xuICAgICAgICBpZiAodGhpcy5faW5GbGlnaHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgYnVmZmVyID0gYXdhaXQgdGhpcy5faW5GbGlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9pbkZsaWdodCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWZmZXIgPSBhd2FpdCB0aGlzLmRiLmZldGNoUXVlcnlSZXN1bHRzKHRoaXMuY29ubik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVwbGV0ZWQgPSBidWZmZXIubGVuZ3RoID09IDA7XG4gICAgICAgIGlmICghdGhpcy5fZGVwbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luRmxpZ2h0ID0gdGhpcy5kYi5mZXRjaFF1ZXJ5UmVzdWx0cyh0aGlzLmNvbm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb25lOiB0aGlzLl9kZXBsZXRlZCxcbiAgICAgICAgICAgIHZhbHVlOiBidWZmZXIsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG4vKiogQSB0aGluIGhlbHBlciB0byBiaW5kIHRoZSBwcmVwYXJlZCBzdGF0ZW1lbnQgaWQgKi9cbmV4cG9ydCBjbGFzcyBBc3luY1ByZXBhcmVkU3RhdGVtZW50PFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IGFycm93LkRhdGFUeXBlIH0gPSBhbnk+IHtcbiAgICAvKiogVGhlIGJpbmRpbmdzICovXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGJpbmRpbmdzOiBBc3luY0R1Y2tEQjtcbiAgICAvKiogVGhlIGNvbm5lY3Rpb24gaWQgKi9cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY29ubmVjdGlvbklkOiBudW1iZXI7XG4gICAgLyoqIFRoZSBzdGF0ZW1lbnQgaWQgKi9cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc3RhdGVtZW50SWQ6IG51bWJlcjtcblxuICAgIC8qKiBDb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGJpbmRpbmdzOiBBc3luY0R1Y2tEQiwgY29ubmVjdGlvbklkOiBudW1iZXIsIHN0YXRlbWVudElkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25JZCA9IGNvbm5lY3Rpb25JZDtcbiAgICAgICAgdGhpcy5zdGF0ZW1lbnRJZCA9IHN0YXRlbWVudElkO1xuICAgIH1cblxuICAgIC8qKiBDbG9zZSBhIHByZXBhcmVkIHN0YXRlbWVudCAqL1xuICAgIHB1YmxpYyBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5iaW5kaW5ncy5jbG9zZVByZXBhcmVkKHRoaXMuY29ubmVjdGlvbklkLCB0aGlzLnN0YXRlbWVudElkKTtcbiAgICB9XG5cbiAgICAvKiogUnVuIGEgcHJlcGFyZWQgc3RhdGVtZW50ICovXG4gICAgcHVibGljIGFzeW5jIHF1ZXJ5KC4uLnBhcmFtczogYW55W10pOiBQcm9taXNlPGFycm93LlRhYmxlPFQ+PiB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHRoaXMuYmluZGluZ3MucnVuUHJlcGFyZWQodGhpcy5jb25uZWN0aW9uSWQsIHRoaXMuc3RhdGVtZW50SWQsIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGFycm93LlJlY29yZEJhdGNoUmVhZGVyLmZyb208VD4oYnVmZmVyKTtcbiAgICAgICAgY29uc29sZS5hc3NlcnQocmVhZGVyLmlzU3luYygpKTtcbiAgICAgICAgY29uc29sZS5hc3NlcnQocmVhZGVyLmlzRmlsZSgpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBhcnJvdy5UYWJsZShyZWFkZXIgYXMgYXJyb3cuUmVjb3JkQmF0Y2hGaWxlUmVhZGVyKTtcbiAgICB9XG5cbiAgICAvKiogU2VuZCBhIHByZXBhcmVkIHN0YXRlbWVudCAqL1xuICAgIHB1YmxpYyBhc3luYyBzZW5kKC4uLnBhcmFtczogYW55W10pOiBQcm9taXNlPGFycm93LkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXI8VD4+IHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy5iaW5kaW5ncy5zZW5kUHJlcGFyZWQodGhpcy5jb25uZWN0aW9uSWQsIHRoaXMuc3RhdGVtZW50SWQsIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IGl0ZXIgPSBuZXcgQXN5bmNSZXN1bHRTdHJlYW1JdGVyYXRvcih0aGlzLmJpbmRpbmdzLCB0aGlzLmNvbm5lY3Rpb25JZCwgaGVhZGVyKTtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gYXdhaXQgYXJyb3cuUmVjb3JkQmF0Y2hSZWFkZXIuZnJvbTxUPihpdGVyKTtcbiAgICAgICAgY29uc29sZS5hc3NlcnQocmVhZGVyLmlzQXN5bmMoKSk7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHJlYWRlci5pc1N0cmVhbSgpKTtcbiAgICAgICAgcmV0dXJuIHJlYWRlciBhcyB1bmtub3duIGFzIGFycm93LkFzeW5jUmVjb3JkQmF0Y2hTdHJlYW1SZWFkZXI8VD47IC8vIFhYWFxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBDU1ZJbnNlcnRPcHRpb25zLCBKU09OSW5zZXJ0T3B0aW9ucywgQXJyb3dJbnNlcnRPcHRpb25zIH0gZnJvbSAnLi4vYmluZGluZ3MvaW5zZXJ0X29wdGlvbnMnO1xuaW1wb3J0IHsgTG9nRW50cnlWYXJpYW50IH0gZnJvbSAnLi4vbG9nJztcbmltcG9ydCB7IFNjcmlwdFRva2VucyB9IGZyb20gJy4uL2JpbmRpbmdzL3Rva2Vucyc7XG5pbXBvcnQgeyBGaWxlU3RhdGlzdGljcyB9IGZyb20gJy4uL2JpbmRpbmdzL2ZpbGVfc3RhdHMnO1xuaW1wb3J0IHsgRHVja0RCQ29uZmlnIH0gZnJvbSAnLi4vYmluZGluZ3MvY29uZmlnJztcbmltcG9ydCB7IFdlYkZpbGUgfSBmcm9tICcuLi9iaW5kaW5ncy93ZWJfZmlsZSc7XG5pbXBvcnQgeyBJbnN0YW50aWF0aW9uUHJvZ3Jlc3MgfSBmcm9tICcuLi9iaW5kaW5ncy9wcm9ncmVzcyc7XG5pbXBvcnQgeyBEdWNrREJEYXRhUHJvdG9jb2wgfSBmcm9tICcuLi9iaW5kaW5ncyc7XG5cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25JRCA9IG51bWJlcjtcbmV4cG9ydCB0eXBlIFN0YXRlbWVudElEID0gbnVtYmVyO1xuXG5leHBvcnQgZW51bSBXb3JrZXJSZXF1ZXN0VHlwZSB7XG4gICAgQ0FOQ0VMX1BFTkRJTkdfUVVFUlkgPSAnQ0FOQ0VMX1BFTkRJTkdfUVVFUlknLFxuICAgIENMT1NFX1BSRVBBUkVEID0gJ0NMT1NFX1BSRVBBUkVEJyxcbiAgICBDT0xMRUNUX0ZJTEVfU1RBVElTVElDUyA9ICdDT0xMRUNUX0ZJTEVfU1RBVElTVElDUycsXG4gICAgQ09OTkVDVCA9ICdDT05ORUNUJyxcbiAgICBDT1BZX0ZJTEVfVE9fQlVGRkVSID0gJ0NPUFlfRklMRV9UT19CVUZGRVInLFxuICAgIENPUFlfRklMRV9UT19QQVRIID0gJ0NPUFlfRklMRV9UT19QQVRIJyxcbiAgICBDUkVBVEVfUFJFUEFSRUQgPSAnQ1JFQVRFX1BSRVBBUkVEJyxcbiAgICBESVNDT05ORUNUID0gJ0RJU0NPTk5FQ1QnLFxuICAgIERST1BfRklMRSA9ICdEUk9QX0ZJTEUnLFxuICAgIERST1BfRklMRVMgPSAnRFJPUF9GSUxFUycsXG4gICAgRVhQT1JUX0ZJTEVfU1RBVElTVElDUyA9ICdFWFBPUlRfRklMRV9TVEFUSVNUSUNTJyxcbiAgICBGRVRDSF9RVUVSWV9SRVNVTFRTID0gJ0ZFVENIX1FVRVJZX1JFU1VMVFMnLFxuICAgIEZMVVNIX0ZJTEVTID0gJ0ZMVVNIX0ZJTEVTJyxcbiAgICBHRVRfRkVBVFVSRV9GTEFHUyA9ICdHRVRfRkVBVFVSRV9GTEFHUycsXG4gICAgR0VUX1RBQkxFX05BTUVTID0gJ0dFVF9UQUJMRV9OQU1FUycsXG4gICAgR0VUX1ZFUlNJT04gPSAnR0VUX1ZFUlNJT04nLFxuICAgIEdMT0JfRklMRV9JTkZPUyA9ICdHTE9CX0ZJTEVfSU5GT1MnLFxuICAgIElOU0VSVF9BUlJPV19GUk9NX0lQQ19TVFJFQU0gPSAnSU5TRVJUX0FSUk9XX0ZST01fSVBDX1NUUkVBTScsXG4gICAgSU5TRVJUX0NTVl9GUk9NX1BBVEggPSAnSU1QT1JUX0NTVl9GUk9NX1BBVEgnLFxuICAgIElOU0VSVF9KU09OX0ZST01fUEFUSCA9ICdJTVBPUlRfSlNPTl9GUk9NX1BBVEgnLFxuICAgIElOU1RBTlRJQVRFID0gJ0lOU1RBTlRJQVRFJyxcbiAgICBPUEVOID0gJ09QRU4nLFxuICAgIFBJTkcgPSAnUElORycsXG4gICAgUE9MTF9QRU5ESU5HX1FVRVJZID0gJ1BPTExfUEVORElOR19RVUVSWScsXG4gICAgUkVHSVNURVJfRklMRV9CVUZGRVIgPSAnUkVHSVNURVJfRklMRV9CVUZGRVInLFxuICAgIFJFR0lTVEVSX0ZJTEVfSEFORExFID0gJ1JFR0lTVEVSX0ZJTEVfSEFORExFJyxcbiAgICBSRUdJU1RFUl9GSUxFX1VSTCA9ICdSRUdJU1RFUl9GSUxFX1VSTCcsXG4gICAgUkVTRVQgPSAnUkVTRVQnLFxuICAgIFJVTl9QUkVQQVJFRCA9ICdSVU5fUFJFUEFSRUQnLFxuICAgIFJVTl9RVUVSWSA9ICdSVU5fUVVFUlknLFxuICAgIFNFTkRfUFJFUEFSRUQgPSAnU0VORF9QUkVQQVJFRCcsXG4gICAgU1RBUlRfUEVORElOR19RVUVSWSA9ICdTVEFSVF9QRU5ESU5HX1FVRVJZJyxcbiAgICBUT0tFTklaRSA9ICdUT0tFTklaRScsXG59XG5cbmV4cG9ydCBlbnVtIFdvcmtlclJlc3BvbnNlVHlwZSB7XG4gICAgQ09OTkVDVElPTl9JTkZPID0gJ0NPTk5FQ1RJT05fSU5GTycsXG4gICAgRVJST1IgPSAnRVJST1InLFxuICAgIEZFQVRVUkVfRkxBR1MgPSAnRkVBVFVSRV9GTEFHUycsXG4gICAgRklMRV9CVUZGRVIgPSAnRklMRV9CVUZGRVInLFxuICAgIEZJTEVfSU5GT1MgPSAnRklMRV9JTkZPUycsXG4gICAgRklMRV9TSVpFID0gJ0ZJTEVfU0laRScsXG4gICAgRklMRV9TVEFUSVNUSUNTID0gJ0ZJTEVfU1RBVElTVElDUycsXG4gICAgSU5TVEFOVElBVEVfUFJPR1JFU1MgPSAnSU5TVEFOVElBVEVfUFJPR1JFU1MnLFxuICAgIExPRyA9ICdMT0cnLFxuICAgIE9LID0gJ09LJyxcbiAgICBQUkVQQVJFRF9TVEFURU1FTlRfSUQgPSAnUFJFUEFSRURfU1RBVEVNRU5UX0lEJyxcbiAgICBRVUVSWV9QTEFOID0gJ1FVRVJZX1BMQU4nLFxuICAgIFFVRVJZX1JFU1VMVCA9ICdRVUVSWV9SRVNVTFQnLFxuICAgIFFVRVJZX1JFU1VMVF9DSFVOSyA9ICdRVUVSWV9SRVNVTFRfQ0hVTksnLFxuICAgIFFVRVJZX1JFU1VMVF9IRUFERVIgPSAnUVVFUllfUkVTVUxUX0hFQURFUicsXG4gICAgUVVFUllfUkVTVUxUX0hFQURFUl9PUl9OVUxMID0gJ1FVRVJZX1JFU1VMVF9IRUFERVJfT1JfTlVMTCcsXG4gICAgUkVHSVNURVJFRF9GSUxFID0gJ1JFR0lTVEVSRURfRklMRScsXG4gICAgU0NSSVBUX1RPS0VOUyA9ICdTQ1JJUFRfVE9LRU5TJyxcbiAgICBTVUNDRVNTID0gJ1NVQ0NFU1MnLFxuICAgIFRBQkxFX05BTUVTID0gJ1RBQkxFX05BTUVTJyxcbiAgICBWRVJTSU9OX1NUUklORyA9ICdWRVJTSU9OX1NUUklORycsXG59XG5cbmV4cG9ydCB0eXBlIFdvcmtlclJlcXVlc3Q8VCwgUD4gPSB7XG4gICAgcmVhZG9ubHkgbWVzc2FnZUlkOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZTogVDtcbiAgICByZWFkb25seSBkYXRhOiBQO1xufTtcblxuZXhwb3J0IHR5cGUgV29ya2VyUmVzcG9uc2U8VCwgUD4gPSB7XG4gICAgcmVhZG9ubHkgbWVzc2FnZUlkOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgcmVxdWVzdElkOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZTogVDtcbiAgICByZWFkb25seSBkYXRhOiBQO1xufTtcblxuZXhwb3J0IHR5cGUgV29ya2VyVGFza1JldHVyblR5cGU8VCBleHRlbmRzIFdvcmtlclRhc2tWYXJpYW50PiA9IFQgZXh0ZW5kcyBXb3JrZXJUYXNrPGFueSwgYW55LCBpbmZlciBQPiA/IFAgOiBuZXZlcjtcblxuZXhwb3J0IGNsYXNzIFdvcmtlclRhc2s8VCwgRCwgUD4ge1xuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XG4gICAgcmVhZG9ubHkgZGF0YTogRDtcbiAgICBwcm9taXNlOiBQcm9taXNlPFA+O1xuICAgIHByb21pc2VSZXNvbHZlcjogKHZhbHVlOiBQIHwgUHJvbWlzZUxpa2U8UD4pID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgICBwcm9taXNlUmVqZWN0ZXI6ICh2YWx1ZTogYW55KSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBULCBkYXRhOiBEKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlPFA+KFxuICAgICAgICAgICAgKHJlc29sdmU6ICh2YWx1ZTogUCB8IFByb21pc2VMaWtlPFA+KSA9PiB2b2lkLCByZWplY3Q6IChyZWFzb24/OiB2b2lkKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9taXNlUmVzb2x2ZXIgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbWlzZVJlamVjdGVyID0gcmVqZWN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIFdvcmtlclJlcXVlc3RWYXJpYW50ID1cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuQ0xPU0VfUFJFUEFSRUQsIFtDb25uZWN0aW9uSUQsIFN0YXRlbWVudElEXT5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuQ0FOQ0VMX1BFTkRJTkdfUVVFUlksIG51bWJlcj5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuQ09MTEVDVF9GSUxFX1NUQVRJU1RJQ1MsIFtzdHJpbmcsIGJvb2xlYW5dPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5DT05ORUNULCBudWxsPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5DT1BZX0ZJTEVfVE9fQlVGRkVSLCBzdHJpbmc+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLkNPUFlfRklMRV9UT19QQVRILCBbc3RyaW5nLCBzdHJpbmddPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5DUkVBVEVfUFJFUEFSRUQsIFtDb25uZWN0aW9uSUQsIHN0cmluZ10+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLkRJU0NPTk5FQ1QsIG51bWJlcj5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuRFJPUF9GSUxFLCBzdHJpbmc+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLkRST1BfRklMRVMsIG51bGw+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLkVYUE9SVF9GSUxFX1NUQVRJU1RJQ1MsIHN0cmluZz5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuRkVUQ0hfUVVFUllfUkVTVUxUUywgbnVtYmVyPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5GTFVTSF9GSUxFUywgbnVsbD5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuR0VUX0ZFQVRVUkVfRkxBR1MsIG51bGw+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLkdFVF9UQUJMRV9OQU1FUywgW251bWJlciwgc3RyaW5nXT5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuR0VUX1ZFUlNJT04sIG51bGw+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLkdMT0JfRklMRV9JTkZPUywgc3RyaW5nPlxuICAgIHwgV29ya2VyUmVxdWVzdDxcbiAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfQVJST1dfRlJPTV9JUENfU1RSRUFNLFxuICAgICAgICAgIFtudW1iZXIsIFVpbnQ4QXJyYXksIEFycm93SW5zZXJ0T3B0aW9ucyB8IHVuZGVmaW5lZF1cbiAgICAgID5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuSU5TRVJUX0NTVl9GUk9NX1BBVEgsIFtudW1iZXIsIHN0cmluZywgQ1NWSW5zZXJ0T3B0aW9uc10+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLklOU0VSVF9KU09OX0ZST01fUEFUSCwgW251bWJlciwgc3RyaW5nLCBKU09OSW5zZXJ0T3B0aW9uc10+XG4gICAgfCBXb3JrZXJSZXF1ZXN0PFdvcmtlclJlcXVlc3RUeXBlLklOU1RBTlRJQVRFLCBbc3RyaW5nLCBzdHJpbmcgfCBudWxsXT5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuT1BFTiwgRHVja0RCQ29uZmlnPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5QSU5HLCBudWxsPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5QT0xMX1BFTkRJTkdfUVVFUlksIG51bWJlcj5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9CVUZGRVIsIFtzdHJpbmcsIFVpbnQ4QXJyYXldPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5SRUdJU1RFUl9GSUxFX0hBTkRMRSwgW3N0cmluZywgYW55LCBEdWNrREJEYXRhUHJvdG9jb2wsIGJvb2xlYW5dPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5SRUdJU1RFUl9GSUxFX1VSTCwgW3N0cmluZywgc3RyaW5nLCBEdWNrREJEYXRhUHJvdG9jb2wsIGJvb2xlYW5dPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5SRVNFVCwgbnVsbD5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuUlVOX1BSRVBBUkVELCBbbnVtYmVyLCBudW1iZXIsIGFueVtdXT5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuUlVOX1FVRVJZLCBbbnVtYmVyLCBzdHJpbmddPlxuICAgIHwgV29ya2VyUmVxdWVzdDxXb3JrZXJSZXF1ZXN0VHlwZS5TRU5EX1BSRVBBUkVELCBbbnVtYmVyLCBudW1iZXIsIGFueVtdXT5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuU1RBUlRfUEVORElOR19RVUVSWSwgW251bWJlciwgc3RyaW5nXT5cbiAgICB8IFdvcmtlclJlcXVlc3Q8V29ya2VyUmVxdWVzdFR5cGUuVE9LRU5JWkUsIHN0cmluZz47XG5cbmV4cG9ydCB0eXBlIFdvcmtlclJlc3BvbnNlVmFyaWFudCA9XG4gICAgfCBXb3JrZXJSZXNwb25zZTxXb3JrZXJSZXNwb25zZVR5cGUuQ09OTkVDVElPTl9JTkZPLCBudW1iZXI+XG4gICAgfCBXb3JrZXJSZXNwb25zZTxXb3JrZXJSZXNwb25zZVR5cGUuRVJST1IsIGFueT5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5GRUFUVVJFX0ZMQUdTLCBudW1iZXI+XG4gICAgfCBXb3JrZXJSZXNwb25zZTxXb3JrZXJSZXNwb25zZVR5cGUuRklMRV9CVUZGRVIsIFVpbnQ4QXJyYXk+XG4gICAgfCBXb3JrZXJSZXNwb25zZTxXb3JrZXJSZXNwb25zZVR5cGUuRklMRV9JTkZPUywgV2ViRmlsZVtdPlxuICAgIHwgV29ya2VyUmVzcG9uc2U8V29ya2VyUmVzcG9uc2VUeXBlLkZJTEVfU0laRSwgbnVtYmVyPlxuICAgIHwgV29ya2VyUmVzcG9uc2U8V29ya2VyUmVzcG9uc2VUeXBlLkZJTEVfU1RBVElTVElDUywgRmlsZVN0YXRpc3RpY3M+XG4gICAgfCBXb3JrZXJSZXNwb25zZTxXb3JrZXJSZXNwb25zZVR5cGUuSU5TVEFOVElBVEVfUFJPR1JFU1MsIEluc3RhbnRpYXRpb25Qcm9ncmVzcz5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5MT0csIExvZ0VudHJ5VmFyaWFudD5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5PSywgbnVsbD5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5QUkVQQVJFRF9TVEFURU1FTlRfSUQsIG51bWJlcj5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9QTEFOLCBVaW50OEFycmF5PlxuICAgIHwgV29ya2VyUmVzcG9uc2U8V29ya2VyUmVzcG9uc2VUeXBlLlFVRVJZX1JFU1VMVCwgVWludDhBcnJheT5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9SRVNVTFRfQ0hVTkssIFVpbnQ4QXJyYXk+XG4gICAgfCBXb3JrZXJSZXNwb25zZTxXb3JrZXJSZXNwb25zZVR5cGUuUVVFUllfUkVTVUxUX0hFQURFUiwgVWludDhBcnJheT5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9SRVNVTFRfSEVBREVSX09SX05VTEwsIFVpbnQ4QXJyYXkgfCBudWxsPlxuICAgIHwgV29ya2VyUmVzcG9uc2U8V29ya2VyUmVzcG9uc2VUeXBlLlNDUklQVF9UT0tFTlMsIFNjcmlwdFRva2Vucz5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5TVUNDRVNTLCBib29sZWFuPlxuICAgIHwgV29ya2VyUmVzcG9uc2U8V29ya2VyUmVzcG9uc2VUeXBlLlRBQkxFX05BTUVTLCBzdHJpbmdbXT5cbiAgICB8IFdvcmtlclJlc3BvbnNlPFdvcmtlclJlc3BvbnNlVHlwZS5WRVJTSU9OX1NUUklORywgc3RyaW5nPjtcblxuZXhwb3J0IHR5cGUgV29ya2VyVGFza1ZhcmlhbnQgPVxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5DT0xMRUNUX0ZJTEVfU1RBVElTVElDUywgW3N0cmluZywgYm9vbGVhbl0sIG51bGw+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkNMT1NFX1BSRVBBUkVELCBbbnVtYmVyLCBudW1iZXJdLCBudWxsPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5DT05ORUNULCBudWxsLCBDb25uZWN0aW9uSUQ+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkNPUFlfRklMRV9UT19CVUZGRVIsIHN0cmluZywgVWludDhBcnJheT5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuQ09QWV9GSUxFX1RPX1BBVEgsIFtzdHJpbmcsIHN0cmluZ10sIG51bGw+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkNSRUFURV9QUkVQQVJFRCwgW251bWJlciwgc3RyaW5nXSwgbnVtYmVyPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5ESVNDT05ORUNULCBDb25uZWN0aW9uSUQsIG51bGw+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkRST1BfRklMRSwgc3RyaW5nLCBudWxsPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5EUk9QX0ZJTEVTLCBudWxsLCBudWxsPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5FWFBPUlRfRklMRV9TVEFUSVNUSUNTLCBzdHJpbmcsIEZpbGVTdGF0aXN0aWNzPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5GRVRDSF9RVUVSWV9SRVNVTFRTLCBDb25uZWN0aW9uSUQsIFVpbnQ4QXJyYXk+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkZMVVNIX0ZJTEVTLCBudWxsLCBudWxsPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5HRVRfRkVBVFVSRV9GTEFHUywgbnVsbCwgbnVtYmVyPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5HRVRfVEFCTEVfTkFNRVMsIFtudW1iZXIsIHN0cmluZ10sIHN0cmluZ1tdPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5HRVRfVkVSU0lPTiwgbnVsbCwgc3RyaW5nPlxuICAgIHwgV29ya2VyVGFzazxcbiAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfQVJST1dfRlJPTV9JUENfU1RSRUFNLFxuICAgICAgICAgIFtudW1iZXIsIFVpbnQ4QXJyYXksIEFycm93SW5zZXJ0T3B0aW9ucyB8IHVuZGVmaW5lZF0sXG4gICAgICAgICAgbnVsbFxuICAgICAgPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfQ1NWX0ZST01fUEFUSCwgW251bWJlciwgc3RyaW5nLCBDU1ZJbnNlcnRPcHRpb25zXSwgbnVsbD5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuSU5TRVJUX0pTT05fRlJPTV9QQVRILCBbbnVtYmVyLCBzdHJpbmcsIEpTT05JbnNlcnRPcHRpb25zXSwgbnVsbD5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuSU5TVEFOVElBVEUsIFtzdHJpbmcsIHN0cmluZyB8IG51bGxdLCBudWxsPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5PUEVOLCBEdWNrREJDb25maWcsIG51bGw+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLlBJTkcsIG51bGwsIG51bGw+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLlJFR0lTVEVSX0ZJTEVfQlVGRkVSLCBbc3RyaW5nLCBVaW50OEFycmF5XSwgbnVsbD5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9IQU5ETEUsIFtzdHJpbmcsIGFueSwgRHVja0RCRGF0YVByb3RvY29sLCBib29sZWFuXSwgbnVsbD5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9VUkwsIFtzdHJpbmcsIHN0cmluZywgRHVja0RCRGF0YVByb3RvY29sLCBib29sZWFuXSwgbnVsbD5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuR0xPQl9GSUxFX0lORk9TLCBzdHJpbmcsIFdlYkZpbGVbXT5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUkVTRVQsIG51bGwsIG51bGw+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLlJVTl9QUkVQQVJFRCwgW251bWJlciwgbnVtYmVyLCBhbnlbXV0sIFVpbnQ4QXJyYXk+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLlJVTl9RVUVSWSwgW0Nvbm5lY3Rpb25JRCwgc3RyaW5nXSwgVWludDhBcnJheT5cbiAgICB8IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuU0VORF9QUkVQQVJFRCwgW251bWJlciwgbnVtYmVyLCBhbnlbXV0sIFVpbnQ4QXJyYXk+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLlNUQVJUX1BFTkRJTkdfUVVFUlksIFtDb25uZWN0aW9uSUQsIHN0cmluZ10sIFVpbnQ4QXJyYXkgfCBudWxsPlxuICAgIHwgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5QT0xMX1BFTkRJTkdfUVVFUlksIENvbm5lY3Rpb25JRCwgVWludDhBcnJheSB8IG51bGw+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkNBTkNFTF9QRU5ESU5HX1FVRVJZLCBDb25uZWN0aW9uSUQsIGJvb2xlYW4+XG4gICAgfCBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLlRPS0VOSVpFLCBzdHJpbmcsIFNjcmlwdFRva2Vucz47XG4iLCAiaW1wb3J0ICogYXMgYXJyb3cgZnJvbSAnYXBhY2hlLWFycm93JztcblxuZXhwb3J0IGludGVyZmFjZSBTUUxUeXBlIHtcbiAgICAvLy8gVGhlIHNxbCB0eXBlXG4gICAgc3FsVHlwZTogc3RyaW5nO1xuICAgIC8vLyBJcyBudWxsYWJsZT9cbiAgICBudWxsYWJsZT86IGJvb2xlYW47XG4gICAgLy8vIERlY2ltYWwgcHJlY2lzaW9uXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyO1xuICAgIC8vLyBEZWNpbWFsIHNjYWxpbmdcbiAgICBzY2FsZT86IG51bWJlcjtcbiAgICAvLy8gVGltZXpvbmVcbiAgICB0aW1lem9uZT86IHN0cmluZztcbiAgICAvLy8gQnl0ZSB3aWR0aCAoRml4ZWRTaXplQmluYXJ5KVxuICAgIGJ5dGVXaWR0aD86IG51bWJlcjtcbiAgICAvLy8gS2V5IHR5cGVcbiAgICBrZXlUeXBlPzogU1FMVHlwZTtcbiAgICAvLy8gVmFsdWUgdHlwZVxuICAgIHZhbHVlVHlwZT86IFNRTFR5cGU7XG4gICAgLy8vIEZpZWxkc1xuICAgIGZpZWxkcz86IFNRTEZpZWxkW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJvd1RvU1FMVHlwZSh0eXBlOiBhcnJvdy5EYXRhVHlwZSk6IFNRTFR5cGUge1xuICAgIHN3aXRjaCAodHlwZS50eXBlSWQpIHtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLkJpbmFyeTpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICdiaW5hcnknIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5Cb29sOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2Jvb2wnIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5EYXRlOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2RhdGUnIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5EYXRlRGF5OlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2RhdGUzMltkXScgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLkRhdGVNaWxsaXNlY29uZDpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICdkYXRlNjRbbXNdJyB9O1xuICAgICAgICBjYXNlIGFycm93LlR5cGUuRGVjaW1hbDoge1xuICAgICAgICAgICAgY29uc3QgZGVjID0gdHlwZSBhcyBhcnJvdy5EZWNpbWFsO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2RlY2ltYWwnLCBwcmVjaXNpb246IGRlYy5wcmVjaXNpb24sIHNjYWxlOiBkZWMuc2NhbGUgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIGFycm93LlR5cGUuRmxvYXQ6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAnZmxvYXQnIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5GbG9hdDE2OlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2Zsb2F0MTYnIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5GbG9hdDMyOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2Zsb2F0MzInIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5GbG9hdDY0OlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2Zsb2F0NjQnIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5JbnQ6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAnaW50MzInIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5JbnQxNjpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICdpbnQxNicgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLkludDMyOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ2ludDMyJyB9O1xuICAgICAgICBjYXNlIGFycm93LlR5cGUuSW50NjQ6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAnaW50NjQnIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5VaW50MTY6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAndWludDE2JyB9O1xuICAgICAgICBjYXNlIGFycm93LlR5cGUuVWludDMyOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ3VpbnQzMicgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLlVpbnQ2NDpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICd1aW50NjQnIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5VaW50ODpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICd1aW50OCcgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLkludGVydmFsRGF5VGltZTpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICdpbnRlcnZhbFtkdF0nIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5JbnRlcnZhbFllYXJNb250aDpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICdpbnRlcnZhbFttXScgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLkxpc3Q6IHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSB0eXBlIGFzIGFycm93Lkxpc3Q7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNxbFR5cGU6ICdsaXN0JyxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IGFycm93VG9TUUxUeXBlKGxpc3QudmFsdWVUeXBlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLkZpeGVkU2l6ZUJpbmFyeToge1xuICAgICAgICAgICAgY29uc3QgYmluID0gdHlwZSBhcyBhcnJvdy5GaXhlZFNpemVCaW5hcnk7XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAnZml4ZWRzaXplYmluYXJ5JywgYnl0ZVdpZHRoOiBiaW4uYnl0ZVdpZHRoIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLk51bGw6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAnbnVsbCcgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLlV0Zjg6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAndXRmOCcgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLlN0cnVjdDoge1xuICAgICAgICAgICAgY29uc3Qgc3RydWN0XyA9IHR5cGUgYXMgYXJyb3cuU3RydWN0O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzcWxUeXBlOiAnc3RydWN0JyxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHN0cnVjdF8uY2hpbGRyZW4ubWFwKGMgPT4gYXJyb3dUb1NRTEZpZWxkKGMubmFtZSwgYy50eXBlKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5NYXA6IHtcbiAgICAgICAgICAgIGNvbnN0IG1hcF8gPSB0eXBlIGFzIGFycm93Lk1hcF87XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNxbFR5cGU6ICdtYXAnLFxuICAgICAgICAgICAgICAgIGtleVR5cGU6IGFycm93VG9TUUxUeXBlKG1hcF8ua2V5VHlwZSksXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBhcnJvd1RvU1FMVHlwZShtYXBfLnZhbHVlVHlwZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5UaW1lOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsVHlwZTogJ3RpbWVbc10nIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5UaW1lTWljcm9zZWNvbmQ6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAndGltZVt1c10nIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5UaW1lTWlsbGlzZWNvbmQ6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAndGltZVttc10nIH07XG4gICAgICAgIGNhc2UgYXJyb3cuVHlwZS5UaW1lTmFub3NlY29uZDpcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICd0aW1lW25zXScgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLlRpbWVTZWNvbmQ6XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAndGltZVtzXScgfTtcbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLlRpbWVzdGFtcDoge1xuICAgICAgICAgICAgY29uc3QgdHMgPSB0eXBlIGFzIGFycm93LlRpbWVzdGFtcDtcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICd0aW1lc3RhbXAnLCB0aW1lem9uZTogdHMudGltZXpvbmUgfHwgdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLlRpbWVzdGFtcFNlY29uZDoge1xuICAgICAgICAgICAgY29uc3QgdHMgPSB0eXBlIGFzIGFycm93LlRpbWVzdGFtcFNlY29uZDtcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICd0aW1lc3RhbXBbc10nLCB0aW1lem9uZTogdHMudGltZXpvbmUgfHwgdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBhcnJvdy5UeXBlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kOiB7XG4gICAgICAgICAgICBjb25zdCB0cyA9IHR5cGUgYXMgYXJyb3cuVGltZXN0YW1wTWljcm9zZWNvbmQ7XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAndGltZXN0YW1wW3VzXScsIHRpbWV6b25lOiB0cy50aW1lem9uZSB8fCB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIGFycm93LlR5cGUuVGltZXN0YW1wTmFub3NlY29uZDoge1xuICAgICAgICAgICAgY29uc3QgdHMgPSB0eXBlIGFzIGFycm93LlRpbWVzdGFtcE5hbm9zZWNvbmQ7XG4gICAgICAgICAgICByZXR1cm4geyBzcWxUeXBlOiAndGltZXN0YW1wW25zXScsIHRpbWV6b25lOiB0cy50aW1lem9uZSB8fCB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIGFycm93LlR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQ6IHtcbiAgICAgICAgICAgIGNvbnN0IHRzID0gdHlwZSBhcyBhcnJvdy5UaW1lc3RhbXBNaWxsaXNlY29uZDtcbiAgICAgICAgICAgIHJldHVybiB7IHNxbFR5cGU6ICd0aW1lc3RhbXBbbXNdJywgdGltZXpvbmU6IHRzLnRpbWV6b25lIHx8IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgYXJyb3cgdHlwZTogJHt0eXBlLnRvU3RyaW5nKCl9YCk7XG59XG5cbmV4cG9ydCB0eXBlIFNRTEZpZWxkID0gU1FMVHlwZSAmIHsgbmFtZTogc3RyaW5nIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJvd1RvU1FMRmllbGQobmFtZTogc3RyaW5nLCB0eXBlOiBhcnJvdy5EYXRhVHlwZSk6IFNRTEZpZWxkIHtcbiAgICBjb25zdCB0ID0gYXJyb3dUb1NRTFR5cGUodHlwZSkgYXMgU1FMRmllbGQ7XG4gICAgdC5uYW1lID0gbmFtZTtcbiAgICByZXR1cm4gdDtcbn1cbiIsICJpbXBvcnQge1xuICAgIFdvcmtlclJlcXVlc3RUeXBlLFxuICAgIFdvcmtlclJlc3BvbnNlVHlwZSxcbiAgICBXb3JrZXJSZXNwb25zZVZhcmlhbnQsXG4gICAgV29ya2VyVGFza1ZhcmlhbnQsXG4gICAgV29ya2VyVGFzayxcbiAgICBDb25uZWN0aW9uSUQsXG4gICAgV29ya2VyVGFza1JldHVyblR5cGUsXG59IGZyb20gJy4vd29ya2VyX3JlcXVlc3QnO1xuaW1wb3J0IHsgQXN5bmNEdWNrREJCaW5kaW5ncyB9IGZyb20gJy4vYXN5bmNfYmluZGluZ3NfaW50ZXJmYWNlJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL2xvZyc7XG5pbXBvcnQgeyBBc3luY0R1Y2tEQkNvbm5lY3Rpb24gfSBmcm9tICcuL2FzeW5jX2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHsgQ1NWSW5zZXJ0T3B0aW9ucywgSlNPTkluc2VydE9wdGlvbnMsIEFycm93SW5zZXJ0T3B0aW9ucyB9IGZyb20gJy4uL2JpbmRpbmdzL2luc2VydF9vcHRpb25zJztcbmltcG9ydCB7IFNjcmlwdFRva2VucyB9IGZyb20gJy4uL2JpbmRpbmdzL3Rva2Vucyc7XG5pbXBvcnQgeyBGaWxlU3RhdGlzdGljcyB9IGZyb20gJy4uL2JpbmRpbmdzL2ZpbGVfc3RhdHMnO1xuaW1wb3J0IHsgRHVja0RCQ29uZmlnIH0gZnJvbSAnLi4vYmluZGluZ3MvY29uZmlnJztcbmltcG9ydCB7IEluc3RhbnRpYXRpb25Qcm9ncmVzcyB9IGZyb20gJy4uL2JpbmRpbmdzL3Byb2dyZXNzJztcbmltcG9ydCB7IGFycm93VG9TUUxGaWVsZCB9IGZyb20gJy4uL2pzb25fdHlwZWRlZic7XG5pbXBvcnQgeyBXZWJGaWxlIH0gZnJvbSAnLi4vYmluZGluZ3Mvd2ViX2ZpbGUnO1xuaW1wb3J0IHsgRHVja0RCRGF0YVByb3RvY29sIH0gZnJvbSAnLi4vYmluZGluZ3MnO1xuXG5jb25zdCBURVhUX0VOQ09ERVIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblxuZXhwb3J0IGNsYXNzIEFzeW5jRHVja0RCIGltcGxlbWVudHMgQXN5bmNEdWNrREJCaW5kaW5ncyB7XG4gICAgLyoqIFRoZSBtZXNzYWdlIGhhbmRsZXIgKi9cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX29uTWVzc2FnZUhhbmRsZXI6IChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB2b2lkO1xuICAgIC8qKiBUaGUgZXJyb3IgaGFuZGxlciAqL1xuICAgIHByb3RlY3RlZCByZWFkb25seSBfb25FcnJvckhhbmRsZXI6IChldmVudDogRXJyb3JFdmVudCkgPT4gdm9pZDtcbiAgICAvKiogVGhlIGNsb3NlIGhhbmRsZXIgKi9cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX29uQ2xvc2VIYW5kbGVyOiAoKSA9PiB2b2lkO1xuXG4gICAgLyoqIEluc3RhbnRpYXRlIHRoZSBtb2R1bGUgKi9cbiAgICBwcm90ZWN0ZWQgX29uSW5zdGFudGlhdGlvblByb2dyZXNzOiAoKHA6IEluc3RhbnRpYXRpb25Qcm9ncmVzcykgPT4gdm9pZClbXSA9IFtdO1xuXG4gICAgLyoqIFRoZSBsb2dnZXIgKi9cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2xvZ2dlcjogTG9nZ2VyO1xuICAgIC8qKiBUaGUgd29ya2VyICovXG4gICAgcHJvdGVjdGVkIF93b3JrZXI6IFdvcmtlciB8IG51bGwgPSBudWxsO1xuICAgIC8qKiBUaGUgcHJvbWlzZSBmb3IgdGhlIHdvcmtlciBzaHV0ZG93biAqL1xuICAgIHByb3RlY3RlZCBfd29ya2VyU2h1dGRvd25Qcm9taXNlOiBQcm9taXNlPG51bGw+IHwgbnVsbCA9IG51bGw7XG4gICAgLyoqIE1ha2UgdGhlIHdvcmtlciBhcyB0ZXJtaW5hdGVkICovXG4gICAgcHJvdGVjdGVkIF93b3JrZXJTaHV0ZG93blJlc29sdmVyOiAodmFsdWU6IFByb21pc2VMaWtlPG51bGw+IHwgbnVsbCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gICAgLyoqIFRoZSBuZXh0IG1lc3NhZ2UgaWQgKi9cbiAgICBwcm90ZWN0ZWQgX25leHRNZXNzYWdlSWQgPSAwO1xuICAgIC8qKiBUaGUgcGVuZGluZyByZXF1ZXN0cyAqL1xuICAgIHByb3RlY3RlZCBfcGVuZGluZ1JlcXVlc3RzOiBNYXA8bnVtYmVyLCBXb3JrZXJUYXNrVmFyaWFudD4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihsb2dnZXI6IExvZ2dlciwgd29ya2VyOiBXb3JrZXIgfCBudWxsID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIHRoaXMuX29uTWVzc2FnZUhhbmRsZXIgPSB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbkVycm9ySGFuZGxlciA9IHRoaXMub25FcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbkNsb3NlSGFuZGxlciA9IHRoaXMub25DbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICBpZiAod29ya2VyICE9IG51bGwpIHRoaXMuYXR0YWNoKHdvcmtlcik7XG4gICAgfVxuXG4gICAgLyoqIEdldCB0aGUgbG9nZ2VyICovXG4gICAgcHVibGljIGdldCBsb2dnZXIoKTogTG9nZ2VyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvZ2dlcjtcbiAgICB9XG5cbiAgICAvKiogQXR0YWNoIHRvIHdvcmtlciAqL1xuICAgIHByb3RlY3RlZCBhdHRhY2god29ya2VyOiBXb3JrZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gd29ya2VyO1xuICAgICAgICB0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uTWVzc2FnZUhhbmRsZXIpO1xuICAgICAgICB0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9ySGFuZGxlcik7XG4gICAgICAgIHRoaXMuX3dvcmtlci5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMuX29uQ2xvc2VIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fd29ya2VyU2h1dGRvd25Qcm9taXNlID0gbmV3IFByb21pc2U8bnVsbD4oXG4gICAgICAgICAgICAocmVzb2x2ZTogKHZhbHVlOiBQcm9taXNlTGlrZTxudWxsPiB8IG51bGwpID0+IHZvaWQsIF9yZWplY3Q6IChyZWFzb24/OiB2b2lkKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya2VyU2h1dGRvd25SZXNvbHZlciA9IHJlc29sdmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKiBEZXRhY2ggZnJvbSB3b3JrZXIgKi9cbiAgICBwdWJsaWMgZGV0YWNoKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuX3dvcmtlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLl93b3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uTWVzc2FnZUhhbmRsZXIpO1xuICAgICAgICB0aGlzLl93b3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9ySGFuZGxlcik7XG4gICAgICAgIHRoaXMuX3dvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMuX29uQ2xvc2VIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd29ya2VyU2h1dGRvd25SZXNvbHZlcihudWxsKTtcbiAgICAgICAgdGhpcy5fd29ya2VyU2h1dGRvd25Qcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd29ya2VyU2h1dGRvd25SZXNvbHZlciA9ICgpID0+IHt9O1xuICAgIH1cblxuICAgIC8qKiBLaWxsIHRoZSB3b3JrZXIgKi9cbiAgICBwdWJsaWMgYXN5bmMgdGVybWluYXRlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuX3dvcmtlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLl93b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgIC8vYXdhaXQgdGhpcy5fd29ya2VyU2h1dGRvd25Qcm9taXNlOyBUT0RPIGRlYWRsb2NraW5nIGluIGthcm1hP1xuICAgICAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl93b3JrZXJTaHV0ZG93blByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLl93b3JrZXJTaHV0ZG93blJlc29sdmVyID0gKCkgPT4ge307XG4gICAgfVxuXG4gICAgLyoqIFBvc3QgYSB0YXNrICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIHBvc3RUYXNrPFcgZXh0ZW5kcyBXb3JrZXJUYXNrVmFyaWFudD4oXG4gICAgICAgIHRhc2s6IFcsXG4gICAgICAgIHRyYW5zZmVyOiBBcnJheUJ1ZmZlcltdID0gW10sXG4gICAgKTogUHJvbWlzZTxXb3JrZXJUYXNrUmV0dXJuVHlwZTxXPj4ge1xuICAgICAgICBpZiAoIXRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignY2Fubm90IHNlbmQgYSBtZXNzYWdlIHNpbmNlIHRoZSB3b3JrZXIgaXMgbm90IHNldCEnKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1pZCA9IHRoaXMuX25leHRNZXNzYWdlSWQrKztcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzLnNldChtaWQsIHRhc2spO1xuICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGFzay50eXBlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHRhc2suZGF0YSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2ZlcixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIChhd2FpdCB0YXNrLnByb21pc2UpIGFzIFdvcmtlclRhc2tSZXR1cm5UeXBlPFc+O1xuICAgIH1cblxuICAgIC8qKiBSZWNlaXZlZCBhIG1lc3NhZ2UgKi9cbiAgICBwcm90ZWN0ZWQgb25NZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgLy8gVW5hc3NvY2lhdGVkIHJlc3BvbnNlcz9cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBldmVudC5kYXRhIGFzIFdvcmtlclJlc3BvbnNlVmFyaWFudDtcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZS50eXBlKSB7XG4gICAgICAgICAgICAvLyBSZXF1ZXN0IGZhaWxlZD9cbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVzcG9uc2VUeXBlLkxPRzoge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2cocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FsbCBwcm9ncmVzcyBjYWxsYmFja1xuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXNwb25zZVR5cGUuSU5TVEFOVElBVEVfUFJPR1JFU1M6IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy5fb25JbnN0YW50aWF0aW9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcChyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGFzc29jaWF0ZWQgdGFza1xuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy5fcGVuZGluZ1JlcXVlc3RzLmdldChyZXNwb25zZS5yZXF1ZXN0SWQpO1xuICAgICAgICBpZiAoIXRhc2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdW5hc3NvY2lhdGVkIHJlc3BvbnNlOiBbJHtyZXNwb25zZS5yZXF1ZXN0SWR9LCAke3Jlc3BvbnNlLnR5cGUudG9TdHJpbmcoKX1dYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShyZXNwb25zZS5yZXF1ZXN0SWQpO1xuXG4gICAgICAgIC8vIFJlcXVlc3QgZmFpbGVkP1xuICAgICAgICBpZiAocmVzcG9uc2UudHlwZSA9PSBXb3JrZXJSZXNwb25zZVR5cGUuRVJST1IpIHtcbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIEZpcmVmb3ggbm90IGJlaW5nIGFibGUgdG8gcGVyZm9ybSBzdHJ1Y3R1cmVkLWNsb25lIG9uIE5hdGl2ZSBFcnJvcnNcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE1NTY2MDRcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgIGUubmFtZSA9IHJlc3BvbnNlLmRhdGEubmFtZTtcbiAgICAgICAgICAgIGUuc3RhY2sgPSByZXNwb25zZS5kYXRhLnN0YWNrO1xuICAgICAgICAgICAgdGFzay5wcm9taXNlUmVqZWN0ZXIoZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdGhlcndpc2UgZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHRoZSB0YXNrcyBmaXJzdFxuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5DTE9TRV9QUkVQQVJFRDpcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuQ09MTEVDVF9GSUxFX1NUQVRJU1RJQ1M6XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkNPUFlfRklMRV9UT19QQVRIOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5EUk9QX0ZJTEU6XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkRST1BfRklMRVM6XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkZMVVNIX0ZJTEVTOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfQVJST1dfRlJPTV9JUENfU1RSRUFNOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfQ1NWX0ZST01fUEFUSDpcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuSU5TRVJUX0pTT05fRlJPTV9QQVRIOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5PUEVOOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5QSU5HOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5SRUdJU1RFUl9GSUxFX0JVRkZFUjpcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9IQU5ETEU6XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlJFR0lTVEVSX0ZJTEVfVVJMOlxuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5SRVNFVDpcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UudHlwZSA9PSBXb3JrZXJSZXNwb25zZVR5cGUuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLklOU1RBTlRJQVRFOlxuICAgICAgICAgICAgICAgIHRoaXMuX29uSW5zdGFudGlhdGlvblByb2dyZXNzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT0gV29ya2VyUmVzcG9uc2VUeXBlLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2sucHJvbWlzZVJlc29sdmVyKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5HTE9CX0ZJTEVfSU5GT1M6XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT0gV29ya2VyUmVzcG9uc2VUeXBlLkZJTEVfSU5GT1MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkdFVF9WRVJTSU9OOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFdvcmtlclJlc3BvbnNlVHlwZS5WRVJTSU9OX1NUUklORykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrLnByb21pc2VSZXNvbHZlcihyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuR0VUX0ZFQVRVUkVfRkxBR1M6XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT0gV29ya2VyUmVzcG9uc2VUeXBlLkZFQVRVUkVfRkxBR1MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkdFVF9UQUJMRV9OQU1FUzpcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UudHlwZSA9PSBXb3JrZXJSZXNwb25zZVR5cGUuVEFCTEVfTkFNRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlRPS0VOSVpFOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFdvcmtlclJlc3BvbnNlVHlwZS5TQ1JJUFRfVE9LRU5TKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2sucHJvbWlzZVJlc29sdmVyKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5DT1BZX0ZJTEVfVE9fQlVGRkVSOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFdvcmtlclJlc3BvbnNlVHlwZS5GSUxFX0JVRkZFUikge1xuICAgICAgICAgICAgICAgICAgICB0YXNrLnByb21pc2VSZXNvbHZlcihyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuRVhQT1JUX0ZJTEVfU1RBVElTVElDUzpcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UudHlwZSA9PSBXb3JrZXJSZXNwb25zZVR5cGUuRklMRV9TVEFUSVNUSUNTKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2sucHJvbWlzZVJlc29sdmVyKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFdvcmtlclJlc3BvbnNlVHlwZS5DT05ORUNUSU9OX0lORk8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlJVTl9QUkVQQVJFRDpcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuUlVOX1FVRVJZOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9SRVNVTFQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlNFTkRfUFJFUEFSRUQ6XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT0gV29ya2VyUmVzcG9uc2VUeXBlLlFVRVJZX1JFU1VMVF9IRUFERVIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlNUQVJUX1BFTkRJTkdfUVVFUlk6XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT0gV29ya2VyUmVzcG9uc2VUeXBlLlFVRVJZX1JFU1VMVF9IRUFERVJfT1JfTlVMTCkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrLnByb21pc2VSZXNvbHZlcihyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuUE9MTF9QRU5ESU5HX1FVRVJZOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9SRVNVTFRfSEVBREVSX09SX05VTEwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkNBTkNFTF9QRU5ESU5HX1FVRVJZOlxuICAgICAgICAgICAgICAgIHRoaXMuX29uSW5zdGFudGlhdGlvblByb2dyZXNzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT0gV29ya2VyUmVzcG9uc2VUeXBlLlNVQ0NFU1MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkZFVENIX1FVRVJZX1JFU1VMVFM6XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT0gV29ya2VyUmVzcG9uc2VUeXBlLlFVRVJZX1JFU1VMVF9DSFVOSykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrLnByb21pc2VSZXNvbHZlcihyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuQ1JFQVRFX1BSRVBBUkVEOlxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFdvcmtlclJlc3BvbnNlVHlwZS5QUkVQQVJFRF9TVEFURU1FTlRfSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5wcm9taXNlUmVzb2x2ZXIocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGFzay5wcm9taXNlUmVqZWN0ZXIobmV3IEVycm9yKGB1bmV4cGVjdGVkIHJlc3BvbnNlIHR5cGU6ICR7cmVzcG9uc2UudHlwZS50b1N0cmluZygpfWApKTtcbiAgICB9XG5cbiAgICAvKiogUmVjZWl2ZWQgYW4gZXJyb3IgKi9cbiAgICBwcm90ZWN0ZWQgb25FcnJvcihldmVudDogRXJyb3JFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKGV2ZW50KTtcbiAgICAgICAgY29uc29sZS5lcnJvcihgZXJyb3IgaW4gZHVja2RiIHdvcmtlcjogJHtldmVudC5tZXNzYWdlfWApO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVxdWVzdHMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKiogVGhlIHdvcmtlciB3YXMgY2xvc2VkICovXG4gICAgcHJvdGVjdGVkIG9uQ2xvc2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3dvcmtlclNodXRkb3duUmVzb2x2ZXIobnVsbCk7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nUmVxdWVzdHMuc2l6ZSAhPSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHdvcmtlciB0ZXJtaW5hdGVkIHdpdGggJHt0aGlzLl9wZW5kaW5nUmVxdWVzdHMuc2l6ZX0gcGVuZGluZyByZXF1ZXN0c2ApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5jbGVhcigpO1xuICAgIH1cblxuICAgIC8qKiBSZXNldCB0aGUgZHVja2RiICovXG4gICAgcHVibGljIGFzeW5jIHJlc2V0KCk6IFByb21pc2U8bnVsbD4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUkVTRVQsIG51bGwsIG51bGw+KFdvcmtlclJlcXVlc3RUeXBlLlJFU0VULCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuXG4gICAgLyoqIFBpbmcgdGhlIHdvcmtlciB0aHJlYWQgKi9cbiAgICBwdWJsaWMgYXN5bmMgcGluZygpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUElORywgbnVsbCwgbnVsbD4oV29ya2VyUmVxdWVzdFR5cGUuUElORywgbnVsbCk7XG4gICAgICAgIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuICAgIC8qKiBUcnkgdG8gZHJvcCBhIGZpbGUgKi9cbiAgICBwdWJsaWMgYXN5bmMgZHJvcEZpbGUobmFtZTogc3RyaW5nKTogUHJvbWlzZTxudWxsPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5EUk9QX0ZJTEUsIHN0cmluZywgbnVsbD4oV29ya2VyUmVxdWVzdFR5cGUuRFJPUF9GSUxFLCBuYW1lKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuICAgIC8qKiBUcnkgdG8gZHJvcCBmaWxlcyAqL1xuICAgIHB1YmxpYyBhc3luYyBkcm9wRmlsZXMoKTogUHJvbWlzZTxudWxsPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5EUk9QX0ZJTEVTLCBudWxsLCBudWxsPihXb3JrZXJSZXF1ZXN0VHlwZS5EUk9QX0ZJTEVTLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuICAgIC8qKiBGbHVzaCBhbGwgZmlsZXMgKi9cbiAgICBwdWJsaWMgYXN5bmMgZmx1c2hGaWxlcygpOiBQcm9taXNlPG51bGw+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkZMVVNIX0ZJTEVTLCBudWxsLCBudWxsPihXb3JrZXJSZXF1ZXN0VHlwZS5GTFVTSF9GSUxFUywgbnVsbCk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvc3RUYXNrKHRhc2spO1xuICAgIH1cblxuICAgIC8qKiBPcGVuIHRoZSBkYXRhYmFzZSAqL1xuICAgIHB1YmxpYyBhc3luYyBpbnN0YW50aWF0ZShcbiAgICAgICAgbWFpbk1vZHVsZVVSTDogc3RyaW5nLFxuICAgICAgICBwdGhyZWFkV29ya2VyVVJMOiBzdHJpbmcgfCBudWxsID0gbnVsbCxcbiAgICAgICAgcHJvZ3Jlc3M6IChwcm9ncmVzczogSW5zdGFudGlhdGlvblByb2dyZXNzKSA9PiB2b2lkID0gX3AgPT4ge30sXG4gICAgKTogUHJvbWlzZTxudWxsPiB7XG4gICAgICAgIHRoaXMuX29uSW5zdGFudGlhdGlvblByb2dyZXNzLnB1c2gocHJvZ3Jlc3MpO1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuSU5TVEFOVElBVEUsIFtzdHJpbmcsIHN0cmluZyB8IG51bGxdLCBudWxsPihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLklOU1RBTlRJQVRFLFxuICAgICAgICAgICAgW21haW5Nb2R1bGVVUkwsIHB0aHJlYWRXb3JrZXJVUkxdLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrKTtcbiAgICB9XG5cbiAgICAvKiogR2V0IHRoZSB2ZXJzaW9uICovXG4gICAgcHVibGljIGFzeW5jIGdldFZlcnNpb24oKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkdFVF9WRVJTSU9OLCBudWxsLCBzdHJpbmc+KFdvcmtlclJlcXVlc3RUeXBlLkdFVF9WRVJTSU9OLCBudWxsKTtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKiBHZXQgdGhlIGZlYXR1cmUgZmxhZ3MgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0RmVhdHVyZUZsYWdzKCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5HRVRfRkVBVFVSRV9GTEFHUywgbnVsbCwgbnVtYmVyPihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLkdFVF9GRUFUVVJFX0ZMQUdTLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZmVhdHVyZSA9IGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlO1xuICAgIH1cblxuICAgIC8qKiBPcGVuIGEgbmV3IGRhdGFiYXNlICovXG4gICAgcHVibGljIGFzeW5jIG9wZW4oY29uZmlnOiBEdWNrREJDb25maWcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLk9QRU4sIER1Y2tEQkNvbmZpZywgbnVsbD4oV29ya2VyUmVxdWVzdFR5cGUuT1BFTiwgY29uZmlnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrKTtcbiAgICB9XG5cbiAgICAvKiogVG9rZW5pemUgYSBzY3JpcHQgdGV4dCAqL1xuICAgIHB1YmxpYyBhc3luYyB0b2tlbml6ZSh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPFNjcmlwdFRva2Vucz4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuVE9LRU5JWkUsIHN0cmluZywgU2NyaXB0VG9rZW5zPihXb3JrZXJSZXF1ZXN0VHlwZS5UT0tFTklaRSwgdGV4dCk7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuXG4gICAgLyoqIENvbm5lY3QgdG8gdGhlIGRhdGFiYXNlICovXG4gICAgcHVibGljIGFzeW5jIGNvbm5lY3RJbnRlcm5hbCgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuQ09OTkVDVCwgbnVsbCwgQ29ubmVjdGlvbklEPihXb3JrZXJSZXF1ZXN0VHlwZS5DT05ORUNULCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuXG4gICAgLyoqIENvbm5lY3QgdG8gdGhlIGRhdGFiYXNlICovXG4gICAgcHVibGljIGFzeW5jIGNvbm5lY3QoKTogUHJvbWlzZTxBc3luY0R1Y2tEQkNvbm5lY3Rpb24+IHtcbiAgICAgICAgY29uc3QgY2lkID0gYXdhaXQgdGhpcy5jb25uZWN0SW50ZXJuYWwoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3luY0R1Y2tEQkNvbm5lY3Rpb24odGhpcywgY2lkKTtcbiAgICB9XG5cbiAgICAvKiogRGlzY29ubmVjdCBmcm9tIHRoZSBkYXRhYmFzZSAqL1xuICAgIHB1YmxpYyBhc3luYyBkaXNjb25uZWN0KGNvbm46IENvbm5lY3Rpb25JRCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuRElTQ09OTkVDVCwgQ29ubmVjdGlvbklELCBudWxsPihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLkRJU0NPTk5FQ1QsXG4gICAgICAgICAgICBjb25uLFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCB0aGlzLnBvc3RUYXNrKHRhc2spO1xuICAgIH1cblxuICAgIC8qKiBSdW4gYSBxdWVyeSAqL1xuICAgIHB1YmxpYyBhc3luYyBydW5RdWVyeShjb25uOiBDb25uZWN0aW9uSUQsIHRleHQ6IHN0cmluZyk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUlVOX1FVRVJZLCBbQ29ubmVjdGlvbklELCBzdHJpbmddLCBVaW50OEFycmF5PihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLlJVTl9RVUVSWSxcbiAgICAgICAgICAgIFtjb25uLCB0ZXh0XSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuXG4gICAgLyoqIFN0YXJ0IGEgcGVuZGluZyBxdWVyeSAqL1xuICAgIHB1YmxpYyBhc3luYyBzdGFydFBlbmRpbmdRdWVyeShjb25uOiBDb25uZWN0aW9uSUQsIHRleHQ6IHN0cmluZyk6IFByb21pc2U8VWludDhBcnJheSB8IG51bGw+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLlNUQVJUX1BFTkRJTkdfUVVFUlksIFtDb25uZWN0aW9uSUQsIHN0cmluZ10sIFVpbnQ4QXJyYXkgfCBudWxsPihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLlNUQVJUX1BFTkRJTkdfUVVFUlksXG4gICAgICAgICAgICBbY29ubiwgdGV4dF0sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvc3RUYXNrKHRhc2spO1xuICAgIH1cbiAgICAvKiogUG9sbCBhIHBlbmRpbmcgcXVlcnkgKi9cbiAgICBwdWJsaWMgYXN5bmMgcG9sbFBlbmRpbmdRdWVyeShjb25uOiBDb25uZWN0aW9uSUQpOiBQcm9taXNlPFVpbnQ4QXJyYXkgfCBudWxsPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5QT0xMX1BFTkRJTkdfUVVFUlksIENvbm5lY3Rpb25JRCwgVWludDhBcnJheSB8IG51bGw+KFxuICAgICAgICAgICAgV29ya2VyUmVxdWVzdFR5cGUuUE9MTF9QRU5ESU5HX1FVRVJZLFxuICAgICAgICAgICAgY29ubixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuICAgIC8qKiBDYW5jZWwgYSBwZW5kaW5nIHF1ZXJ5ICovXG4gICAgcHVibGljIGFzeW5jIGNhbmNlbFBlbmRpbmdRdWVyeShjb25uOiBDb25uZWN0aW9uSUQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkNBTkNFTF9QRU5ESU5HX1FVRVJZLCBDb25uZWN0aW9uSUQsIGJvb2xlYW4+KFxuICAgICAgICAgICAgV29ya2VyUmVxdWVzdFR5cGUuQ0FOQ0VMX1BFTkRJTkdfUVVFUlksXG4gICAgICAgICAgICBjb25uLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrKTtcbiAgICB9XG5cbiAgICAvKiogRmV0Y2ggcXVlcnkgcmVzdWx0cyAqL1xuICAgIHB1YmxpYyBhc3luYyBmZXRjaFF1ZXJ5UmVzdWx0cyhjb25uOiBDb25uZWN0aW9uSUQpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkZFVENIX1FVRVJZX1JFU1VMVFMsIENvbm5lY3Rpb25JRCwgVWludDhBcnJheT4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5GRVRDSF9RVUVSWV9SRVNVTFRTLFxuICAgICAgICAgICAgY29ubixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuXG4gICAgLyoqIEdldCB0YWJsZSBuYW1lcyAqL1xuICAgIHB1YmxpYyBhc3luYyBnZXRUYWJsZU5hbWVzKGNvbm46IG51bWJlciwgdGV4dDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuR0VUX1RBQkxFX05BTUVTLCBbbnVtYmVyLCBzdHJpbmddLCBzdHJpbmdbXT4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5HRVRfVEFCTEVfTkFNRVMsXG4gICAgICAgICAgICBbY29ubiwgdGV4dF0sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvc3RUYXNrKHRhc2spO1xuICAgIH1cblxuICAgIC8qKiBQcmVwYXJlIGEgc3RhdGVtZW50IGFuZCByZXR1cm4gaXRzIGlkZW50aWZpZXIgKi9cbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlUHJlcGFyZWQoY29ubjogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuQ1JFQVRFX1BSRVBBUkVELCBbbnVtYmVyLCBzdHJpbmddLCBudW1iZXI+KFxuICAgICAgICAgICAgV29ya2VyUmVxdWVzdFR5cGUuQ1JFQVRFX1BSRVBBUkVELFxuICAgICAgICAgICAgW2Nvbm4sIHRleHRdLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrKTtcbiAgICB9XG4gICAgLyoqIENsb3NlIGEgcHJlcGFyZWQgc3RhdGVtZW50ICovXG4gICAgcHVibGljIGFzeW5jIGNsb3NlUHJlcGFyZWQoY29ubjogbnVtYmVyLCBzdGF0ZW1lbnQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuQ0xPU0VfUFJFUEFSRUQsIFtudW1iZXIsIG51bWJlcl0sIG51bGw+KFxuICAgICAgICAgICAgV29ya2VyUmVxdWVzdFR5cGUuQ0xPU0VfUFJFUEFSRUQsXG4gICAgICAgICAgICBbY29ubiwgc3RhdGVtZW50XSxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrKTtcbiAgICB9XG4gICAgLyoqIEV4ZWN1dGUgYSBwcmVwYXJlZCBzdGF0ZW1lbnQgYW5kIHJldHVybiB0aGUgZnVsbCByZXN1bHQgKi9cbiAgICBwdWJsaWMgYXN5bmMgcnVuUHJlcGFyZWQoY29ubjogbnVtYmVyLCBzdGF0ZW1lbnQ6IG51bWJlciwgcGFyYW1zOiBhbnlbXSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUlVOX1BSRVBBUkVELCBbQ29ubmVjdGlvbklELCBudW1iZXIsIGFueVtdXSwgVWludDhBcnJheT4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5SVU5fUFJFUEFSRUQsXG4gICAgICAgICAgICBbY29ubiwgc3RhdGVtZW50LCBwYXJhbXNdLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrKTtcbiAgICB9XG4gICAgLyoqIEV4ZWN1dGUgYSBwcmVwYXJlZCBzdGF0ZW1lbnQgYW5kIHN0cmVhbSB0aGUgcmVzdWx0ICovXG4gICAgcHVibGljIGFzeW5jIHNlbmRQcmVwYXJlZChjb25uOiBudW1iZXIsIHN0YXRlbWVudDogbnVtYmVyLCBwYXJhbXM6IGFueVtdKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5TRU5EX1BSRVBBUkVELCBbQ29ubmVjdGlvbklELCBudW1iZXIsIGFueVtdXSwgVWludDhBcnJheT4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5TRU5EX1BSRVBBUkVELFxuICAgICAgICAgICAgW2Nvbm4sIHN0YXRlbWVudCwgcGFyYW1zXSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuICAgIC8qKiBHbG9iIGZpbGUgaW5mb3MgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2xvYkZpbGVzKHBhdGg6IHN0cmluZyk6IFByb21pc2U8V2ViRmlsZVtdPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5HTE9CX0ZJTEVfSU5GT1MsIHN0cmluZywgV2ViRmlsZVtdPihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLkdMT0JfRklMRV9JTkZPUyxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvc3RUYXNrKHRhc2spO1xuICAgIH1cbiAgICAvKiogUmVnaXN0ZXIgZmlsZSB0ZXh0ICovXG4gICAgcHVibGljIGFzeW5jIHJlZ2lzdGVyRmlsZVRleHQobmFtZTogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gVEVYVF9FTkNPREVSLmVuY29kZSh0ZXh0KTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWdpc3RlckZpbGVCdWZmZXIobmFtZSwgYnVmZmVyKTtcbiAgICB9XG4gICAgLyoqIFJlZ2lzdGVyIGEgZmlsZSBwYXRoLiAqL1xuICAgIHB1YmxpYyBhc3luYyByZWdpc3RlckZpbGVVUkwoXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICAgIHByb3RvOiBEdWNrREJEYXRhUHJvdG9jb2wsXG4gICAgICAgIGRpcmVjdElPOiBib29sZWFuLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVybCA9IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFxuICAgICAgICAgICAgV29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9VUkwsXG4gICAgICAgICAgICBbc3RyaW5nLCBzdHJpbmcsIER1Y2tEQkRhdGFQcm90b2NvbCwgYm9vbGVhbl0sXG4gICAgICAgICAgICBudWxsXG4gICAgICAgID4oV29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9VUkwsIFtuYW1lLCB1cmwsIHByb3RvLCBkaXJlY3RJT10pO1xuICAgICAgICBhd2FpdCB0aGlzLnBvc3RUYXNrKHRhc2spO1xuICAgIH1cblxuICAgIC8qKiBSZWdpc3RlciBhbiBlbXB0eSBmaWxlIGJ1ZmZlci4gKi9cbiAgICBwdWJsaWMgYXN5bmMgcmVnaXN0ZXJFbXB0eUZpbGVCdWZmZXIobmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5SRUdJU1RFUl9GSUxFX0JVRkZFUiwgW3N0cmluZywgVWludDhBcnJheV0sIG51bGw+KFxuICAgICAgICAgICAgV29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9CVUZGRVIsXG4gICAgICAgICAgICBbbmFtZSwgbmV3IFVpbnQ4QXJyYXkoKV0sXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuXG4gICAgLyoqIFJlZ2lzdGVyIGEgZmlsZSBidWZmZXIuICovXG4gICAgcHVibGljIGFzeW5jIHJlZ2lzdGVyRmlsZUJ1ZmZlcihuYW1lOiBzdHJpbmcsIGJ1ZmZlcjogVWludDhBcnJheSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuUkVHSVNURVJfRklMRV9CVUZGRVIsIFtzdHJpbmcsIFVpbnQ4QXJyYXldLCBudWxsPihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLlJFR0lTVEVSX0ZJTEVfQlVGRkVSLFxuICAgICAgICAgICAgW25hbWUsIGJ1ZmZlcl0sXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzaywgW2J1ZmZlci5idWZmZXJdKTtcbiAgICB9XG5cbiAgICAvKiogUmVnaXN0ZXIgYSBmaWxlIGhhbmRsZS4gKi9cbiAgICBwdWJsaWMgYXN5bmMgcmVnaXN0ZXJGaWxlSGFuZGxlPEhhbmRsZVR5cGU+KFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIGhhbmRsZTogSGFuZGxlVHlwZSxcbiAgICAgICAgcHJvdG9jb2w6IER1Y2tEQkRhdGFQcm90b2NvbCxcbiAgICAgICAgZGlyZWN0SU86IGJvb2xlYW4sXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLlJFR0lTVEVSX0ZJTEVfSEFORExFLFxuICAgICAgICAgICAgW3N0cmluZywgYW55LCBEdWNrREJEYXRhUHJvdG9jb2wsIGJvb2xlYW5dLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICA+KFdvcmtlclJlcXVlc3RUeXBlLlJFR0lTVEVSX0ZJTEVfSEFORExFLCBbbmFtZSwgaGFuZGxlLCBwcm90b2NvbCwgZGlyZWN0SU9dKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrLCBbXSk7XG4gICAgfVxuXG4gICAgLyoqIEVuYWJsZSBmaWxlIHN0YXRpc3RpY3MgKi9cbiAgICBwdWJsaWMgYXN5bmMgY29sbGVjdEZpbGVTdGF0aXN0aWNzKG5hbWU6IHN0cmluZywgZW5hYmxlOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5DT0xMRUNUX0ZJTEVfU1RBVElTVElDUywgW3N0cmluZywgYm9vbGVhbl0sIG51bGw+KFxuICAgICAgICAgICAgV29ya2VyUmVxdWVzdFR5cGUuQ09MTEVDVF9GSUxFX1NUQVRJU1RJQ1MsXG4gICAgICAgICAgICBbbmFtZSwgZW5hYmxlXSxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrLCBbXSk7XG4gICAgfVxuXG4gICAgLyoqIEV4cG9ydCBmaWxlIHN0YXRpc3RpY3MgKi9cbiAgICBwdWJsaWMgYXN5bmMgZXhwb3J0RmlsZVN0YXRpc3RpY3MobmFtZTogc3RyaW5nKTogUHJvbWlzZTxGaWxlU3RhdGlzdGljcz4ge1xuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuRVhQT1JUX0ZJTEVfU1RBVElTVElDUywgc3RyaW5nLCBGaWxlU3RhdGlzdGljcz4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5FWFBPUlRfRklMRV9TVEFUSVNUSUNTLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzaywgW10pO1xuICAgIH1cblxuICAgIC8qKiBDb3B5IGEgZmlsZSB0byBhIGJ1ZmZlci4gKi9cbiAgICBwdWJsaWMgYXN5bmMgY29weUZpbGVUb0J1ZmZlcihuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkNPUFlfRklMRV9UT19CVUZGRVIsIHN0cmluZywgVWludDhBcnJheT4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5DT1BZX0ZJTEVfVE9fQlVGRkVSLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxuXG4gICAgLyoqIENvcHkgYSBmaWxlIHRvIGEgcGF0aC4gKi9cbiAgICBwdWJsaWMgYXN5bmMgY29weUZpbGVUb1BhdGgobmFtZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyBXb3JrZXJUYXNrPFdvcmtlclJlcXVlc3RUeXBlLkNPUFlfRklMRV9UT19QQVRILCBbc3RyaW5nLCBzdHJpbmddLCBudWxsPihcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLkNPUFlfRklMRV9UT19QQVRILFxuICAgICAgICAgICAgW25hbWUsIHBhdGhdLFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCB0aGlzLnBvc3RUYXNrKHRhc2spO1xuICAgIH1cblxuICAgIC8qKiBJbnNlcnQgYXJyb3cgZnJvbSBhbiBpcGMgc3RyZWFtICovXG4gICAgcHVibGljIGFzeW5jIGluc2VydEFycm93RnJvbUlQQ1N0cmVhbShcbiAgICAgICAgY29ubjogQ29ubmVjdGlvbklELFxuICAgICAgICBidWZmZXI6IFVpbnQ4QXJyYXksXG4gICAgICAgIG9wdGlvbnM/OiBBcnJvd0luc2VydE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09IDApIHJldHVybjtcbiAgICAgICAgLy8gUGFzcyB0byB0aGUgd29ya2VyXG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxcbiAgICAgICAgICAgIFdvcmtlclJlcXVlc3RUeXBlLklOU0VSVF9BUlJPV19GUk9NX0lQQ19TVFJFQU0sXG4gICAgICAgICAgICBbbnVtYmVyLCBVaW50OEFycmF5LCBBcnJvd0luc2VydE9wdGlvbnMgfCB1bmRlZmluZWRdLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICA+KFdvcmtlclJlcXVlc3RUeXBlLklOU0VSVF9BUlJPV19GUk9NX0lQQ19TVFJFQU0sIFtjb25uLCBidWZmZXIsIG9wdGlvbnNdKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrLCBbYnVmZmVyLmJ1ZmZlcl0pO1xuICAgIH1cbiAgICAvKiogSW5zZXJ0IGEgY3N2IGZpbGUgKi9cbiAgICBwdWJsaWMgYXN5bmMgaW5zZXJ0Q1NWRnJvbVBhdGgoY29ubjogQ29ubmVjdGlvbklELCBwYXRoOiBzdHJpbmcsIG9wdGlvbnM6IENTVkluc2VydE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gRmxhdHRlbiB0aGUgdGFibGUgb3B0aW9uc1xuICAgICAgICBpZiAob3B0aW9ucy5jb2x1bW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dCA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIG9wdGlvbnMuY29sdW1ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLmNvbHVtbnNba107XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goYXJyb3dUb1NRTEZpZWxkKGssIHR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMuY29sdW1uc0ZsYXQgPSBvdXQ7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jb2x1bW5zO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFzcyB0byB0aGUgd29ya2VyXG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgV29ya2VyVGFzazxXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfQ1NWX0ZST01fUEFUSCwgW251bWJlciwgc3RyaW5nLCBDU1ZJbnNlcnRPcHRpb25zXSwgbnVsbD4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfQ1NWX0ZST01fUEFUSCxcbiAgICAgICAgICAgIFtjb25uLCBwYXRoLCBvcHRpb25zXSxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0VGFzayh0YXNrKTtcbiAgICB9XG4gICAgLyoqIEluc2VydCBhIGpzb24gZmlsZSAqL1xuICAgIHB1YmxpYyBhc3luYyBpbnNlcnRKU09ORnJvbVBhdGgoY29ubjogQ29ubmVjdGlvbklELCBwYXRoOiBzdHJpbmcsIG9wdGlvbnM6IEpTT05JbnNlcnRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEZsYXR0ZW4gdGhlIHRhYmxlIG9wdGlvbnNcbiAgICAgICAgaWYgKG9wdGlvbnMuY29sdW1ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBvdXQgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBvcHRpb25zLmNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy5jb2x1bW5zW2tdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGFycm93VG9TUUxGaWVsZChrLCB0eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmNvbHVtbnNGbGF0ID0gb3V0O1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY29sdW1ucztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhc3MgdG8gdGhlIHdvcmtlclxuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFdvcmtlclRhc2s8V29ya2VyUmVxdWVzdFR5cGUuSU5TRVJUX0pTT05fRlJPTV9QQVRILCBbbnVtYmVyLCBzdHJpbmcsIEpTT05JbnNlcnRPcHRpb25zXSwgbnVsbD4oXG4gICAgICAgICAgICBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfSlNPTl9GUk9NX1BBVEgsXG4gICAgICAgICAgICBbY29ubiwgcGF0aCwgb3B0aW9uc10sXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IHRoaXMucG9zdFRhc2sodGFzayk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IER1Y2tEQkJpbmRpbmdzIH0gZnJvbSAnLi4vYmluZGluZ3MnO1xuaW1wb3J0IHsgV29ya2VyUmVzcG9uc2VWYXJpYW50LCBXb3JrZXJSZXF1ZXN0VmFyaWFudCwgV29ya2VyUmVxdWVzdFR5cGUsIFdvcmtlclJlc3BvbnNlVHlwZSB9IGZyb20gJy4vd29ya2VyX3JlcXVlc3QnO1xuaW1wb3J0IHsgTG9nZ2VyLCBMb2dFbnRyeVZhcmlhbnQgfSBmcm9tICcuLi9sb2cnO1xuaW1wb3J0IHsgSW5zdGFudGlhdGlvblByb2dyZXNzIH0gZnJvbSAnLi4vYmluZGluZ3MvcHJvZ3Jlc3MnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQXN5bmNEdWNrREJEaXNwYXRjaGVyIGltcGxlbWVudHMgTG9nZ2VyIHtcbiAgICAvKiogVGhlIGJpbmRpbmdzICovXG4gICAgcHJvdGVjdGVkIF9iaW5kaW5nczogRHVja0RCQmluZGluZ3MgfCBudWxsID0gbnVsbDtcbiAgICAvKiogVGhlIG5leHQgbWVzc2FnZSBpZCAqL1xuICAgIHByb3RlY3RlZCBfbmV4dE1lc3NhZ2VJZCA9IDA7XG5cbiAgICAvKiogSW5zdGFudGlhdGUgdGhlIHdhc20gbW9kdWxlICovXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGluc3RhbnRpYXRlKFxuICAgICAgICBtYWluTW9kdWxlOiBzdHJpbmcsXG4gICAgICAgIHB0aHJlYWRXb3JrZXI6IHN0cmluZyB8IG51bGwsXG4gICAgICAgIHByb2dyZXNzOiAocDogSW5zdGFudGlhdGlvblByb2dyZXNzKSA9PiB2b2lkLFxuICAgICk6IFByb21pc2U8RHVja0RCQmluZGluZ3M+O1xuICAgIC8qKiBQb3N0IGEgcmVzcG9uc2UgdG8gdGhlIG1haW4gdGhyZWFkICovXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHBvc3RNZXNzYWdlKHJlc3BvbnNlOiBXb3JrZXJSZXNwb25zZVZhcmlhbnQsIHRyYW5zZmVyOiBBcnJheUJ1ZmZlcltdKTogdm9pZDtcblxuICAgIC8qKiBTZW5kIGxvZyBlbnRyeSB0byB0aGUgbWFpbiB0aHJlYWQgKi9cbiAgICBwdWJsaWMgbG9nKGVudHJ5OiBMb2dFbnRyeVZhcmlhbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IDAsXG4gICAgICAgICAgICAgICAgdHlwZTogV29ya2VyUmVzcG9uc2VUeXBlLkxPRyxcbiAgICAgICAgICAgICAgICBkYXRhOiBlbnRyeSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKiogU2VuZCBwbGFpbiBPSyB3aXRob3V0IGZ1cnRoZXIgZGF0YSAqL1xuICAgIHByb3RlY3RlZCBzZW5kT0socmVxdWVzdDogV29ya2VyUmVxdWVzdFZhcmlhbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5PSyxcbiAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKiBGYWlsIHdpdGggYW4gZXJyb3IgKi9cbiAgICBwcm90ZWN0ZWQgZmFpbFdpdGgocmVxdWVzdDogV29ya2VyUmVxdWVzdFZhcmlhbnQsIGU6IEVycm9yKTogdm9pZCB7XG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIEZpcmVmb3ggbm90IGJlaW5nIGFibGUgdG8gcGVyZm9ybSBzdHJ1Y3R1cmVkLWNsb25lIG9uIE5hdGl2ZSBFcnJvcnNcbiAgICAgICAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU1NjYwNFxuICAgICAgICBjb25zdCBvYmo6IGFueSA9IHtcbiAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBlLnN0YWNrIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5FUlJPUixcbiAgICAgICAgICAgICAgICBkYXRhOiBvYmosXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW10sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiogUHJvY2VzcyBhIHJlcXVlc3QgZnJvbSB0aGUgbWFpbiB0aHJlYWQgKi9cbiAgICBwdWJsaWMgYXN5bmMgb25NZXNzYWdlKHJlcXVlc3Q6IFdvcmtlclJlcXVlc3RWYXJpYW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEZpcnN0IHByb2Nlc3MgdGhvc2UgcmVxdWVzdHMgdGhhdCBkb24ndCBuZWVkIGJpbmRpbmdzXG4gICAgICAgIHN3aXRjaCAocmVxdWVzdC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlBJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNUQU5USUFURTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYmluZGluZ3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhaWxXaXRoKHJlcXVlc3QsIG5ldyBFcnJvcignZHVja2RiIGFscmVhZHkgaW5pdGlhbGl6ZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzID0gYXdhaXQgdGhpcy5pbnN0YW50aWF0ZShyZXF1ZXN0LmRhdGFbMF0sIHJlcXVlc3QuZGF0YVsxXSwgcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLl9uZXh0TWVzc2FnZUlkKyssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdC5tZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5JTlNUQU5USUFURV9QUk9HUkVTUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE9LKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5ncyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFpbFdpdGgocmVxdWVzdCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCaW5kaW5ncyBub3QgaW5pdGlhbGl6ZWQ/XG4gICAgICAgIGlmICghdGhpcy5fYmluZGluZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxXaXRoKHJlcXVlc3QsIG5ldyBFcnJvcignZHVja2RiIGlzIG5vdCBpbml0aWFsaXplZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhdGNoIGV2ZXJ5IGV4Y2VwdGlvbiBhbmQgZm9yd2FyZCBpdCBhcyBlcnJvciBtZXNzYWdlIHRvIHRoZSBtYWluIHRocmVhZFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoIChyZXF1ZXN0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkdFVF9WRVJTSU9OOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogdGhpcy5fbmV4dE1lc3NhZ2VJZCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdC5tZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogV29ya2VyUmVzcG9uc2VUeXBlLlZFUlNJT05fU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuX2JpbmRpbmdzLmdldFZlcnNpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5HRVRfRkVBVFVSRV9GTEFHUzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5GRUFUVVJFX0ZMQUdTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuX2JpbmRpbmdzLmdldEZlYXR1cmVGbGFncygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlJFU0VUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5ncy5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRPSyhyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLk9QRU46XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzLm9wZW4ocmVxdWVzdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuRFJPUF9GSUxFOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5ncy5kcm9wRmlsZShyZXF1ZXN0LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRPSyhyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5EUk9QX0ZJTEVTOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5ncy5kcm9wRmlsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuRkxVU0hfRklMRVM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzLmZsdXNoRmlsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuQ09OTkVDVDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25uID0gdGhpcy5fYmluZGluZ3MuY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogdGhpcy5fbmV4dE1lc3NhZ2VJZCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdC5tZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogV29ya2VyUmVzcG9uc2VUeXBlLkNPTk5FQ1RJT05fSU5GTyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjb25uLnVzZVVuc2FmZSgoXywgYykgPT4gYyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzLmRpc2Nvbm5lY3QocmVxdWVzdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuQ1JFQVRFX1BSRVBBUkVEOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2JpbmRpbmdzLmNyZWF0ZVByZXBhcmVkKHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5QUkVQQVJFRF9TVEFURU1FTlRfSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5DTE9TRV9QUkVQQVJFRDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5ncy5jbG9zZVByZXBhcmVkKHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlJVTl9QUkVQQVJFRDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9iaW5kaW5ncy5ydW5QcmVwYXJlZChyZXF1ZXN0LmRhdGFbMF0sIHJlcXVlc3QuZGF0YVsxXSwgcmVxdWVzdC5kYXRhWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9SRVNVTFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQuYnVmZmVyXSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuUlVOX1FVRVJZOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2JpbmRpbmdzLnJ1blF1ZXJ5KHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9SRVNVTFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQuYnVmZmVyXSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuU0VORF9QUkVQQVJFRDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9iaW5kaW5ncy5zZW5kUHJlcGFyZWQocmVxdWVzdC5kYXRhWzBdLCByZXF1ZXN0LmRhdGFbMV0sIHJlcXVlc3QuZGF0YVsyXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLl9uZXh0TWVzc2FnZUlkKyssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiByZXF1ZXN0Lm1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBXb3JrZXJSZXNwb25zZVR5cGUuUVVFUllfUkVTVUxUX0hFQURFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdC5idWZmZXJdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5TVEFSVF9QRU5ESU5HX1FVRVJZOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2JpbmRpbmdzLnN0YXJ0UGVuZGluZ1F1ZXJ5KHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXIucHVzaChyZXN1bHQuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogdGhpcy5fbmV4dE1lc3NhZ2VJZCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdC5tZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogV29ya2VyUmVzcG9uc2VUeXBlLlFVRVJZX1JFU1VMVF9IRUFERVJfT1JfTlVMTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXIsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlBPTExfUEVORElOR19RVUVSWToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9iaW5kaW5ncy5wb2xsUGVuZGluZ1F1ZXJ5KHJlcXVlc3QuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVyID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyLnB1c2gocmVzdWx0LmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5RVUVSWV9SRVNVTFRfSEVBREVSX09SX05VTEwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5DQU5DRUxfUEVORElOR19RVUVSWToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9iaW5kaW5ncy5jYW5jZWxQZW5kaW5nUXVlcnkocmVxdWVzdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5TVUNDRVNTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuRkVUQ0hfUVVFUllfUkVTVUxUUzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9iaW5kaW5ncy5mZXRjaFF1ZXJ5UmVzdWx0cyhyZXF1ZXN0LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogdGhpcy5fbmV4dE1lc3NhZ2VJZCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdC5tZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogV29ya2VyUmVzcG9uc2VUeXBlLlFVRVJZX1JFU1VMVF9DSFVOSyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdC5idWZmZXJdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5HRVRfVEFCTEVfTkFNRVM6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fYmluZGluZ3MuZ2V0VGFibGVOYW1lcyhyZXF1ZXN0LmRhdGFbMF0sIHJlcXVlc3QuZGF0YVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLl9uZXh0TWVzc2FnZUlkKyssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiByZXF1ZXN0Lm1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBXb3JrZXJSZXNwb25zZVR5cGUuVEFCTEVfTkFNRVMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5HTE9CX0ZJTEVfSU5GT1M6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5mb3MgPSB0aGlzLl9iaW5kaW5ncy5nbG9iRmlsZXMocmVxdWVzdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5GSUxFX0lORk9TLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluZm9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLlJFR0lTVEVSX0ZJTEVfVVJMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5ncy5yZWdpc3RlckZpbGVVUkwocmVxdWVzdC5kYXRhWzBdLCByZXF1ZXN0LmRhdGFbMV0sIHJlcXVlc3QuZGF0YVsyXSwgcmVxdWVzdC5kYXRhWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5SRUdJU1RFUl9GSUxFX0JVRkZFUjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MucmVnaXN0ZXJGaWxlQnVmZmVyKHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5SRUdJU1RFUl9GSUxFX0hBTkRMRTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MucmVnaXN0ZXJGaWxlSGFuZGxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5kYXRhWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5kYXRhWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5kYXRhWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5kYXRhWzNdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRPSyhyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLkNPUFlfRklMRV9UT19QQVRIOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5ncy5jb3B5RmlsZVRvUGF0aChyZXF1ZXN0LmRhdGFbMF0sIHJlcXVlc3QuZGF0YVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE9LKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuQ09QWV9GSUxFX1RPX0JVRkZFUjoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9iaW5kaW5ncy5jb3B5RmlsZVRvQnVmZmVyKHJlcXVlc3QuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLl9uZXh0TWVzc2FnZUlkKyssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiByZXF1ZXN0Lm1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBXb3JrZXJSZXNwb25zZVR5cGUuRklMRV9CVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5DT0xMRUNUX0ZJTEVfU1RBVElTVElDUzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MuY29sbGVjdEZpbGVTdGF0aXN0aWNzKHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kT0socmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5FWFBPUlRfRklMRV9TVEFUSVNUSUNTOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLl9uZXh0TWVzc2FnZUlkKyssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiByZXF1ZXN0Lm1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBXb3JrZXJSZXNwb25zZVR5cGUuRklMRV9TVEFUSVNUSUNTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuX2JpbmRpbmdzLmV4cG9ydEZpbGVTdGF0aXN0aWNzKHJlcXVlc3QuZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFdvcmtlclJlcXVlc3RUeXBlLklOU0VSVF9BUlJPV19GUk9NX0lQQ19TVFJFQU06IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MuaW5zZXJ0QXJyb3dGcm9tSVBDU3RyZWFtKHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdLCByZXF1ZXN0LmRhdGFbMl0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRPSyhyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuSU5TRVJUX0NTVl9GUk9NX1BBVEg6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MuaW5zZXJ0Q1NWRnJvbVBhdGgocmVxdWVzdC5kYXRhWzBdLCByZXF1ZXN0LmRhdGFbMV0sIHJlcXVlc3QuZGF0YVsyXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE9LKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBXb3JrZXJSZXF1ZXN0VHlwZS5JTlNFUlRfSlNPTl9GUk9NX1BBVEg6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3MuaW5zZXJ0SlNPTkZyb21QYXRoKHJlcXVlc3QuZGF0YVswXSwgcmVxdWVzdC5kYXRhWzFdLCByZXF1ZXN0LmRhdGFbMl0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRPSyhyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgV29ya2VyUmVxdWVzdFR5cGUuVE9LRU5JWkU6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fYmluZGluZ3MudG9rZW5pemUocmVxdWVzdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuX25leHRNZXNzYWdlSWQrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QubWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFdvcmtlclJlc3BvbnNlVHlwZS5TQ1JJUFRfVE9LRU5TLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxXaXRoKHJlcXVlc3QsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBiaWdJbnQ9KCk9Pihhc3luYyBlPT57dHJ5e3JldHVybihhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShlKSkuaW5zdGFuY2UuZXhwb3J0cy5iKEJpZ0ludCgwKSk9PT1CaWdJbnQoMCl9Y2F0Y2goZSl7cmV0dXJuITF9fSkobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNiwxLDk2LDEsMTI2LDEsMTI2LDMsMiwxLDAsNyw1LDEsMSw5OCwwLDAsMTAsNiwxLDQsMCwzMiwwLDExXSkpLGJ1bGtNZW1vcnk9YXN5bmMoKT0+V2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDUsMywxLDAsMSwxMCwxNCwxLDEyLDAsNjUsMCw2NSwwLDY1LDAsMjUyLDEwLDAsMCwxMV0pKSxleGNlcHRpb25zPWFzeW5jKCk9PldlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCwxMCw4LDEsNiwwLDYsNjQsMjUsMTEsMTFdKSksZXh0ZW5kZWRDb25zdD1hc3luYygpPT5XZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsNSwzLDEsMCwxLDExLDksMSwwLDY1LDEsNjUsMiwxMDYsMTEsMF0pKSxnYz1hc3luYygpPT5XZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxMCwyLDk1LDEsMTI1LDAsOTYsMCwxLDEwNywwLDMsMiwxLDEsMTAsMTIsMSwxMCwwLDY3LDAsMCwwLDAsMjUxLDcsMCwxMV0pKSxtZW1vcnk2ND1hc3luYygpPT5XZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsNSwzLDEsNCwxXSkpLG11bHRpVmFsdWU9YXN5bmMoKT0+V2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNiwxLDk2LDAsMiwxMjcsMTI3LDMsMiwxLDAsMTAsOCwxLDYsMCw2NSwwLDY1LDAsMTFdKSksbXV0YWJsZUdsb2JhbHM9YXN5bmMoKT0+V2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDIsOCwxLDEsOTcsMSw5OCwzLDEyNywxLDYsNiwxLDEyNywxLDY1LDAsMTEsNyw1LDEsMSw5NywzLDFdKSkscmVmZXJlbmNlVHlwZXM9YXN5bmMoKT0+V2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDEwLDcsMSw1LDAsMjA4LDExMiwyNiwxMV0pKSxyZWxheGVkU2ltZD1hc3luYygpPT5XZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw1LDEsOTYsMCwxLDEyMywzLDIsMSwwLDEwLDE1LDEsMTMsMCw2NSwxLDI1MywxNSw2NSwyLDI1MywxNSwyNTMsMTI4LDIsMTFdKSksc2F0dXJhdGVkRmxvYXRUb0ludD1hc3luYygpPT5XZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw0LDEsOTYsMCwwLDMsMiwxLDAsMTAsMTIsMSwxMCwwLDY3LDAsMCwwLDAsMjUyLDAsMjYsMTFdKSksc2lnbkV4dGVuc2lvbnM9YXN5bmMoKT0+V2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDEwLDgsMSw2LDAsNjUsMCwxOTIsMjYsMTFdKSksc2ltZD1hc3luYygpPT5XZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw1LDEsOTYsMCwxLDEyMywzLDIsMSwwLDEwLDEwLDEsOCwwLDY1LDAsMjUzLDE1LDI1Myw5OCwxMV0pKSxzdHJlYW1pbmdDb21waWxhdGlvbj0oKT0+KGFzeW5jKCk9PlwiY29tcGlsZVN0cmVhbWluZ1wiaW4gV2ViQXNzZW1ibHkpKCksdGFpbENhbGw9YXN5bmMoKT0+V2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDEwLDYsMSw0LDAsMTgsMCwxMV0pKSx0aHJlYWRzPSgpPT4oYXN5bmMgZT0+e3RyeXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWwmJihuZXcgTWVzc2FnZUNoYW5uZWwpLnBvcnQxLnBvc3RNZXNzYWdlKG5ldyBTaGFyZWRBcnJheUJ1ZmZlcigxKSksV2ViQXNzZW1ibHkudmFsaWRhdGUoZSl9Y2F0Y2goZSl7cmV0dXJuITF9fSkobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDUsNCwxLDMsMSwxLDEwLDExLDEsOSwwLDY1LDAsMjU0LDE2LDIsMCwyNiwxMV0pKTtcbiIsICJpbXBvcnQgY29uZmlnIGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5cbmV4cG9ydCBjb25zdCBQQUNLQUdFX05BTUUgPSBjb25maWcubmFtZTtcbmV4cG9ydCBjb25zdCBQQUNLQUdFX1ZFUlNJT04gPSBjb25maWcudmVyc2lvbjtcblxuY29uc3QgVkVSU0lPTl9QQVJUUyA9IGNvbmZpZy52ZXJzaW9uLnNwbGl0KCcuJyk7XG5leHBvcnQgY29uc3QgUEFDS0FHRV9WRVJTSU9OX01BSk9SID0gVkVSU0lPTl9QQVJUU1swXTtcbmV4cG9ydCBjb25zdCBQQUNLQUdFX1ZFUlNJT05fTUlOT1IgPSBWRVJTSU9OX1BBUlRTWzFdO1xuZXhwb3J0IGNvbnN0IFBBQ0tBR0VfVkVSU0lPTl9QQVRDSCA9IFZFUlNJT05fUEFSVFNbMl07XG4iLCAiaW1wb3J0ICogYXMgY2hlY2sgZnJvbSAnd2FzbS1mZWF0dXJlLWRldGVjdCc7XG5pbXBvcnQgeyBQQUNLQUdFX05BTUUsIFBBQ0tBR0VfVkVSU0lPTiB9IGZyb20gJy4vdmVyc2lvbic7XG5cbi8vIFBsYXRmb3JtIGNoZWNrIHRha2VuIGZyb20gaGVyZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS94dGVybWpzL3h0ZXJtLmpzL2Jsb2IvbWFzdGVyL3NyYy9jb21tb24vUGxhdGZvcm0udHMjTDIxXG5cbmludGVyZmFjZSBJTmF2aWdhdG9yIHtcbiAgICB1c2VyQWdlbnQ6IHN0cmluZztcbiAgICBsYW5ndWFnZTogc3RyaW5nO1xuICAgIHBsYXRmb3JtOiBzdHJpbmc7XG59XG5cbi8vIFdlJ3JlIGRlY2xhcmluZyBhIG5hdmlnYXRvciBnbG9iYWwgaGVyZSBhcyB3ZSBleHBlY3QgaXQgaW4gYWxsIHJ1bnRpbWVzIChub2RlIGFuZCBicm93c2VyKSwgYnV0XG4vLyB3ZSB3YW50IHRoaXMgbW9kdWxlIHRvIGxpdmUgaW4gY29tbW9uLlxuZGVjbGFyZSBjb25zdCBuYXZpZ2F0b3I6IElOYXZpZ2F0b3I7XG5cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogZmFsc2UpO1xuY29uc3QgdXNlckFnZW50ID0gKCkgPT4gKGlzTm9kZSgpID8gJ25vZGUnIDogbmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5leHBvcnQgY29uc3QgaXNGaXJlZm94ID0gKCkgPT4gdXNlckFnZW50KCkuaW5jbHVkZXMoJ0ZpcmVmb3gnKTtcbmV4cG9ydCBjb25zdCBpc1NhZmFyaSA9ICgpID0+IC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QodXNlckFnZW50KCkpO1xuXG5leHBvcnQgaW50ZXJmYWNlIER1Y2tEQkJ1bmRsZXMge1xuICAgIG12cDoge1xuICAgICAgICBtYWluTW9kdWxlOiBzdHJpbmc7XG4gICAgICAgIG1haW5Xb3JrZXI6IHN0cmluZztcbiAgICB9O1xuICAgIGVoPzoge1xuICAgICAgICBtYWluTW9kdWxlOiBzdHJpbmc7XG4gICAgICAgIG1haW5Xb3JrZXI6IHN0cmluZztcbiAgICB9O1xuICAgIGNvaT86IHtcbiAgICAgICAgbWFpbk1vZHVsZTogc3RyaW5nO1xuICAgICAgICBtYWluV29ya2VyOiBzdHJpbmc7XG4gICAgICAgIHB0aHJlYWRXb3JrZXI6IHN0cmluZztcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SnNEZWxpdnJCdW5kbGVzKCk6IER1Y2tEQkJ1bmRsZXMge1xuICAgIGNvbnN0IGpzZGVsaXZyX2Rpc3RfdXJsID0gYGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vJHtQQUNLQUdFX05BTUV9QCR7UEFDS0FHRV9WRVJTSU9OfS9kaXN0L2A7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbXZwOiB7XG4gICAgICAgICAgICBtYWluTW9kdWxlOiBgJHtqc2RlbGl2cl9kaXN0X3VybH1kdWNrZGItbXZwLndhc21gLFxuICAgICAgICAgICAgbWFpbldvcmtlcjogYCR7anNkZWxpdnJfZGlzdF91cmx9ZHVja2RiLWJyb3dzZXItbXZwLndvcmtlci5qc2AsXG4gICAgICAgIH0sXG4gICAgICAgIGVoOiB7XG4gICAgICAgICAgICBtYWluTW9kdWxlOiBgJHtqc2RlbGl2cl9kaXN0X3VybH1kdWNrZGItZWgud2FzbWAsXG4gICAgICAgICAgICBtYWluV29ya2VyOiBgJHtqc2RlbGl2cl9kaXN0X3VybH1kdWNrZGItYnJvd3Nlci1laC53b3JrZXIuanNgLFxuICAgICAgICB9LFxuICAgICAgICAvLyBDT0kgaXMgc3RpbGwgZXhwZXJpbWVudGFsLCBsZXQgdGhlIHVzZXIgb3B0IGluIGV4cGxpY2l0bHlcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIER1Y2tEQkJ1bmRsZSB7XG4gICAgbWFpbk1vZHVsZTogc3RyaW5nO1xuICAgIG1haW5Xb3JrZXI6IHN0cmluZyB8IG51bGw7XG4gICAgcHRocmVhZFdvcmtlcjogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbGF0Zm9ybUZlYXR1cmVzIHtcbiAgICBiaWdJbnQ2NEFycmF5OiBib29sZWFuO1xuICAgIGNyb3NzT3JpZ2luSXNvbGF0ZWQ6IGJvb2xlYW47XG4gICAgd2FzbUV4Y2VwdGlvbnM6IGJvb2xlYW47XG4gICAgd2FzbVNJTUQ6IGJvb2xlYW47XG4gICAgd2FzbUJ1bGtNZW1vcnk6IGJvb2xlYW47XG4gICAgd2FzbVRocmVhZHM6IGJvb2xlYW47XG59XG5cbmxldCBiaWdJbnQ2NEFycmF5OiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG5sZXQgd2FzbUV4Y2VwdGlvbnM6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcbmxldCB3YXNtVGhyZWFkczogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xubGV0IHdhc21TSU1EOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG5sZXQgd2FzbUJ1bGtNZW1vcnk6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmRlY2xhcmUgbmFtZXNwYWNlIGdsb2JhbFRoaXMge1xuICAgIGxldCBjcm9zc09yaWdpbklzb2xhdGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGxhdGZvcm1GZWF0dXJlcygpOiBQcm9taXNlPFBsYXRmb3JtRmVhdHVyZXM+IHtcbiAgICBpZiAoYmlnSW50NjRBcnJheSA9PSBudWxsKSB7XG4gICAgICAgIGJpZ0ludDY0QXJyYXkgPSB0eXBlb2YgQmlnSW50NjRBcnJheSAhPSAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgaWYgKHdhc21FeGNlcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgd2FzbUV4Y2VwdGlvbnMgPSBhd2FpdCBjaGVjay5leGNlcHRpb25zKCk7XG4gICAgfVxuICAgIGlmICh3YXNtVGhyZWFkcyA9PSBudWxsKSB7XG4gICAgICAgIHdhc21UaHJlYWRzID0gYXdhaXQgY2hlY2sudGhyZWFkcygpO1xuICAgIH1cbiAgICBpZiAod2FzbVNJTUQgPT0gbnVsbCkge1xuICAgICAgICB3YXNtU0lNRCA9IGF3YWl0IGNoZWNrLnNpbWQoKTtcbiAgICB9XG4gICAgaWYgKHdhc21CdWxrTWVtb3J5ID09IG51bGwpIHtcbiAgICAgICAgd2FzbUJ1bGtNZW1vcnkgPSBhd2FpdCBjaGVjay5idWxrTWVtb3J5KCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGJpZ0ludDY0QXJyYXk6IGJpZ0ludDY0QXJyYXkhLFxuICAgICAgICBjcm9zc09yaWdpbklzb2xhdGVkOiBpc05vZGUoKSB8fCBnbG9iYWxUaGlzLmNyb3NzT3JpZ2luSXNvbGF0ZWQgfHwgZmFsc2UsXG4gICAgICAgIHdhc21FeGNlcHRpb25zOiB3YXNtRXhjZXB0aW9ucyEsXG4gICAgICAgIHdhc21TSU1EOiB3YXNtU0lNRCEsXG4gICAgICAgIHdhc21UaHJlYWRzOiB3YXNtVGhyZWFkcyEsXG4gICAgICAgIHdhc21CdWxrTWVtb3J5OiB3YXNtQnVsa01lbW9yeSEsXG4gICAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdEJ1bmRsZShidW5kbGVzOiBEdWNrREJCdW5kbGVzKTogUHJvbWlzZTxEdWNrREJCdW5kbGU+IHtcbiAgICBjb25zdCBwbGF0Zm9ybSA9IGF3YWl0IGdldFBsYXRmb3JtRmVhdHVyZXMoKTtcbiAgICBpZiAocGxhdGZvcm0ud2FzbUV4Y2VwdGlvbnMpIHtcbiAgICAgICAgaWYgKHBsYXRmb3JtLndhc21TSU1EICYmIHBsYXRmb3JtLndhc21UaHJlYWRzICYmIHBsYXRmb3JtLmNyb3NzT3JpZ2luSXNvbGF0ZWQgJiYgYnVuZGxlcy5jb2kpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWFpbk1vZHVsZTogYnVuZGxlcy5jb2kubWFpbk1vZHVsZSxcbiAgICAgICAgICAgICAgICBtYWluV29ya2VyOiBidW5kbGVzLmNvaS5tYWluV29ya2VyLFxuICAgICAgICAgICAgICAgIHB0aHJlYWRXb3JrZXI6IGJ1bmRsZXMuY29pLnB0aHJlYWRXb3JrZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChidW5kbGVzLmVoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1haW5Nb2R1bGU6IGJ1bmRsZXMuZWgubWFpbk1vZHVsZSxcbiAgICAgICAgICAgICAgICBtYWluV29ya2VyOiBidW5kbGVzLmVoLm1haW5Xb3JrZXIsXG4gICAgICAgICAgICAgICAgcHRocmVhZFdvcmtlcjogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWFpbk1vZHVsZTogYnVuZGxlcy5tdnAubWFpbk1vZHVsZSxcbiAgICAgICAgbWFpbldvcmtlcjogYnVuZGxlcy5tdnAubWFpbldvcmtlcixcbiAgICAgICAgcHRocmVhZFdvcmtlcjogbnVsbCxcbiAgICB9O1xufVxuIiwgImltcG9ydCBXb3JrZXIgZnJvbSAnd2ViLXdvcmtlcic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVXb3JrZXIodXJsOiBzdHJpbmcpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsKTtcbiAgICBjb25zdCB3b3JrZXJTY3JpcHQgPSBhd2FpdCBmZXRjaChyZXF1ZXN0KTtcbiAgICBjb25zdCB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGF3YWl0IHdvcmtlclNjcmlwdC5ibG9iKCkpO1xuICAgIHJldHVybiBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG59XG4iLCAiaW1wb3J0IHsgRHVja0RCTW9kdWxlIH0gZnJvbSAnLi9kdWNrZGJfbW9kdWxlJztcbmltcG9ydCB7IFVERkZ1bmN0aW9uIH0gZnJvbSAnLi91ZGZfZnVuY3Rpb24nO1xuaW1wb3J0ICogYXMgdWRmX3J0IGZyb20gJy4vdWRmX3J1bnRpbWUnO1xuXG4vKiogV3JhcHBlciBmb3IgVGV4dERlY29kZXIgdG8gc3VwcG9ydCBzaGFyZWQgYXJyYXkgYnVmZmVycyAqL1xuZnVuY3Rpb24gVGV4dERlY29kZXJXcmFwcGVyKCk6IChpbnB1dD86IEJ1ZmZlclNvdXJjZSkgPT4gc3RyaW5nIHtcbiAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgcmV0dXJuIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YS5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNvZGVyLmRlY29kZShkYXRhKTtcbiAgICB9O1xufVxuLyoqIEhlbHBlciB0byBkZWNvZGUgdGV4dCAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVRleHQgPSBUZXh0RGVjb2RlcldyYXBwZXIoKTtcblxuLyoqIENvcHkgYSBidWZmZXIgKi9cbmV4cG9ydCBmdW5jdGlvbiBmYWlsV2l0aChtb2Q6IER1Y2tEQk1vZHVsZSwgbXNnOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zb2xlLmVycm9yKGBGQUlMIFdJVEg6ICR7bXNnfWApO1xuICAgIG1vZC5jY2FsbCgnZHVja2RiX3dlYl9mYWlsX3dpdGgnLCBudWxsLCBbJ3N0cmluZyddLCBbbXNnXSk7XG59XG5cbi8qKiBDb3B5IGEgYnVmZmVyICovXG5leHBvcnQgZnVuY3Rpb24gY29weUJ1ZmZlcihtb2Q6IER1Y2tEQk1vZHVsZSwgYmVnaW46IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpOiBVaW50OEFycmF5IHtcbiAgICBjb25zdCBidWZmZXIgPSBtb2QuSEVBUFU4LnN1YmFycmF5KGJlZ2luLCBiZWdpbiArIGxlbmd0aCk7XG4gICAgY29uc3QgY29weSA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihidWZmZXIuYnl0ZUxlbmd0aCkpO1xuICAgIGNvcHkuc2V0KGJ1ZmZlcik7XG4gICAgcmV0dXJuIGNvcHk7XG59XG5cbi8qKiBEZWNvZGUgYSBzdHJpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkU3RyaW5nKG1vZDogRHVja0RCTW9kdWxlLCBiZWdpbjogbnVtYmVyLCBsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIGRlY29kZVRleHQobW9kLkhFQVBVOC5zdWJhcnJheShiZWdpbiwgYmVnaW4gKyBsZW5ndGgpKTtcbn1cblxuLyoqIFRoZSBkYXRhIHByb3RvY29sICovXG5leHBvcnQgZW51bSBEdWNrREJEYXRhUHJvdG9jb2wge1xuICAgIEJVRkZFUiA9IDAsXG4gICAgTk9ERV9GUyA9IDEsXG4gICAgQlJPV1NFUl9GSUxFUkVBREVSID0gMixcbiAgICBCUk9XU0VSX0ZTQUNDRVNTID0gMyxcbiAgICBIVFRQID0gNCxcbiAgICBTMyA9IDUsXG59XG5cbi8qKiBGaWxlIGZsYWdzIGZvciBvcGVuaW5nIGZpbGVzKi9cbmV4cG9ydCBlbnVtIEZpbGVGbGFncyB7XG4gICAgLy8hIE9wZW4gZmlsZSB3aXRoIHJlYWQgYWNjZXNzXG4gICAgRklMRV9GTEFHU19SRUFEID0gMSA8PCAwLFxuICAgIC8vISBPcGVuIGZpbGUgd2l0aCB3cml0ZSBhY2Nlc3NcbiAgICBGSUxFX0ZMQUdTX1dSSVRFID0gMSA8PCAxLFxuICAgIC8vISBVc2UgZGlyZWN0IElPIHdoZW4gcmVhZGluZy93cml0aW5nIHRvIHRoZSBmaWxlXG4gICAgRklMRV9GTEFHU19ESVJFQ1RfSU8gPSAxIDw8IDIsXG4gICAgLy8hIENyZWF0ZSBmaWxlIGlmIG5vdCBleGlzdHMsIGNhbiBvbmx5IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBXUklURVxuICAgIEZJTEVfRkxBR1NfRklMRV9DUkVBVEUgPSAxIDw8IDMsXG4gICAgLy8hIEFsd2F5cyBjcmVhdGUgYSBuZXcgZmlsZS4gSWYgYSBmaWxlIGV4aXN0cywgdGhlIGZpbGUgaXMgdHJ1bmNhdGVkLiBDYW5ub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIENSRUFURS5cbiAgICBGSUxFX0ZMQUdTX0ZJTEVfQ1JFQVRFX05FVyA9IDEgPDwgNCxcbiAgICAvLyEgT3BlbiBmaWxlIGluIGFwcGVuZCBtb2RlXG4gICAgRklMRV9GTEFHU19BUFBFTkQgPSAxIDw8IDUsXG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgQVdTIFMzIEZpbGVzeXN0ZW0gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUzNDb25maWcge1xuICAgIHJlZ2lvbj86IHN0cmluZztcbiAgICBlbmRwb2ludD86IHN0cmluZztcbiAgICBhY2Nlc3NLZXlJZD86IHN0cmluZztcbiAgICBzZWNyZXRBY2Nlc3NLZXk/OiBzdHJpbmc7XG4gICAgc2Vzc2lvblRva2VuPzogc3RyaW5nO1xufVxuXG4vKiogQW4gaW5mbyBmb3IgYSBmaWxlIHJlZ2lzdGVyZWQgd2l0aCBEdWNrREIgKi9cbmV4cG9ydCBpbnRlcmZhY2UgRHVja0RCRmlsZUluZm8ge1xuICAgIGNhY2hlRXBvY2g6IG51bWJlcjtcbiAgICBmaWxlSWQ6IG51bWJlcjtcbiAgICBmaWxlTmFtZTogc3RyaW5nO1xuICAgIGRhdGFQcm90b2NvbDogRHVja0RCRGF0YVByb3RvY29sO1xuICAgIGRhdGFVcmw6IHN0cmluZyB8IG51bGw7XG4gICAgYWxsb3dGdWxsSHR0cFJlYWRzPzogYm9vbGVhbjtcbiAgICBzM0NvbmZpZz86IFMzQ29uZmlnO1xufVxuXG4vKiogR2xvYmFsIGluZm8gZm9yIGFsbCBmaWxlcyByZWdpc3RlcmVkIHdpdGggRHVja0RCICovXG5leHBvcnQgaW50ZXJmYWNlIER1Y2tEQkdsb2JhbEZpbGVJbmZvIHtcbiAgICBjYWNoZUVwb2NoOiBudW1iZXI7XG4gICAgYWxsb3dGdWxsSHR0cFJlYWRzPzogYm9vbGVhbjtcbiAgICBzM0NvbmZpZz86IFMzQ29uZmlnO1xufVxuXG4vKiogQ2FsbCBhIGZ1bmN0aW9uIHdpdGggcGFja2VkIHJlc3BvbnNlIGJ1ZmZlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGxTUmV0KFxuICAgIG1vZDogRHVja0RCTW9kdWxlLFxuICAgIGZ1bmNOYW1lOiBzdHJpbmcsXG4gICAgYXJnVHlwZXM6IEFycmF5PEVtc2NyaXB0ZW4uSlNUeXBlPixcbiAgICBhcmdzOiBBcnJheTxhbnk+LFxuKTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdIHtcbiAgICBjb25zdCBzdGFja1BvaW50ZXIgPSBtb2Quc3RhY2tTYXZlKCk7XG5cbiAgICAvLyBBbGxvY2F0ZSB0aGUgcGFja2VkIHJlc3BvbnNlIGJ1ZmZlclxuICAgIGNvbnN0IHJlc3BvbnNlID0gbW9kLnN0YWNrQWxsb2MoMyAqIDgpO1xuICAgIGFyZ1R5cGVzLnVuc2hpZnQoJ251bWJlcicpO1xuICAgIGFyZ3MudW5zaGlmdChyZXNwb25zZSk7XG5cbiAgICAvLyBEbyB0aGUgY2FsbFxuICAgIG1vZC5jY2FsbChmdW5jTmFtZSwgbnVsbCwgYXJnVHlwZXMsIGFyZ3MpO1xuXG4gICAgLy8gUmVhZCB0aGUgcmVzcG9uc2VcbiAgICBjb25zdCBzdGF0dXMgPSBtb2QuSEVBUEY2NFsocmVzcG9uc2UgPj4gMykgKyAwXTtcbiAgICBjb25zdCBkYXRhID0gbW9kLkhFQVBGNjRbKHJlc3BvbnNlID4+IDMpICsgMV07XG4gICAgY29uc3QgZGF0YVNpemUgPSBtb2QuSEVBUEY2NFsocmVzcG9uc2UgPj4gMykgKyAyXTtcblxuICAgIC8vIFJlc3RvcmUgdGhlIHN0YWNrXG4gICAgbW9kLnN0YWNrUmVzdG9yZShzdGFja1BvaW50ZXIpO1xuICAgIHJldHVybiBbc3RhdHVzLCBkYXRhLCBkYXRhU2l6ZV07XG59XG5cbi8qKiBEcm9wIHJlc3BvbnNlIGJ1ZmZlcnMgKi9cbmV4cG9ydCBmdW5jdGlvbiBkcm9wUmVzcG9uc2VCdWZmZXJzKG1vZDogRHVja0RCTW9kdWxlKTogdm9pZCB7XG4gICAgbW9kLmNjYWxsKCdkdWNrZGJfd2ViX2NsZWFyX3Jlc3BvbnNlJywgbnVsbCwgW10sIFtdKTtcbn1cblxuLyoqIFRoZSBkdWNrZGIgcnVudGltZSAqL1xuZXhwb3J0IGludGVyZmFjZSBEdWNrREJSdW50aW1lIHtcbiAgICBfZmlsZXM/OiBNYXA8c3RyaW5nLCBhbnk+O1xuICAgIF91ZGZGdW5jdGlvbnM6IE1hcDxudW1iZXIsIFVERkZ1bmN0aW9uPjtcblxuICAgIC8vIFRlc3QgYSBwbGF0Zm9ybSBmZWF0dXJlXG4gICAgdGVzdFBsYXRmb3JtRmVhdHVyZShtb2Q6IER1Y2tEQk1vZHVsZSwgZmVhdHVyZTogbnVtYmVyKTogYm9vbGVhbjtcblxuICAgIC8vIEZpbGUgQVBJcyB3aXRoIGRlZGljYXRlZCBmaWxlIGlkZW50aWZpZXJcbiAgICBnZXREZWZhdWx0RGF0YVByb3RvY29sKG1vZDogRHVja0RCTW9kdWxlKTogbnVtYmVyO1xuICAgIG9wZW5GaWxlKG1vZDogRHVja0RCTW9kdWxlLCBmaWxlSWQ6IG51bWJlciwgZmxhZ3M6IEZpbGVGbGFncyk6IHZvaWQ7XG4gICAgc3luY0ZpbGUobW9kOiBEdWNrREJNb2R1bGUsIGZpbGVJZDogbnVtYmVyKTogdm9pZDtcbiAgICBjbG9zZUZpbGUobW9kOiBEdWNrREJNb2R1bGUsIGZpbGVJZDogbnVtYmVyKTogdm9pZDtcbiAgICBnZXRMYXN0RmlsZU1vZGlmaWNhdGlvblRpbWUobW9kOiBEdWNrREJNb2R1bGUsIGZpbGVJZDogbnVtYmVyKTogbnVtYmVyO1xuICAgIHRydW5jYXRlRmlsZShtb2Q6IER1Y2tEQk1vZHVsZSwgZmlsZUlkOiBudW1iZXIsIG5ld1NpemU6IG51bWJlcik6IHZvaWQ7XG4gICAgcmVhZEZpbGUobW9kOiBEdWNrREJNb2R1bGUsIGZpbGVJZDogbnVtYmVyLCBidWZmZXI6IG51bWJlciwgYnl0ZXM6IG51bWJlciwgbG9jYXRpb246IG51bWJlcik6IG51bWJlcjtcbiAgICB3cml0ZUZpbGUobW9kOiBEdWNrREJNb2R1bGUsIGZpbGVJZDogbnVtYmVyLCBidWZmZXI6IG51bWJlciwgYnl0ZXM6IG51bWJlciwgbG9jYXRpb246IG51bWJlcik6IG51bWJlcjtcblxuICAgIC8vIEZpbGUgQVBJcyB3aXRoIHBhdGggcGFyYW1ldGVyXG4gICAgcmVtb3ZlRGlyZWN0b3J5KG1vZDogRHVja0RCTW9kdWxlLCBwYXRoUHRyOiBudW1iZXIsIHBhdGhMZW46IG51bWJlcik6IHZvaWQ7XG4gICAgY2hlY2tEaXJlY3RvcnkobW9kOiBEdWNrREJNb2R1bGUsIHBhdGhQdHI6IG51bWJlciwgcGF0aExlbjogbnVtYmVyKTogYm9vbGVhbjtcbiAgICBjcmVhdGVEaXJlY3RvcnkobW9kOiBEdWNrREJNb2R1bGUsIHBhdGhQdHI6IG51bWJlciwgcGF0aExlbjogbnVtYmVyKTogdm9pZDtcbiAgICBsaXN0RGlyZWN0b3J5RW50cmllcyhtb2Q6IER1Y2tEQk1vZHVsZSwgcGF0aFB0cjogbnVtYmVyLCBwYXRoTGVuOiBudW1iZXIpOiBib29sZWFuO1xuICAgIGdsb2IobW9kOiBEdWNrREJNb2R1bGUsIHBhdGhQdHI6IG51bWJlciwgcGF0aExlbjogbnVtYmVyKTogdm9pZDtcbiAgICBtb3ZlRmlsZShtb2Q6IER1Y2tEQk1vZHVsZSwgZnJvbVB0cjogbnVtYmVyLCBmcm9tTGVuOiBudW1iZXIsIHRvUHRyOiBudW1iZXIsIHRvTGVuOiBudW1iZXIpOiB2b2lkO1xuICAgIGNoZWNrRmlsZShtb2Q6IER1Y2tEQk1vZHVsZSwgcGF0aFB0cjogbnVtYmVyLCBwYXRoTGVuOiBudW1iZXIpOiBib29sZWFuO1xuICAgIHJlbW92ZUZpbGUobW9kOiBEdWNrREJNb2R1bGUsIHBhdGhQdHI6IG51bWJlciwgcGF0aExlbjogbnVtYmVyKTogdm9pZDtcblxuICAgIC8vIENhbGwgYSBzY2FsYXIgVURGIGZ1bmN0aW9uXG4gICAgY2FsbFNjYWxhclVERihcbiAgICAgICAgbW9kOiBEdWNrREJNb2R1bGUsXG4gICAgICAgIHJlc3BvbnNlOiBudW1iZXIsXG4gICAgICAgIGZ1bmNJZDogbnVtYmVyLFxuICAgICAgICBkZXNjUHRyOiBudW1iZXIsXG4gICAgICAgIGRlc2NTaXplOiBudW1iZXIsXG4gICAgICAgIHB0cnNQdHI6IG51bWJlcixcbiAgICAgICAgcHRyc1NpemU6IG51bWJlcixcbiAgICApOiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9SVU5USU1FOiBEdWNrREJSdW50aW1lID0ge1xuICAgIF91ZGZGdW5jdGlvbnM6IG5ldyBNYXAoKSxcblxuICAgIHRlc3RQbGF0Zm9ybUZlYXR1cmU6IChfbW9kOiBEdWNrREJNb2R1bGUsIF9mZWF0dXJlOiBudW1iZXIpOiBib29sZWFuID0+IGZhbHNlLFxuICAgIGdldERlZmF1bHREYXRhUHJvdG9jb2w6IChfbW9kOiBEdWNrREJNb2R1bGUpOiBudW1iZXIgPT4gRHVja0RCRGF0YVByb3RvY29sLkJVRkZFUixcbiAgICBvcGVuRmlsZTogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX2ZpbGVJZDogbnVtYmVyLCBmbGFnczogRmlsZUZsYWdzKTogdm9pZCA9PiB7fSxcbiAgICBzeW5jRmlsZTogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX2ZpbGVJZDogbnVtYmVyKTogdm9pZCA9PiB7fSxcbiAgICBjbG9zZUZpbGU6IChfbW9kOiBEdWNrREJNb2R1bGUsIF9maWxlSWQ6IG51bWJlcik6IHZvaWQgPT4ge30sXG4gICAgZ2V0TGFzdEZpbGVNb2RpZmljYXRpb25UaW1lOiAoX21vZDogRHVja0RCTW9kdWxlLCBfZmlsZUlkOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIHRydW5jYXRlRmlsZTogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX2ZpbGVJZDogbnVtYmVyLCBfbmV3U2l6ZTogbnVtYmVyKTogdm9pZCA9PiB7fSxcbiAgICByZWFkRmlsZTogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX2ZpbGVJZDogbnVtYmVyLCBfYnVmZmVyOiBudW1iZXIsIF9ieXRlczogbnVtYmVyLCBfbG9jYXRpb246IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAgd3JpdGVGaWxlOiAoX21vZDogRHVja0RCTW9kdWxlLCBfZmlsZUlkOiBudW1iZXIsIF9idWZmZXI6IG51bWJlciwgX2J5dGVzOiBudW1iZXIsIF9sb2NhdGlvbjogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcblxuICAgIHJlbW92ZURpcmVjdG9yeTogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX3BhdGhQdHI6IG51bWJlciwgX3BhdGhMZW46IG51bWJlcik6IHZvaWQgPT4ge30sXG4gICAgY2hlY2tEaXJlY3Rvcnk6IChfbW9kOiBEdWNrREJNb2R1bGUsIF9wYXRoUHRyOiBudW1iZXIsIF9wYXRoTGVuOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgY3JlYXRlRGlyZWN0b3J5OiAoX21vZDogRHVja0RCTW9kdWxlLCBfcGF0aFB0cjogbnVtYmVyLCBfcGF0aExlbjogbnVtYmVyKTogdm9pZCA9PiB7fSxcbiAgICBsaXN0RGlyZWN0b3J5RW50cmllczogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX3BhdGhQdHI6IG51bWJlciwgX3BhdGhMZW46IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBnbG9iOiAoX21vZDogRHVja0RCTW9kdWxlLCBfcGF0aFB0cjogbnVtYmVyLCBfcGF0aExlbjogbnVtYmVyKTogdm9pZCA9PiB7fSxcbiAgICBtb3ZlRmlsZTogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX2Zyb21QdHI6IG51bWJlciwgX2Zyb21MZW46IG51bWJlciwgX3RvUHRyOiBudW1iZXIsIF90b0xlbjogbnVtYmVyKTogdm9pZCA9PiB7fSxcbiAgICBjaGVja0ZpbGU6IChfbW9kOiBEdWNrREJNb2R1bGUsIF9wYXRoUHRyOiBudW1iZXIsIF9wYXRoTGVuOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgcmVtb3ZlRmlsZTogKF9tb2Q6IER1Y2tEQk1vZHVsZSwgX3BhdGhQdHI6IG51bWJlciwgX3BhdGhMZW46IG51bWJlcik6IHZvaWQgPT4ge30sXG4gICAgY2FsbFNjYWxhclVERjogKFxuICAgICAgICBtb2Q6IER1Y2tEQk1vZHVsZSxcbiAgICAgICAgcmVzcG9uc2U6IG51bWJlcixcbiAgICAgICAgZnVuY0lkOiBudW1iZXIsXG4gICAgICAgIGRlc2NQdHI6IG51bWJlcixcbiAgICAgICAgZGVzY1NpemU6IG51bWJlcixcbiAgICAgICAgcHRyc1B0cjogbnVtYmVyLFxuICAgICAgICBwdHJzU2l6ZTogbnVtYmVyLFxuICAgICk6IHZvaWQgPT4ge1xuICAgICAgICB1ZGZfcnQuY2FsbFNjYWxhclVERihERUZBVUxUX1JVTlRJTUUsIG1vZCwgcmVzcG9uc2UsIGZ1bmNJZCwgZGVzY1B0ciwgZGVzY1NpemUsIHB0cnNQdHIsIHB0cnNTaXplKTtcbiAgICB9LFxufTtcbiJdLAogICJtYXBwaW5ncyI6ICJpb0JBQUEsSUFBQUEsR0FBQUMsR0FBQSxDQUFBQyxHQUFBQyxLQUFBLENBZUEsSUFBTUMsRUFBTSxRQUFRLE9BRWRDLEdBQUssUUFBUSxNQUViQyxFQUFVLFFBQVEsa0JBRWxCQyxFQUFTLE9BQU8sSUFBSSxRQUFRLEVBQzVCQyxFQUFTLE9BQU8sSUFBSSxRQUFRLEVBRTVCQyxFQUFOLEtBQWtCLENBQ2hCLGFBQWMsQ0FDWixPQUFPLGVBQWUsS0FBTUQsRUFBUSxDQUNsQyxNQUFPLElBQUks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QyxDQUVPLElBQU1DLEdBQWFILEdBQW1CLEVBc0J0QyxJQUFLSSxPQUNSQSxJQUFBLE9BQVMsR0FBVCxTQUNBQSxJQUFBLFFBQVUsR0FBVixVQUNBQSxJQUFBLG1CQUFxQixHQUFyQixxQkFDQUEsSUFBQSxpQkFBbUIsR0FBbkIsbUJBQ0FBLElBQUEsS0FBTyxHQUFQLE9BQ0FBLElBQUEsR0FBSyxHQUFMLEtBTlFBLE9BQUEiLAogICJuYW1lcyI6IFsicmVxdWlyZV9ub2RlIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiVVJMIiwgIlZNIiwgInRocmVhZHMiLCAiV09SS0VSIiwgIkVWRU5UUyIsICJFdmVudFRhcmdldCIsICJldmVudCIsICJlcnIiLCAibGlzdCIsICJoYW5kbGVyIiwgInR5cGUiLCAiZm4iLCAiZXZlbnRzIiwgImluZGV4IiwgIkV2ZW50IiwgInRhcmdldCIsICJtYWluVGhyZWFkIiwgIndvcmtlclRocmVhZCIsICJiYXNlVXJsIiwgIldvcmtlciIsICJ1cmwiLCAib3B0aW9ucyIsICJuYW1lIiwgIm1vZCIsICJ3b3JrZXIiLCAiZGF0YSIsICJlcnJvciIsICJ0cmFuc2Zlckxpc3QiLCAic2VsZiIsICJxIiwgImZsdXNoIiwgImJ1ZmZlcmVkIiwgIldvcmtlckdsb2JhbFNjb3BlIiwgInByb3RvIiwgImlzRGF0YVVybCIsICJldmFsdWF0ZURhdGFVcmwiLCAicGFyc2VEYXRhVXJsIiwgIm0iLCAiZW5jb2RpbmciLCAiZHVja2RiX2V4cG9ydHMiLCAiX19leHBvcnQiLCAiQXN5bmNEdWNrREIiLCAiQXN5bmNEdWNrREJDb25uZWN0aW9uIiwgIkFzeW5jRHVja0RCRGlzcGF0Y2hlciIsICJBc3luY1ByZXBhcmVkU3RhdGVtZW50IiwgIkFzeW5jUmVzdWx0U3RyZWFtSXRlcmF0b3IiLCAiQ29uc29sZUxvZ2dlciIsICJEdWNrREJBY2Nlc3NNb2RlIiwgIkR1Y2tEQkRhdGFQcm90b2NvbCIsICJMb2dFdmVudCIsICJMb2dMZXZlbCIsICJMb2dPcmlnaW4iLCAiTG9nVG9waWMiLCAiUEFDS0FHRV9OQU1FIiwgIlBBQ0tBR0VfVkVSU0lPTiIsICJQQUNLQUdFX1ZFUlNJT05fTUFKT1IiLCAiUEFDS0FHRV9WRVJTSU9OX01JTk9SIiwgIlBBQ0tBR0VfVkVSU0lPTl9QQVRDSCIsICJTdGF0dXNDb2RlIiwgIlZvaWRMb2dnZXIiLCAiV29ya2VyUmVxdWVzdFR5cGUiLCAiV29ya2VyUmVzcG9uc2VUeXBlIiwgIldvcmtlclRhc2siLCAiY3JlYXRlV29ya2VyIiwgImdldEpzRGVsaXZyQnVuZGxlcyIsICJnZXRMb2dFdmVudExhYmVsIiwgImdldExvZ0xldmVsTGFiZWwiLCAiZ2V0TG9nT3JpZ2luTGFiZWwiLCAiZ2V0TG9nVG9waWNMYWJlbCIsICJnZXRQbGF0Zm9ybUZlYXR1cmVzIiwgImlzRmlyZWZveCIsICJpc05vZGUiLCAiaXNTYWZhcmkiLCAic2VsZWN0QnVuZGxlIiwgIl9fdG9Db21tb25KUyIsICJEdWNrREJBY2Nlc3NNb2RlIiwgIkxvZ0xldmVsIiwgIkxvZ1RvcGljIiwgIkxvZ0V2ZW50IiwgIkxvZ09yaWdpbiIsICJWb2lkTG9nZ2VyIiwgIl9lbnRyeSIsICJDb25zb2xlTG9nZ2VyIiwgImxldmVsIiwgImVudHJ5IiwgImdldExvZ0xldmVsTGFiZWwiLCAiZ2V0TG9nRXZlbnRMYWJlbCIsICJldmVudCIsICJnZXRMb2dUb3BpY0xhYmVsIiwgInRvcGljIiwgImdldExvZ09yaWdpbkxhYmVsIiwgIm9yaWdpbiIsICJTdGF0dXNDb2RlIiwgImFycm93IiwgIkFzeW5jRHVja0RCQ29ubmVjdGlvbiIsICJiaW5kaW5ncyIsICJjb25uIiwgImNhbGxiYWNrIiwgInRleHQiLCAiYnVmZmVyIiwgInJlYWRlciIsICJoZWFkZXIiLCAiaXRlciIsICJBc3luY1Jlc3VsdFN0cmVhbUl0ZXJhdG9yIiwgInF1ZXJ5IiwgInN0bXQiLCAiQXN5bmNQcmVwYXJlZFN0YXRlbWVudCIsICJ0YWJsZSIsICJvcHRpb25zIiwgImRiIiwgImNvbm5lY3Rpb25JZCIsICJzdGF0ZW1lbnRJZCIsICJwYXJhbXMiLCAiV29ya2VyUmVxdWVzdFR5cGUiLCAiV29ya2VyUmVzcG9uc2VUeXBlIiwgIldvcmtlclRhc2siLCAidHlwZSIsICJkYXRhIiwgInJlc29sdmUiLCAicmVqZWN0IiwgImFycm93IiwgImFycm93VG9TUUxUeXBlIiwgInR5cGUiLCAiZGVjIiwgImMiLCAiYXJyb3dUb1NRTEZpZWxkIiwgIm1hcF8iLCAibmFtZSIsICJ0IiwgIlRFWFRfRU5DT0RFUiIsICJBc3luY0R1Y2tEQiIsICJsb2dnZXIiLCAid29ya2VyIiwgInJlc29sdmUiLCAiX3JlamVjdCIsICJ0YXNrIiwgInRyYW5zZmVyIiwgIm1pZCIsICJldmVudCIsICJyZXNwb25zZSIsICJwIiwgImUiLCAiV29ya2VyVGFzayIsICJuYW1lIiwgIm1haW5Nb2R1bGVVUkwiLCAicHRocmVhZFdvcmtlclVSTCIsICJwcm9ncmVzcyIsICJfcCIsICJjb25maWciLCAidGV4dCIsICJjaWQiLCAiQXN5bmNEdWNrREJDb25uZWN0aW9uIiwgImNvbm4iLCAic3RhdGVtZW50IiwgInBhcmFtcyIsICJwYXRoIiwgImJ1ZmZlciIsICJ1cmwiLCAicHJvdG8iLCAiZGlyZWN0SU8iLCAiaGFuZGxlIiwgInByb3RvY29sIiwgImVuYWJsZSIsICJvcHRpb25zIiwgIm91dCIsICJrIiwgInR5cGUiLCAiYXJyb3dUb1NRTEZpZWxkIiwgIkFzeW5jRHVja0RCRGlzcGF0Y2hlciIsICJlbnRyeSIsICJyZXF1ZXN0IiwgImUiLCAib2JqIiwgInAiLCAiY29ubiIsICJfIiwgImMiLCAicmVzdWx0IiwgInRyYW5zZmVyIiwgImluZm9zIiwgImJ1ZmZlciIsICJidWxrTWVtb3J5IiwgImV4Y2VwdGlvbnMiLCAic2ltZCIsICJ0aHJlYWRzIiwgImUiLCAiUEFDS0FHRV9OQU1FIiwgInBhY2thZ2VfZGVmYXVsdCIsICJQQUNLQUdFX1ZFUlNJT04iLCAiVkVSU0lPTl9QQVJUUyIsICJQQUNLQUdFX1ZFUlNJT05fTUFKT1IiLCAiUEFDS0FHRV9WRVJTSU9OX01JTk9SIiwgIlBBQ0tBR0VfVkVSU0lPTl9QQVRDSCIsICJpc05vZGUiLCAidXNlckFnZW50IiwgImlzRmlyZWZveCIsICJpc1NhZmFyaSIsICJnZXRKc0RlbGl2ckJ1bmRsZXMiLCAianNkZWxpdnJfZGlzdF91cmwiLCAiUEFDS0FHRV9OQU1FIiwgIlBBQ0tBR0VfVkVSU0lPTiIsICJiaWdJbnQ2NEFycmF5IiwgIndhc21FeGNlcHRpb25zIiwgIndhc21UaHJlYWRzIiwgIndhc21TSU1EIiwgIndhc21CdWxrTWVtb3J5IiwgImdldFBsYXRmb3JtRmVhdHVyZXMiLCAiZXhjZXB0aW9ucyIsICJ0aHJlYWRzIiwgInNpbWQiLCAiYnVsa01lbW9yeSIsICJzZWxlY3RCdW5kbGUiLCAiYnVuZGxlcyIsICJwbGF0Zm9ybSIsICJpbXBvcnRfd2ViX3dvcmtlciIsICJjcmVhdGVXb3JrZXIiLCAidXJsIiwgInJlcXVlc3QiLCAid29ya2VyU2NyaXB0IiwgIndvcmtlclVSTCIsICJXb3JrZXIiLCAiVGV4dERlY29kZXJXcmFwcGVyIiwgImRlY29kZXIiLCAiZGF0YSIsICJkZWNvZGVUZXh0IiwgIkR1Y2tEQkRhdGFQcm90b2NvbCJdCn0K
