"use strict";var xa=Object.create;var Nt=Object.defineProperty;var Ua=Object.getOwnPropertyDescriptor;var Ba=Object.getOwnPropertyNames;var Oa=Object.getPrototypeOf,Ha=Object.prototype.hasOwnProperty;var mr=(_,f)=>()=>(f||_((f={exports:{}}).exports,f),f.exports),La=(_,f)=>{for(var o in f)Nt(_,o,{get:f[o],enumerable:!0})},ra=(_,f,o,b)=>{if(f&&typeof f=="object"||typeof f=="function")for(let h of Ba(f))!Ha.call(_,h)&&h!==o&&Nt(_,h,{get:()=>f[h],enumerable:!(b=Ua(f,h))||b.enumerable});return _};var rt=(_,f,o)=>(o=_!=null?xa(Oa(_)):{},ra(f||!_||!_.__esModule?Nt(o,"default",{value:_,enumerable:!0}):o,_)),Ia=_=>ra(Nt({},"__esModule",{value:!0}),_);var Ea=mr((exports,module)=>{(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(_){return Object.prototype.toString.call(_)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(_){return typeof _=="object"&&_.buffer&&_.buffer.constructor===ArrayBuffer});var createOutputMethod=function(_,f){return function(o){return new Sha256(f,!0).update(o)[_]()}},createMethod=function(_){var f=createOutputMethod("hex",_);NODE_JS&&(f=nodeWrap(f,_)),f.create=function(){return new Sha256(_)},f.update=function(h){return f.create().update(h)};for(var o=0;o<OUTPUT_TYPES.length;++o){var b=OUTPUT_TYPES[o];f[b]=createOutputMethod(b,_)}return f},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(_){if(typeof _=="string")return crypto.createHash(algorithm).update(_,"utf8").digest("hex");if(_==null)throw new Error(ERROR);return _.constructor===ArrayBuffer&&(_=new Uint8Array(_)),Array.isArray(_)||ArrayBuffer.isView(_)||_.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(_)).digest("hex"):method(_)};return nodeMethod},createHmacOutputMethod=function(_,f){return function(o,b){return new HmacSha256(o,f,!0).update(b)[_]()}},createHmacMethod=function(_){var f=createHmacOutputMethod("hex",_);f.create=function(h){return new HmacSha256(h,_)},f.update=function(h,w){return f.create(h).update(w)};for(var o=0;o<OUTPUT_TYPES.length;++o){var b=OUTPUT_TYPES[o];f[b]=createHmacOutputMethod(b,_)}return f};function Sha256(_,f){f?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=_}Sha256.prototype.update=function(_){if(!this.finalized){var f,o=typeof _;if(o!=="string"){if(o==="object"){if(_===null)throw new Error(ERROR);if(ARRAY_BUFFER&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(_)))throw new Error(ERROR)}else throw new Error(ERROR);f=!0}for(var b,h=0,w,y=_.length,k=this.blocks;h<y;){if(this.hashed&&(this.hashed=!1,k[0]=this.block,k[16]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=0),f)for(w=this.start;h<y&&w<64;++h)k[w>>2]|=_[h]<<SHIFT[w++&3];else for(w=this.start;h<y&&w<64;++h)b=_.charCodeAt(h),b<128?k[w>>2]|=b<<SHIFT[w++&3]:b<2048?(k[w>>2]|=(192|b>>6)<<SHIFT[w++&3],k[w>>2]|=(128|b&63)<<SHIFT[w++&3]):b<55296||b>=57344?(k[w>>2]|=(224|b>>12)<<SHIFT[w++&3],k[w>>2]|=(128|b>>6&63)<<SHIFT[w++&3],k[w>>2]|=(128|b&63)<<SHIFT[w++&3]):(b=65536+((b&1023)<<10|_.charCodeAt(++h)&1023),k[w>>2]|=(240|b>>18)<<SHIFT[w++&3],k[w>>2]|=(128|b>>12&63)<<SHIFT[w++&3],k[w>>2]|=(128|b>>6&63)<<SHIFT[w++&3],k[w>>2]|=(128|b&63)<<SHIFT[w++&3]);this.lastByteIndex=w,this.bytes+=w-this.start,w>=64?(this.block=k[16],this.start=w-64,this.hash(),this.hashed=!0):this.start=w}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var _=this.blocks,f=this.lastByteIndex;_[16]=this.block,_[f>>2]|=EXTRA[f&3],this.block=_[16],f>=56&&(this.hashed||this.hash(),_[0]=this.block,_[16]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=0),_[14]=this.hBytes<<3|this.bytes>>>29,_[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var _=this.h0,f=this.h1,o=this.h2,b=this.h3,h=this.h4,w=this.h5,y=this.h6,k=this.h7,S=this.blocks,A,C,O,j,Y,de,be,pe,De,ye,ge;for(A=16;A<64;++A)Y=S[A-15],C=(Y>>>7|Y<<25)^(Y>>>18|Y<<14)^Y>>>3,Y=S[A-2],O=(Y>>>17|Y<<15)^(Y>>>19|Y<<13)^Y>>>10,S[A]=S[A-16]+C+S[A-7]+O<<0;for(ge=f&o,A=0;A<64;A+=4)this.first?(this.is224?(pe=300032,Y=S[0]-1413257819,k=Y-150054599<<0,b=Y+24177077<<0):(pe=704751109,Y=S[0]-210244248,k=Y-1521486534<<0,b=Y+143694565<<0),this.first=!1):(C=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),O=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),pe=_&f,j=pe^_&o^ge,be=h&w^~h&y,Y=k+O+be+K[A]+S[A],de=C+j,k=b+Y<<0,b=Y+de<<0),C=(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),O=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),De=b&_,j=De^b&f^pe,be=k&h^~k&w,Y=y+O+be+K[A+1]+S[A+1],de=C+j,y=o+Y<<0,o=Y+de<<0,C=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),O=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),ye=o&b,j=ye^o&_^De,be=y&k^~y&h,Y=w+O+be+K[A+2]+S[A+2],de=C+j,w=f+Y<<0,f=Y+de<<0,C=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),O=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),ge=f&o,j=ge^f&b^ye,be=w&y^~w&k,Y=h+O+be+K[A+3]+S[A+3],de=C+j,h=_+Y<<0,_=Y+de<<0;this.h0=this.h0+_<<0,this.h1=this.h1+f<<0,this.h2=this.h2+o<<0,this.h3=this.h3+b<<0,this.h4=this.h4+h<<0,this.h5=this.h5+w<<0,this.h6=this.h6+y<<0,this.h7=this.h7+k<<0},Sha256.prototype.hex=function(){this.finalize();var _=this.h0,f=this.h1,o=this.h2,b=this.h3,h=this.h4,w=this.h5,y=this.h6,k=this.h7,S=HEX_CHARS[_>>28&15]+HEX_CHARS[_>>24&15]+HEX_CHARS[_>>20&15]+HEX_CHARS[_>>16&15]+HEX_CHARS[_>>12&15]+HEX_CHARS[_>>8&15]+HEX_CHARS[_>>4&15]+HEX_CHARS[_&15]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[b>>28&15]+HEX_CHARS[b>>24&15]+HEX_CHARS[b>>20&15]+HEX_CHARS[b>>16&15]+HEX_CHARS[b>>12&15]+HEX_CHARS[b>>8&15]+HEX_CHARS[b>>4&15]+HEX_CHARS[b&15]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[h&15]+HEX_CHARS[w>>28&15]+HEX_CHARS[w>>24&15]+HEX_CHARS[w>>20&15]+HEX_CHARS[w>>16&15]+HEX_CHARS[w>>12&15]+HEX_CHARS[w>>8&15]+HEX_CHARS[w>>4&15]+HEX_CHARS[w&15]+HEX_CHARS[y>>28&15]+HEX_CHARS[y>>24&15]+HEX_CHARS[y>>20&15]+HEX_CHARS[y>>16&15]+HEX_CHARS[y>>12&15]+HEX_CHARS[y>>8&15]+HEX_CHARS[y>>4&15]+HEX_CHARS[y&15];return this.is224||(S+=HEX_CHARS[k>>28&15]+HEX_CHARS[k>>24&15]+HEX_CHARS[k>>20&15]+HEX_CHARS[k>>16&15]+HEX_CHARS[k>>12&15]+HEX_CHARS[k>>8&15]+HEX_CHARS[k>>4&15]+HEX_CHARS[k&15]),S},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var _=this.h0,f=this.h1,o=this.h2,b=this.h3,h=this.h4,w=this.h5,y=this.h6,k=this.h7,S=[_>>24&255,_>>16&255,_>>8&255,_&255,f>>24&255,f>>16&255,f>>8&255,f&255,o>>24&255,o>>16&255,o>>8&255,o&255,b>>24&255,b>>16&255,b>>8&255,b&255,h>>24&255,h>>16&255,h>>8&255,h&255,w>>24&255,w>>16&255,w>>8&255,w&255,y>>24&255,y>>16&255,y>>8&255,y&255];return this.is224||S.push(k>>24&255,k>>16&255,k>>8&255,k&255),S},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var _=new ArrayBuffer(this.is224?28:32),f=new DataView(_);return f.setUint32(0,this.h0),f.setUint32(4,this.h1),f.setUint32(8,this.h2),f.setUint32(12,this.h3),f.setUint32(16,this.h4),f.setUint32(20,this.h5),f.setUint32(24,this.h6),this.is224||f.setUint32(28,this.h7),_};function HmacSha256(_,f,o){var b,h=typeof _;if(h==="string"){var w=[],y=_.length,k=0,S;for(b=0;b<y;++b)S=_.charCodeAt(b),S<128?w[k++]=S:S<2048?(w[k++]=192|S>>6,w[k++]=128|S&63):S<55296||S>=57344?(w[k++]=224|S>>12,w[k++]=128|S>>6&63,w[k++]=128|S&63):(S=65536+((S&1023)<<10|_.charCodeAt(++b)&1023),w[k++]=240|S>>18,w[k++]=128|S>>12&63,w[k++]=128|S>>6&63,w[k++]=128|S&63);_=w}else if(h==="object"){if(_===null)throw new Error(ERROR);if(ARRAY_BUFFER&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(_)))throw new Error(ERROR)}else throw new Error(ERROR);_.length>64&&(_=new Sha256(f,!0).update(_).array());var A=[],C=[];for(b=0;b<64;++b){var O=_[b]||0;A[b]=92^O,C[b]=54^O}Sha256.call(this,f,o),this.update(C),this.oKeyPad=A,this.inner=!0,this.sharedMemory=o}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var _=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(_),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var Gi=mr(()=>{});var $i=mr(()=>{});var lt=mr(($s,Fa)=>{"use strict";Fa.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var Ki=mr(()=>{});var Aa=mr((zt,Vi)=>{"use strict";var Yi=(()=>{var _=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(_=_||__filename),function(f={}){var o=typeof f<"u"?f:{},b,h;o.ready=new Promise((e,r)=>{b=e,h=r});var w=Object.assign({},o),y=[],k="./this.program",S=(e,r)=>{throw r},A=typeof window=="object",C=typeof importScripts=="function",O=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",j="";function Y(e){return o.locateFile?o.locateFile(e,j):j+e}var de,be,pe,De;if(O){var ye=Gi(),ge=$i();C?j=ge.dirname(j)+"/":j=__dirname+"/",de=(e,r)=>(e=Or(e)?new URL(e):ge.normalize(e),ye.readFileSync(e,r?void 0:"utf8")),pe=e=>{var r=de(e,!0);return r.buffer||(r=new Uint8Array(r)),r},be=(e,r,n,a=!0)=>{e=Or(e)?new URL(e):ge.normalize(e),ye.readFile(e,a?void 0:"utf8",(l,m)=>{l?n(l):r(a?m.buffer:m)})},!o.thisProgram&&process.argv.length>1&&(k=process.argv[1].replace(/\\/g,"/")),y=process.argv.slice(2),S=(e,r)=>{throw process.exitCode=e,r},o.inspect=()=>"[Emscripten Module object]"}else(A||C)&&(C?j=self.location.href:typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),_&&(j=_),j.indexOf("blob:")!==0?j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1):j="",de=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},C&&(pe=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),be=(e,r,n)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{if(a.status==200||a.status==0&&a.response){r(a.response);return}n()},a.onerror=n,a.send(null)},De=e=>document.title=e);var Pe=o.print||console.log.bind(console),L=o.printErr||console.error.bind(console);Object.assign(o,w),w=null,o.arguments&&(y=o.arguments),o.thisProgram&&(k=o.thisProgram),o.quit&&(S=o.quit);var Fe;o.wasmBinary&&(Fe=o.wasmBinary);var pr=o.noExitRuntime||!0;typeof WebAssembly!="object"&&I("no native wasm support detected");var Ae,ee=!1,he;function we(e,r){e||I(r)}var V,ie,ae,le,E,H,Xt,Gt;function Pr(){var e=Ae.buffer;o.HEAP8=V=new Int8Array(e),o.HEAP16=ae=new Int16Array(e),o.HEAP32=E=new Int32Array(e),o.HEAPU8=ie=new Uint8Array(e),o.HEAPU16=le=new Uint16Array(e),o.HEAPU32=H=new Uint32Array(e),o.HEAPF32=Xt=new Float32Array(e),o.HEAPF64=Gt=new Float64Array(e)}var $t,Nr=[],xr=[],Kt=[],Ur=[],ct=!1,Yt=0;function Vt(){return pr||Yt>0}function Jt(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)rn(o.preRun.shift());ze(Nr)}function Qt(){ct=!0,!o.noFSInit&&!c.init.initialized&&c.init(),c.ignorePermissions=!1,X.init(),ce.root=c.mount(ce,{},null),ze(xr)}function Zt(){ze(Kt)}function en(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)nn(o.postRun.shift());ze(Ur)}function rn(e){Nr.unshift(e)}function tn(e){xr.unshift(e)}function nn(e){Ur.unshift(e)}var ve=0,er=null,Ne=null;function Ca(e){return e}function rr(e){ve++,o.monitorRunDependencies&&o.monitorRunDependencies(ve)}function Ie(e){if(ve--,o.monitorRunDependencies&&o.monitorRunDependencies(ve),ve==0&&(er!==null&&(clearInterval(er),er=null),Ne)){var r=Ne;Ne=null,r()}}function I(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",L(e),ee=!0,he=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw h(r),r}var on="data:application/octet-stream;base64,";function Br(e){return e.startsWith(on)}function Or(e){return e.startsWith("file://")}var Re;Re="./duckdb-mvp.wasm",Br(Re)||(Re=Y(Re));function Hr(e){try{if(e==Re&&Fe)return new Uint8Array(Fe);if(pe)return pe(e);throw"both async and sync fetching of the wasm failed"}catch(r){I(r)}}function an(e){return!Fe&&(A||C)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Hr(e)):Promise.resolve().then(()=>Hr(e))}function Lr(e,r,n){return an(e).then(a=>WebAssembly.instantiate(a,r)).then(a=>a).then(n,a=>{L("failed to asynchronously prepare wasm: "+a),I(a)})}function sn(e,r,n,a){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Br(r)&&!O&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(l=>{var m=WebAssembly.instantiateStreaming(l,n);return m.then(a,function(p){return L("wasm streaming compile failed: "+p),L("falling back to ArrayBuffer instantiation"),Lr(r,n,a)})}):Lr(r,n,a)}function un(){var e={a:jo};function r(a,l){var m=a.exports;return o.asm=m,Ae=o.asm.Ga,Pr(),$t=o.asm.Ja,tn(o.asm.Ha),Ie("wasm-instantiate"),m}rr("wasm-instantiate");function n(a){r(a.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,r)}catch(a){L("Module.instantiateWasm callback failed with error: "+a),h(a)}return sn(Fe,Re,e,n).catch(h),{}}var M,W;function Ir(e){this.name="ExitStatus",this.message="Program terminated with exit(".concat(e,")"),this.status=e}function ze(e){for(;e.length>0;)e.shift()(o)}function ln(){L("missing function: XML_GetBuffer"),I(-1)}function cn(){L("missing function: XML_GetErrorCode"),I(-1)}function fn(){L("missing function: XML_Parse"),I(-1)}function dn(){L("missing function: XML_ParseBuffer"),I(-1)}function _n(){L("missing function: XML_ParserCreate"),I(-1)}function mn(){L("missing function: XML_ParserFree"),I(-1)}function pn(){L("missing function: XML_ResumeParser"),I(-1)}function hn(){L("missing function: XML_SetCharacterDataHandler"),I(-1)}function bn(){L("missing function: XML_SetElementHandler"),I(-1)}function wn(){L("missing function: XML_SetUserData"),I(-1)}function gn(){L("missing function: XML_StopParser"),I(-1)}function ft(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(r){H[this.ptr+4>>>2]=r},this.get_type=function(){return H[this.ptr+4>>>2]},this.set_destructor=function(r){H[this.ptr+8>>>2]=r},this.get_destructor=function(){return H[this.ptr+8>>>2]},this.set_caught=function(r){r=r?1:0,V[this.ptr+12>>>0]=r},this.get_caught=function(){return V[this.ptr+12>>>0]!=0},this.set_rethrown=function(r){r=r?1:0,V[this.ptr+13>>>0]=r},this.get_rethrown=function(){return V[this.ptr+13>>>0]!=0},this.init=function(r,n){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(n)},this.set_adjusted_ptr=function(r){H[this.ptr+16>>>2]=r},this.get_adjusted_ptr=function(){return H[this.ptr+16>>>2]},this.get_exception_ptr=function(){var r=Zr(this.get_type());if(r)return H[this.excPtr>>>2];var n=this.get_adjusted_ptr();return n!==0?n:this.excPtr}}var dt=0,ue=0;function yn(e,r,n){var a=new ft(e);throw a.init(r,n),dt=e,ue++,dt}var hr="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function xe(e,r,n){I(hr)}var oe={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var n=0,a=e.length-1;a>=0;a--){var l=e[a];l==="."?e.splice(a,1):l===".."?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:e=>{var r=oe.isAbs(e),n=e.substr(-1)==="/";return e=oe.normalizeArray(e.split("/").filter(a=>!!a),!r).join("/"),!e&&!r&&(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=oe.splitPath(e),n=r[0],a=r[1];return!n&&!a?".":(a&&(a=a.substr(0,a.length-1)),n+a)},basename:e=>{if(e==="/")return"/";e=oe.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments);return oe.normalize(e.join("/"))},join2:(e,r)=>oe.normalize(e+"/"+r)};function zr(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return a=>crypto.getRandomValues(a);if(O)try{var e=require("crypto"),r=e.randomFillSync;if(r)return a=>e.randomFillSync(a);var n=e.randomBytes;return a=>(a.set(n(a.byteLength)),a)}catch(a){}I("initRandomDevice")}function je(e){return(je=zr())(e)}var Me={resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var a=n>=0?arguments[n]:c.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";e=a+"/"+e,r=oe.isAbs(a)}return e=oe.normalizeArray(e.split("/").filter(l=>!!l),!r).join("/"),(r?"/":"")+e||"."},relative:(e,r)=>{e=Me.resolve(e).substr(1),r=Me.resolve(r).substr(1);function n(F){for(var R=0;R<F.length&&F[R]==="";R++);for(var B=F.length-1;B>=0&&F[B]==="";B--);return R>B?[]:F.slice(R,B-R+1)}for(var a=n(e.split("/")),l=n(r.split("/")),m=Math.min(a.length,l.length),p=m,g=0;g<m;g++)if(a[g]!==l[g]){p=g;break}for(var v=[],g=p;g<a.length;g++)v.push("..");return v=v.concat(l.slice(p)),v.join("/")}};function Ue(e){for(var r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a<=127?r++:a<=2047?r+=2:a>=55296&&a<=57343?(r+=4,++n):r+=3}return r}function Ce(e,r,n,a){if(n>>>=0,!(a>0))return 0;for(var l=n,m=n+a-1,p=0;p<e.length;++p){var g=e.charCodeAt(p);if(g>=55296&&g<=57343){var v=e.charCodeAt(++p);g=65536+((g&1023)<<10)|v&1023}if(g<=127){if(n>=m)break;r[n++>>>0]=g}else if(g<=2047){if(n+1>=m)break;r[n++>>>0]=192|g>>6,r[n++>>>0]=128|g&63}else if(g<=65535){if(n+2>=m)break;r[n++>>>0]=224|g>>12,r[n++>>>0]=128|g>>6&63,r[n++>>>0]=128|g&63}else{if(n+3>=m)break;r[n++>>>0]=240|g>>18,r[n++>>>0]=128|g>>12&63,r[n++>>>0]=128|g>>6&63,r[n++>>>0]=128|g&63}}return r[n>>>0]=0,n-l}function Xe(e,r,n){var a=n>0?n:Ue(e)+1,l=new Array(a),m=Ce(e,l,0,l.length);return r&&(l.length=m),l}var _t=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function We(e,r,n){r>>>=0;for(var a=r+n,l=r;e[l]&&!(l>=a);)++l;if(l-r>16&&e.buffer&&_t)return _t.decode(e.subarray(r,l));for(var m="";r<l;){var p=e[r++];if(!(p&128)){m+=String.fromCharCode(p);continue}var g=e[r++]&63;if((p&224)==192){m+=String.fromCharCode((p&31)<<6|g);continue}var v=e[r++]&63;if((p&240)==224?p=(p&15)<<12|g<<6|v:p=(p&7)<<18|g<<12|v<<6|e[r++]&63,p<65536)m+=String.fromCharCode(p);else{var F=p-65536;m+=String.fromCharCode(55296|F>>10,56320|F&1023)}}return m}var X={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){X.ttys[e]={input:[],output:[],ops:r},c.registerDevice(e,X.stream_ops)},stream_ops:{open:function(e){var r=X.ttys[e.node.rdev];if(!r)throw new c.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,r,n,a,l){if(!e.tty||!e.tty.ops.get_char)throw new c.ErrnoError(60);for(var m=0,p=0;p<a;p++){var g;try{g=e.tty.ops.get_char(e.tty)}catch(v){throw new c.ErrnoError(29)}if(g===void 0&&m===0)throw new c.ErrnoError(6);if(g==null)break;m++,r[n+p]=g}return m&&(e.node.timestamp=Date.now()),m},write:function(e,r,n,a,l){if(!e.tty||!e.tty.ops.put_char)throw new c.ErrnoError(60);try{for(var m=0;m<a;m++)e.tty.ops.put_char(e.tty,r[n+m])}catch(p){throw new c.ErrnoError(29)}return a&&(e.node.timestamp=Date.now()),m}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(O){var n=256,a=Buffer.alloc(n),l=0;try{l=ye.readSync(process.stdin.fd,a,0,n,-1)}catch(m){if(m.toString().includes("EOF"))l=0;else throw m}l>0?r=a.slice(0,l).toString("utf-8"):r=null}else typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "),r!==null&&(r+="\n")):typeof readline=="function"&&(r=readline(),r!==null&&(r+="\n"));if(!r)return null;e.input=Xe(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(Pe(We(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync:function(e){e.output&&e.output.length>0&&(Pe(We(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(L(We(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync:function(e){e.output&&e.output.length>0&&(L(We(e.output,0)),e.output=[])}}};function Wr(e,r){return ie.fill(0,e,e+r),e}function vn(e,r){return Math.ceil(e/r)*r}function mt(e){e=vn(e,65536);var r=fr(65536,e);return r?Wr(r,e):0}var Z={ops_table:null,mount:function(e){return Z.createNode(null,"/",16895,0)},createNode:function(e,r,n,a){if(c.isBlkdev(n)||c.isFIFO(n))throw new c.ErrnoError(63);Z.ops_table||(Z.ops_table={dir:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr,lookup:Z.node_ops.lookup,mknod:Z.node_ops.mknod,rename:Z.node_ops.rename,unlink:Z.node_ops.unlink,rmdir:Z.node_ops.rmdir,readdir:Z.node_ops.readdir,symlink:Z.node_ops.symlink},stream:{llseek:Z.stream_ops.llseek}},file:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr},stream:{llseek:Z.stream_ops.llseek,read:Z.stream_ops.read,write:Z.stream_ops.write,allocate:Z.stream_ops.allocate,mmap:Z.stream_ops.mmap,msync:Z.stream_ops.msync}},link:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr,readlink:Z.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr},stream:c.chrdev_stream_ops}});var l=c.createNode(e,r,n,a);return c.isDir(l.mode)?(l.node_ops=Z.ops_table.dir.node,l.stream_ops=Z.ops_table.dir.stream,l.contents={}):c.isFile(l.mode)?(l.node_ops=Z.ops_table.file.node,l.stream_ops=Z.ops_table.file.stream,l.usedBytes=0,l.contents=null):c.isLink(l.mode)?(l.node_ops=Z.ops_table.link.node,l.stream_ops=Z.ops_table.link.stream):c.isChrdev(l.mode)&&(l.node_ops=Z.ops_table.chrdev.node,l.stream_ops=Z.ops_table.chrdev.stream),l.timestamp=Date.now(),e&&(e.contents[r]=l,e.timestamp=l.timestamp),l},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){r>>>=0;var n=e.contents?e.contents.length:0;if(!(n>=r)){var a=1024*1024;r=Math.max(r,n*(n<a?2:1.125)>>>0),n!=0&&(r=Math.max(r,256));var l=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(l.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(r>>>=0,e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(r),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=c.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,c.isDir(e.mode)?r.size=4096:c.isFile(e.mode)?r.size=e.usedBytes:c.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&Z.resizeFileStorage(e,r.size)},lookup:function(e,r){throw c.genericErrors[44]},mknod:function(e,r,n,a){return Z.createNode(e,r,n,a)},rename:function(e,r,n){if(c.isDir(e.mode)){var a;try{a=c.lookupNode(r,n)}catch(m){}if(a)for(var l in a.contents)throw new c.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,r.contents[n]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var n=c.lookupNode(e,r);for(var a in n.contents)throw new c.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var a=Z.createNode(e,r,41471,0);return a.link=n,a},readlink:function(e){if(!c.isLink(e.mode))throw new c.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,n,a,l){var m=e.node.contents;if(l>=e.node.usedBytes)return 0;var p=Math.min(e.node.usedBytes-l,a);if(p>8&&m.subarray)r.set(m.subarray(l,l+p),n);else for(var g=0;g<p;g++)r[n+g]=m[l+g];return p},write:function(e,r,n,a,l,m){if(r.buffer===V.buffer&&(m=!1),!a)return 0;var p=e.node;if(p.timestamp=Date.now(),r.subarray&&(!p.contents||p.contents.subarray)){if(m)return p.contents=r.subarray(n,n+a),p.usedBytes=a,a;if(p.usedBytes===0&&l===0)return p.contents=r.slice(n,n+a),p.usedBytes=a,a;if(l+a<=p.usedBytes)return p.contents.set(r.subarray(n,n+a),l),a}if(Z.expandFileStorage(p,l+a),p.contents.subarray&&r.subarray)p.contents.set(r.subarray(n,n+a),l);else for(var g=0;g<a;g++)p.contents[l+g]=r[n+g];return p.usedBytes=Math.max(p.usedBytes,l+a),a},llseek:function(e,r,n){var a=r;if(n===1?a+=e.position:n===2&&c.isFile(e.node.mode)&&(a+=e.node.usedBytes),a<0)throw new c.ErrnoError(28);return a},allocate:function(e,r,n){Z.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,a,l){if(!c.isFile(e.node.mode))throw new c.ErrnoError(43);var m,p,g=e.node.contents;if(!(l&2)&&g.buffer===V.buffer)p=!1,m=g.byteOffset;else{if((n>0||n+r<g.length)&&(g.subarray?g=g.subarray(n,n+r):g=Array.prototype.slice.call(g,n,n+r)),p=!0,m=mt(r),!m)throw new c.ErrnoError(48);m>>>=0,V.set(g,m>>>0)}return{ptr:m,allocated:p}},msync:function(e,r,n,a,l){return Z.stream_ops.write(e,r,0,a,n,!1),0}}};function En(e,r,n,a){var l=a?"":"al ".concat(e);be(e,m=>{we(m,'Loading data file "'.concat(e,'" failed (no arrayBuffer).')),r(new Uint8Array(m)),l&&Ie(l)},m=>{if(n)n();else throw'Loading data file "'.concat(e,'" failed.')}),l&&rr(l)}var qr=o.preloadPlugins||[];function d(e,r,n,a){typeof Browser<"u"&&Browser.init();var l=!1;return qr.forEach(function(m){l||m.canHandle(r)&&(m.handle(e,r,n,a),l=!0)}),l}function Ge(e,r,n,a,l,m,p,g,v,F){var R=r?Me.resolve(oe.join2(e,r)):e,B="cp ".concat(R);function N(x){function D(P){F&&F(),g||c.createDataFile(e,r,P,a,l,v),m&&m(),Ie(B)}d(x,R,D,()=>{p&&p(),Ie(B)})||D(x)}rr(B),typeof n=="string"?En(n,x=>N(x),p):N(n)}function G(e){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},n=r[e];if(typeof n>"u")throw new Error("Unknown file open mode: ".concat(e));return n}function jr(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n}var c={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,r={})=>{if(e=Me.resolve(e),!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if(r=Object.assign(n,r),r.recurse_count>8)throw new c.ErrnoError(32);for(var a=e.split("/").filter(B=>!!B),l=c.root,m="/",p=0;p<a.length;p++){var g=p===a.length-1;if(g&&r.parent)break;if(l=c.lookupNode(l,a[p]),m=oe.join2(m,a[p]),c.isMountpoint(l)&&(!g||g&&r.follow_mount)&&(l=l.mounted.root),!g||r.follow)for(var v=0;c.isLink(l.mode);){var F=c.readlink(m);m=Me.resolve(oe.dirname(m),F);var R=c.lookupPath(m,{recurse_count:r.recurse_count+1});if(l=R.node,v++>40)throw new c.ErrnoError(32)}}return{path:m,node:l}},getPath:e=>{for(var r;;){if(c.isRoot(e)){var n=e.mount.mountpoint;return r?n[n.length-1]!=="/"?"".concat(n,"/").concat(r):n+r:n}r=r?"".concat(e.name,"/").concat(r):e.name,e=e.parent}},hashName:(e,r)=>{for(var n=0,a=0;a<r.length;a++)n=(n<<5)-n+r.charCodeAt(a)|0;return(e+n>>>0)%c.nameTable.length},hashAddNode:e=>{var r=c.hashName(e.parent.id,e.name);e.name_next=c.nameTable[r],c.nameTable[r]=e},hashRemoveNode:e=>{var r=c.hashName(e.parent.id,e.name);if(c.nameTable[r]===e)c.nameTable[r]=e.name_next;else for(var n=c.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:(e,r)=>{var n=c.mayLookup(e);if(n)throw new c.ErrnoError(n,e);for(var a=c.hashName(e.id,r),l=c.nameTable[a];l;l=l.name_next){var m=l.name;if(l.parent.id===e.id&&m===r)return l}return c.lookup(e,r)},createNode:(e,r,n,a)=>{var l=new c.FSNode(e,r,n,a);return c.hashAddNode(l),l},destroyNode:e=>{c.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(e&61440)===32768,isDir:e=>(e&61440)===16384,isLink:e=>(e&61440)===40960,isChrdev:e=>(e&61440)===8192,isBlkdev:e=>(e&61440)===24576,isFIFO:e=>(e&61440)===4096,isSocket:e=>(e&49152)===49152,flagsToPermissionString:e=>{var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions:(e,r)=>c.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0,mayLookup:e=>{var r=c.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:(e,r)=>{try{var n=c.lookupNode(e,r);return 20}catch(a){}return c.nodePermissions(e,"wx")},mayDelete:(e,r,n)=>{var a;try{a=c.lookupNode(e,r)}catch(m){return m.errno}var l=c.nodePermissions(e,"wx");if(l)return l;if(n){if(!c.isDir(a.mode))return 54;if(c.isRoot(a)||c.getPath(a)===c.cwd())return 10}else if(c.isDir(a.mode))return 31;return 0},mayOpen:(e,r)=>e?c.isLink(e.mode)?32:c.isDir(e.mode)&&(c.flagsToPermissionString(r)!=="r"||r&512)?31:c.nodePermissions(e,c.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var e=0;e<=c.MAX_OPEN_FDS;e++)if(!c.streams[e])return e;throw new c.ErrnoError(33)},getStream:e=>c.streams[e],createStream:(e,r=-1)=>(c.FSStream||(c.FSStream=function(){this.shared={}},c.FSStream.prototype={},Object.defineProperties(c.FSStream.prototype,{object:{get:function(){return this.node},set:function(n){this.node=n}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(n){this.shared.flags=n}},position:{get:function(){return this.shared.position},set:function(n){this.shared.position=n}}})),e=Object.assign(new c.FSStream,e),r==-1&&(r=c.nextfd()),e.fd=r,c.streams[r]=e,e),closeStream:e=>{c.streams[e]=null},chrdev_stream_ops:{open:e=>{var r=c.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new c.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice:(e,r)=>{c.devices[e]={stream_ops:r}},getDevice:e=>c.devices[e],getMounts:e=>{for(var r=[],n=[e];n.length;){var a=n.pop();r.push(a),n.push.apply(n,a.mounts)}return r},syncfs:(e,r)=>{typeof e=="function"&&(r=e,e=!1),c.syncFSRequests++,c.syncFSRequests>1&&L("warning: ".concat(c.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var n=c.getMounts(c.root.mount),a=0;function l(p){return c.syncFSRequests--,r(p)}function m(p){if(p)return m.errored?void 0:(m.errored=!0,l(p));++a>=n.length&&l(null)}n.forEach(p=>{if(!p.type.syncfs)return m(null);p.type.syncfs(p,e,m)})},mount:(e,r,n)=>{var a=n==="/",l=!n,m;if(a&&c.root)throw new c.ErrnoError(10);if(!a&&!l){var p=c.lookupPath(n,{follow_mount:!1});if(n=p.path,m=p.node,c.isMountpoint(m))throw new c.ErrnoError(10);if(!c.isDir(m.mode))throw new c.ErrnoError(54)}var g={type:e,opts:r,mountpoint:n,mounts:[]},v=e.mount(g);return v.mount=g,g.root=v,a?c.root=v:m&&(m.mounted=g,m.mount&&m.mount.mounts.push(g)),v},unmount:e=>{var r=c.lookupPath(e,{follow_mount:!1});if(!c.isMountpoint(r.node))throw new c.ErrnoError(28);var n=r.node,a=n.mounted,l=c.getMounts(a);Object.keys(c.nameTable).forEach(p=>{for(var g=c.nameTable[p];g;){var v=g.name_next;l.includes(g.mount)&&c.destroyNode(g),g=v}}),n.mounted=null;var m=n.mount.mounts.indexOf(a);n.mount.mounts.splice(m,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod:(e,r,n)=>{var a=c.lookupPath(e,{parent:!0}),l=a.node,m=oe.basename(e);if(!m||m==="."||m==="..")throw new c.ErrnoError(28);var p=c.mayCreate(l,m);if(p)throw new c.ErrnoError(p);if(!l.node_ops.mknod)throw new c.ErrnoError(63);return l.node_ops.mknod(l,m,r,n)},create:(e,r)=>(r=r!==void 0?r:438,r&=4095,r|=32768,c.mknod(e,r,0)),mkdir:(e,r)=>(r=r!==void 0?r:511,r&=1023,r|=16384,c.mknod(e,r,0)),mkdirTree:(e,r)=>{for(var n=e.split("/"),a="",l=0;l<n.length;++l)if(n[l]){a+="/"+n[l];try{c.mkdir(a,r)}catch(m){if(m.errno!=20)throw m}}},mkdev:(e,r,n)=>(typeof n>"u"&&(n=r,r=438),r|=8192,c.mknod(e,r,n)),symlink:(e,r)=>{if(!Me.resolve(e))throw new c.ErrnoError(44);var n=c.lookupPath(r,{parent:!0}),a=n.node;if(!a)throw new c.ErrnoError(44);var l=oe.basename(r),m=c.mayCreate(a,l);if(m)throw new c.ErrnoError(m);if(!a.node_ops.symlink)throw new c.ErrnoError(63);return a.node_ops.symlink(a,l,e)},rename:(e,r)=>{var n=oe.dirname(e),a=oe.dirname(r),l=oe.basename(e),m=oe.basename(r),p,g,v;if(p=c.lookupPath(e,{parent:!0}),g=p.node,p=c.lookupPath(r,{parent:!0}),v=p.node,!g||!v)throw new c.ErrnoError(44);if(g.mount!==v.mount)throw new c.ErrnoError(75);var F=c.lookupNode(g,l),R=Me.relative(e,a);if(R.charAt(0)!==".")throw new c.ErrnoError(28);if(R=Me.relative(r,n),R.charAt(0)!==".")throw new c.ErrnoError(55);var B;try{B=c.lookupNode(v,m)}catch(D){}if(F!==B){var N=c.isDir(F.mode),x=c.mayDelete(g,l,N);if(x)throw new c.ErrnoError(x);if(x=B?c.mayDelete(v,m,N):c.mayCreate(v,m),x)throw new c.ErrnoError(x);if(!g.node_ops.rename)throw new c.ErrnoError(63);if(c.isMountpoint(F)||B&&c.isMountpoint(B))throw new c.ErrnoError(10);if(v!==g&&(x=c.nodePermissions(g,"w"),x))throw new c.ErrnoError(x);c.hashRemoveNode(F);try{g.node_ops.rename(F,v,m)}catch(D){throw D}finally{c.hashAddNode(F)}}},rmdir:e=>{var r=c.lookupPath(e,{parent:!0}),n=r.node,a=oe.basename(e),l=c.lookupNode(n,a),m=c.mayDelete(n,a,!0);if(m)throw new c.ErrnoError(m);if(!n.node_ops.rmdir)throw new c.ErrnoError(63);if(c.isMountpoint(l))throw new c.ErrnoError(10);n.node_ops.rmdir(n,a),c.destroyNode(l)},readdir:e=>{var r=c.lookupPath(e,{follow:!0}),n=r.node;if(!n.node_ops.readdir)throw new c.ErrnoError(54);return n.node_ops.readdir(n)},unlink:e=>{var r=c.lookupPath(e,{parent:!0}),n=r.node;if(!n)throw new c.ErrnoError(44);var a=oe.basename(e),l=c.lookupNode(n,a),m=c.mayDelete(n,a,!1);if(m)throw new c.ErrnoError(m);if(!n.node_ops.unlink)throw new c.ErrnoError(63);if(c.isMountpoint(l))throw new c.ErrnoError(10);n.node_ops.unlink(n,a),c.destroyNode(l)},readlink:e=>{var r=c.lookupPath(e),n=r.node;if(!n)throw new c.ErrnoError(44);if(!n.node_ops.readlink)throw new c.ErrnoError(28);return Me.resolve(c.getPath(n.parent),n.node_ops.readlink(n))},stat:(e,r)=>{var n=c.lookupPath(e,{follow:!r}),a=n.node;if(!a)throw new c.ErrnoError(44);if(!a.node_ops.getattr)throw new c.ErrnoError(63);return a.node_ops.getattr(a)},lstat:e=>c.stat(e,!0),chmod:(e,r,n)=>{var a;if(typeof e=="string"){var l=c.lookupPath(e,{follow:!n});a=l.node}else a=e;if(!a.node_ops.setattr)throw new c.ErrnoError(63);a.node_ops.setattr(a,{mode:r&4095|a.mode&-4096,timestamp:Date.now()})},lchmod:(e,r)=>{c.chmod(e,r,!0)},fchmod:(e,r)=>{var n=c.getStream(e);if(!n)throw new c.ErrnoError(8);c.chmod(n.node,r)},chown:(e,r,n,a)=>{var l;if(typeof e=="string"){var m=c.lookupPath(e,{follow:!a});l=m.node}else l=e;if(!l.node_ops.setattr)throw new c.ErrnoError(63);l.node_ops.setattr(l,{timestamp:Date.now()})},lchown:(e,r,n)=>{c.chown(e,r,n,!0)},fchown:(e,r,n)=>{var a=c.getStream(e);if(!a)throw new c.ErrnoError(8);c.chown(a.node,r,n)},truncate:(e,r)=>{if(r<0)throw new c.ErrnoError(28);var n;if(typeof e=="string"){var a=c.lookupPath(e,{follow:!0});n=a.node}else n=e;if(!n.node_ops.setattr)throw new c.ErrnoError(63);if(c.isDir(n.mode))throw new c.ErrnoError(31);if(!c.isFile(n.mode))throw new c.ErrnoError(28);var l=c.nodePermissions(n,"w");if(l)throw new c.ErrnoError(l);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:(e,r)=>{var n=c.getStream(e);if(!n)throw new c.ErrnoError(8);if(!(n.flags&2097155))throw new c.ErrnoError(28);c.truncate(n.node,r)},utime:(e,r,n)=>{var a=c.lookupPath(e,{follow:!0}),l=a.node;l.node_ops.setattr(l,{timestamp:Math.max(r,n)})},open:(e,r,n)=>{if(e==="")throw new c.ErrnoError(44);r=typeof r=="string"?G(r):r,n=typeof n>"u"?438:n,r&64?n=n&4095|32768:n=0;var a;if(typeof e=="object")a=e;else{e=oe.normalize(e);try{var l=c.lookupPath(e,{follow:!(r&131072)});a=l.node}catch(v){}}var m=!1;if(r&64)if(a){if(r&128)throw new c.ErrnoError(20)}else a=c.mknod(e,n,0),m=!0;if(!a)throw new c.ErrnoError(44);if(c.isChrdev(a.mode)&&(r&=-513),r&65536&&!c.isDir(a.mode))throw new c.ErrnoError(54);if(!m){var p=c.mayOpen(a,r);if(p)throw new c.ErrnoError(p)}r&512&&!m&&c.truncate(a,0),r&=-131713;var g=c.createStream({node:a,path:c.getPath(a),flags:r,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1});return g.stream_ops.open&&g.stream_ops.open(g),o.logReadFiles&&!(r&1)&&(c.readFiles||(c.readFiles={}),e in c.readFiles||(c.readFiles[e]=1)),g},close:e=>{if(c.isClosed(e))throw new c.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{c.closeStream(e.fd)}e.fd=null},isClosed:e=>e.fd===null,llseek:(e,r,n)=>{if(c.isClosed(e))throw new c.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new c.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new c.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:(e,r,n,a,l)=>{if(n>>>=0,a<0||l<0)throw new c.ErrnoError(28);if(c.isClosed(e))throw new c.ErrnoError(8);if((e.flags&2097155)===1)throw new c.ErrnoError(8);if(c.isDir(e.node.mode))throw new c.ErrnoError(31);if(!e.stream_ops.read)throw new c.ErrnoError(28);var m=typeof l<"u";if(!m)l=e.position;else if(!e.seekable)throw new c.ErrnoError(70);var p=e.stream_ops.read(e,r,n,a,l);return m||(e.position+=p),p},write:(e,r,n,a,l,m)=>{if(n>>>=0,a<0||l<0)throw new c.ErrnoError(28);if(c.isClosed(e))throw new c.ErrnoError(8);if(!(e.flags&2097155))throw new c.ErrnoError(8);if(c.isDir(e.node.mode))throw new c.ErrnoError(31);if(!e.stream_ops.write)throw new c.ErrnoError(28);e.seekable&&e.flags&1024&&c.llseek(e,0,2);var p=typeof l<"u";if(!p)l=e.position;else if(!e.seekable)throw new c.ErrnoError(70);var g=e.stream_ops.write(e,r,n,a,l,m);return p||(e.position+=g),g},allocate:(e,r,n)=>{if(c.isClosed(e))throw new c.ErrnoError(8);if(r<0||n<=0)throw new c.ErrnoError(28);if(!(e.flags&2097155))throw new c.ErrnoError(8);if(!c.isFile(e.node.mode)&&!c.isDir(e.node.mode))throw new c.ErrnoError(43);if(!e.stream_ops.allocate)throw new c.ErrnoError(138);e.stream_ops.allocate(e,r,n)},mmap:(e,r,n,a,l)=>{if(a&2&&!(l&2)&&(e.flags&2097155)!==2)throw new c.ErrnoError(2);if((e.flags&2097155)===1)throw new c.ErrnoError(2);if(!e.stream_ops.mmap)throw new c.ErrnoError(43);return e.stream_ops.mmap(e,r,n,a,l)},msync:(e,r,n,a,l)=>(n>>>=0,e.stream_ops.msync?e.stream_ops.msync(e,r,n,a,l):0),munmap:e=>0,ioctl:(e,r,n)=>{if(!e.stream_ops.ioctl)throw new c.ErrnoError(59);return e.stream_ops.ioctl(e,r,n)},readFile:(e,r={})=>{if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'.concat(r.encoding,'"'));var n,a=c.open(e,r.flags),l=c.stat(e),m=l.size,p=new Uint8Array(m);return c.read(a,p,0,m,0),r.encoding==="utf8"?n=We(p,0):r.encoding==="binary"&&(n=p),c.close(a),n},writeFile:(e,r,n={})=>{n.flags=n.flags||577;var a=c.open(e,n.flags,n.mode);if(typeof r=="string"){var l=new Uint8Array(Ue(r)+1),m=Ce(r,l,0,l.length);c.write(a,l,0,m,void 0,n.canOwn)}else if(ArrayBuffer.isView(r))c.write(a,r,0,r.byteLength,void 0,n.canOwn);else throw new Error("Unsupported data type");c.close(a)},cwd:()=>c.currentPath,chdir:e=>{var r=c.lookupPath(e,{follow:!0});if(r.node===null)throw new c.ErrnoError(44);if(!c.isDir(r.node.mode))throw new c.ErrnoError(54);var n=c.nodePermissions(r.node,"x");if(n)throw new c.ErrnoError(n);c.currentPath=r.path},createDefaultDirectories:()=>{c.mkdir("/tmp"),c.mkdir("/home"),c.mkdir("/home/web_user")},createDefaultDevices:()=>{c.mkdir("/dev"),c.registerDevice(c.makedev(1,3),{read:()=>0,write:(a,l,m,p,g)=>p}),c.mkdev("/dev/null",c.makedev(1,3)),X.register(c.makedev(5,0),X.default_tty_ops),X.register(c.makedev(6,0),X.default_tty1_ops),c.mkdev("/dev/tty",c.makedev(5,0)),c.mkdev("/dev/tty1",c.makedev(6,0));var e=new Uint8Array(1024),r=0,n=()=>(r===0&&(r=je(e).byteLength),e[--r]);c.createDevice("/dev","random",n),c.createDevice("/dev","urandom",n),c.mkdir("/dev/shm"),c.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{c.mkdir("/proc");var e=c.mkdir("/proc/self");c.mkdir("/proc/self/fd"),c.mount({mount:()=>{var r=c.createNode(e,"fd",16895,73);return r.node_ops={lookup:(n,a)=>{var l=+a,m=c.getStream(l);if(!m)throw new c.ErrnoError(8);var p={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>m.path}};return p.parent=p,p}},r}},{},"/proc/self/fd")},createStandardStreams:()=>{o.stdin?c.createDevice("/dev","stdin",o.stdin):c.symlink("/dev/tty","/dev/stdin"),o.stdout?c.createDevice("/dev","stdout",null,o.stdout):c.symlink("/dev/tty","/dev/stdout"),o.stderr?c.createDevice("/dev","stderr",null,o.stderr):c.symlink("/dev/tty1","/dev/stderr");var e=c.open("/dev/stdin",0),r=c.open("/dev/stdout",1),n=c.open("/dev/stderr",1)},ensureErrnoError:()=>{c.ErrnoError||(c.ErrnoError=function(r,n){this.name="ErrnoError",this.node=n,this.setErrno=function(a){this.errno=a},this.setErrno(r),this.message="FS error"},c.ErrnoError.prototype=new Error,c.ErrnoError.prototype.constructor=c.ErrnoError,[44].forEach(e=>{c.genericErrors[e]=new c.ErrnoError(e),c.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:()=>{c.ensureErrnoError(),c.nameTable=new Array(4096),c.mount(Z,{},"/"),c.createDefaultDirectories(),c.createDefaultDevices(),c.createSpecialDirectories(),c.filesystems={MEMFS:Z}},init:(e,r,n)=>{c.init.initialized=!0,c.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=r||o.stdout,o.stderr=n||o.stderr,c.createStandardStreams()},quit:()=>{c.init.initialized=!1;for(var e=0;e<c.streams.length;e++){var r=c.streams[e];r&&c.close(r)}},findObject:(e,r)=>{var n=c.analyzePath(e,r);return n.exists?n.object:null},analyzePath:(e,r)=>{try{var n=c.lookupPath(e,{follow:!r});e=n.path}catch(l){}var a={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=c.lookupPath(e,{parent:!0});a.parentExists=!0,a.parentPath=n.path,a.parentObject=n.node,a.name=oe.basename(e),n=c.lookupPath(e,{follow:!r}),a.exists=!0,a.path=n.path,a.object=n.node,a.name=n.node.name,a.isRoot=n.path==="/"}catch(l){a.error=l.errno}return a},createPath:(e,r,n,a)=>{e=typeof e=="string"?e:c.getPath(e);for(var l=r.split("/").reverse();l.length;){var m=l.pop();if(m){var p=oe.join2(e,m);try{c.mkdir(p)}catch(g){}e=p}}return p},createFile:(e,r,n,a,l)=>{var m=oe.join2(typeof e=="string"?e:c.getPath(e),r),p=jr(a,l);return c.create(m,p)},createDataFile:(e,r,n,a,l,m)=>{var p=r;e&&(e=typeof e=="string"?e:c.getPath(e),p=r?oe.join2(e,r):e);var g=jr(a,l),v=c.create(p,g);if(n){if(typeof n=="string"){for(var F=new Array(n.length),R=0,B=n.length;R<B;++R)F[R]=n.charCodeAt(R);n=F}c.chmod(v,g|146);var N=c.open(v,577);c.write(N,n,0,n.length,0,m),c.close(N),c.chmod(v,g)}return v},createDevice:(e,r,n,a)=>{var l=oe.join2(typeof e=="string"?e:c.getPath(e),r),m=jr(!!n,!!a);c.createDevice.major||(c.createDevice.major=64);var p=c.makedev(c.createDevice.major++,0);return c.registerDevice(p,{open:g=>{g.seekable=!1},close:g=>{a&&a.buffer&&a.buffer.length&&a(10)},read:(g,v,F,R,B)=>{for(var N=0,x=0;x<R;x++){var D;try{D=n()}catch(P){throw new c.ErrnoError(29)}if(D===void 0&&N===0)throw new c.ErrnoError(6);if(D==null)break;N++,v[F+x]=D}return N&&(g.node.timestamp=Date.now()),N},write:(g,v,F,R,B)=>{for(var N=0;N<R;N++)try{a(v[F+N])}catch(x){throw new c.ErrnoError(29)}return R&&(g.node.timestamp=Date.now()),N}}),c.mkdev(l,m,p)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(de)try{e.contents=Xe(de(e.url),!0),e.usedBytes=e.contents.length}catch(r){throw new c.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(e,r,n,a,l)=>{function m(){this.lengthKnown=!1,this.chunks=[]}if(m.prototype.get=function(x){if(!(x>this.length-1||x<0)){var D=x%this.chunkSize,P=x/this.chunkSize|0;return this.getter(P)[D]}},m.prototype.setDataGetter=function(x){this.getter=x},m.prototype.cacheLength=function(){var x=new XMLHttpRequest;if(x.open("HEAD",n,!1),x.send(null),!(x.status>=200&&x.status<300||x.status===304))throw new Error("Couldn't load "+n+". Status: "+x.status);var D=Number(x.getResponseHeader("Content-length")),P,q=(P=x.getResponseHeader("Accept-Ranges"))&&P==="bytes",z=(P=x.getResponseHeader("Content-Encoding"))&&P==="gzip",T=1024*1024;q||(T=D);var U=(J,me)=>{if(J>me)throw new Error("invalid range ("+J+", "+me+") or no bytes requested!");if(me>D-1)throw new Error("only "+D+" bytes available! programmer error!");var _e=new XMLHttpRequest;if(_e.open("GET",n,!1),D!==T&&_e.setRequestHeader("Range","bytes="+J+"-"+me),_e.responseType="arraybuffer",_e.overrideMimeType&&_e.overrideMimeType("text/plain; charset=x-user-defined"),_e.send(null),!(_e.status>=200&&_e.status<300||_e.status===304))throw new Error("Couldn't load "+n+". Status: "+_e.status);return _e.response!==void 0?new Uint8Array(_e.response||[]):Xe(_e.responseText||"",!0)},re=this;re.setDataGetter(J=>{var me=J*T,_e=(J+1)*T-1;if(_e=Math.min(_e,D-1),typeof re.chunks[J]>"u"&&(re.chunks[J]=U(me,_e)),typeof re.chunks[J]>"u")throw new Error("doXHR failed!");return re.chunks[J]}),(z||!D)&&(T=D=1,D=this.getter(0).length,T=D,Pe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=D,this._chunkSize=T,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!C)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var p=new m;Object.defineProperties(p,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var g={isDevice:!1,contents:p}}else var g={isDevice:!1,url:n};var v=c.createFile(e,r,g,a,l);g.contents?v.contents=g.contents:g.url&&(v.contents=null,v.url=g.url),Object.defineProperties(v,{usedBytes:{get:function(){return this.contents.length}}});var F={},R=Object.keys(v.stream_ops);R.forEach(N=>{var x=v.stream_ops[N];F[N]=function(){return c.forceLoadFile(v),x.apply(null,arguments)}});function B(N,x,D,P,q){var z=N.node.contents;if(q>=z.length)return 0;var T=Math.min(z.length-q,P);if(z.slice)for(var U=0;U<T;U++)x[D+U]=z[q+U];else for(var U=0;U<T;U++)x[D+U]=z.get(q+U);return T}return F.read=(N,x,D,P,q)=>(c.forceLoadFile(v),B(N,x,D,P,q)),F.mmap=(N,x,D,P,q)=>{c.forceLoadFile(v);var z=mt(x);if(!z)throw new c.ErrnoError(48);return B(N,V,z,x,D),{ptr:z,allocated:!0}},v.stream_ops=F,v}};function Te(e,r){return e>>>=0,e?We(ie,e,r):""}var $={DEFAULT_POLLMASK:5,calculateAt:function(e,r,n){if(oe.isAbs(r))return r;var a;if(e===-100)a=c.cwd();else{var l=$.getStreamFromFD(e);a=l.path}if(r.length==0){if(!n)throw new c.ErrnoError(44);return a}return oe.join2(a,r)},doStat:function(e,r,n){try{var a=e(r)}catch(g){if(g&&g.node&&oe.normalize(r)!==oe.normalize(c.getPath(g.node)))return-54;throw g}E[n>>>2]=a.dev,E[n+8>>>2]=a.ino,E[n+12>>>2]=a.mode,H[n+16>>>2]=a.nlink,E[n+20>>>2]=a.uid,E[n+24>>>2]=a.gid,E[n+28>>>2]=a.rdev,W=[a.size>>>0,(M=a.size,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[n+40>>>2]=W[0],E[n+44>>>2]=W[1],E[n+48>>>2]=4096,E[n+52>>>2]=a.blocks;var l=a.atime.getTime(),m=a.mtime.getTime(),p=a.ctime.getTime();return W=[Math.floor(l/1e3)>>>0,(M=Math.floor(l/1e3),+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[n+56>>>2]=W[0],E[n+60>>>2]=W[1],H[n+64>>>2]=l%1e3*1e3,W=[Math.floor(m/1e3)>>>0,(M=Math.floor(m/1e3),+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[n+72>>>2]=W[0],E[n+76>>>2]=W[1],H[n+80>>>2]=m%1e3*1e3,W=[Math.floor(p/1e3)>>>0,(M=Math.floor(p/1e3),+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[n+88>>>2]=W[0],E[n+92>>>2]=W[1],H[n+96>>>2]=p%1e3*1e3,W=[a.ino>>>0,(M=a.ino,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[n+104>>>2]=W[0],E[n+108>>>2]=W[1],0},doMsync:function(e,r,n,a,l){if(!c.isFile(r.node.mode))throw new c.ErrnoError(43);if(a&2)return 0;e>>>=0;var m=ie.slice(e,e+n);c.msync(r,m,l,n,a)},varargs:void 0,get:function(){$.varargs+=4;var e=E[$.varargs-4>>>2];return e},getStr:function(e){var r=Te(e);return r},getStreamFromFD:function(e){var r=c.getStream(e);if(!r)throw new c.ErrnoError(8);return r}};function Xr(e,r,n,a,l){try{for(var m=0,p=r?E[r>>>2]:0,g=r?E[r+4>>>2]:0,v=n?E[n>>>2]:0,F=n?E[n+4>>>2]:0,R=a?E[a>>>2]:0,B=a?E[a+4>>>2]:0,N=0,x=0,D=0,P=0,q=0,z=0,T=(r?E[r>>>2]:0)|(n?E[n>>>2]:0)|(a?E[a>>>2]:0),U=(r?E[r+4>>>2]:0)|(n?E[n+4>>>2]:0)|(a?E[a+4>>>2]:0),re=function(et,Pa,Na,ea){return et<32?Pa&ea:Na&ea},J=0;J<e;J++){var me=1<<J%32;if(re(J,T,U,me)){var _e=$.getStreamFromFD(J),_r=$.DEFAULT_POLLMASK;_e.stream_ops.poll&&(_r=_e.stream_ops.poll(_e)),_r&1&&re(J,p,g,me)&&(J<32?N=N|me:x=x|me,m++),_r&4&&re(J,v,F,me)&&(J<32?D=D|me:P=P|me,m++),_r&2&&re(J,R,B,me)&&(J<32?q=q|me:z=z|me,m++)}}return r&&(E[r>>>2]=N,E[r+4>>>2]=x),n&&(E[n>>>2]=D,E[n+4>>>2]=P),a&&(E[a>>>2]=q,E[a+4>>>2]=z),m}catch(et){if(typeof c>"u"||et.name!=="ErrnoError")throw et;return-et.errno}}var ce={mount:function(e){return o.websocket=o.websocket&&typeof o.websocket=="object"?o.websocket:{},o.websocket._callbacks={},o.websocket.on=function(r,n){return typeof n=="function"&&(this._callbacks[r]=n),this},o.websocket.emit=function(r,n){typeof this._callbacks[r]=="function"&&this._callbacks[r].call(this,n)},c.createNode(null,"/",16895,0)},createSocket:function(e,r,n){r&=-526337;var a=r==1;if(a&&n&&n!=6)throw new c.ErrnoError(66);var l={family:e,type:r,protocol:n,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:ce.websocket_sock_ops},m=ce.nextname(),p=c.createNode(ce.root,m,49152,0);p.sock=l;var g=c.createStream({path:m,node:p,flags:2,seekable:!1,stream_ops:ce.stream_ops});return l.stream=g,l},getSocket:function(e){var r=c.getStream(e);return!r||!c.isSocket(r.node.mode)?null:r.node.sock},stream_ops:{poll:function(e){var r=e.node.sock;return r.sock_ops.poll(r)},ioctl:function(e,r,n){var a=e.node.sock;return a.sock_ops.ioctl(a,r,n)},read:function(e,r,n,a,l){var m=e.node.sock,p=m.sock_ops.recvmsg(m,a);return p?(r.set(p.buffer,n),p.buffer.length):0},write:function(e,r,n,a,l){var m=e.node.sock;return m.sock_ops.sendmsg(m,r,n,a)},close:function(e){var r=e.node.sock;r.sock_ops.close(r)}},nextname:function(){return ce.nextname.current||(ce.nextname.current=0),"socket["+ce.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(e,r,n){var a;if(typeof r=="object"&&(a=r,r=null,n=null),a)if(a._socket)r=a._socket.remoteAddress,n=a._socket.remotePort;else{var l=/ws[s]?:\/\/([^:]+):(\d+)/.exec(a.url);if(!l)throw new Error("WebSocket URL must be in the format ws(s)://address:port");r=l[1],n=parseInt(l[2],10)}else try{var m=o.websocket&&typeof o.websocket=="object",p="ws:#".replace("#","//");if(m&&typeof o.websocket.url=="string"&&(p=o.websocket.url),p==="ws://"||p==="wss://"){var g=r.split("/");p=p+g[0]+":"+n+"/"+g.slice(1).join("/")}var v="binary";m&&typeof o.websocket.subprotocol=="string"&&(v=o.websocket.subprotocol);var F=void 0;v!=="null"&&(v=v.replace(/^ +| +$/g,"").split(/ *, */),F=v),m&&o.websocket.subprotocol===null&&(v="null",F=void 0);var R;O?R=lt():R=WebSocket,a=new R(p,F),a.binaryType="arraybuffer"}catch(N){throw new c.ErrnoError(23)}var B={addr:r,port:n,socket:a,dgram_send_queue:[]};return ce.websocket_sock_ops.addPeer(e,B),ce.websocket_sock_ops.handlePeerEvents(e,B),e.type===2&&typeof e.sport<"u"&&B.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(e.sport&65280)>>8,e.sport&255])),B},getPeer:function(e,r,n){return e.peers[r+":"+n]},addPeer:function(e,r){e.peers[r.addr+":"+r.port]=r},removePeer:function(e,r){delete e.peers[r.addr+":"+r.port]},handlePeerEvents:function(e,r){var n=!0,a=function(){o.websocket.emit("open",e.stream.fd);try{for(var m=r.dgram_send_queue.shift();m;)r.socket.send(m),m=r.dgram_send_queue.shift()}catch(p){r.socket.close()}};function l(m){if(typeof m=="string"){var p=new TextEncoder;m=p.encode(m)}else{if(we(m.byteLength!==void 0),m.byteLength==0)return;m=new Uint8Array(m)}var g=n;if(n=!1,g&&m.length===10&&m[0]===255&&m[1]===255&&m[2]===255&&m[3]===255&&m[4]==="p".charCodeAt(0)&&m[5]==="o".charCodeAt(0)&&m[6]==="r".charCodeAt(0)&&m[7]==="t".charCodeAt(0)){var v=m[8]<<8|m[9];ce.websocket_sock_ops.removePeer(e,r),r.port=v,ce.websocket_sock_ops.addPeer(e,r);return}e.recv_queue.push({addr:r.addr,port:r.port,data:m}),o.websocket.emit("message",e.stream.fd)}O?(r.socket.on("open",a),r.socket.on("message",function(m,p){p&&l(new Uint8Array(m).buffer)}),r.socket.on("close",function(){o.websocket.emit("close",e.stream.fd)}),r.socket.on("error",function(m){e.error=14,o.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])})):(r.socket.onopen=a,r.socket.onclose=function(){o.websocket.emit("close",e.stream.fd)},r.socket.onmessage=function(p){l(p.data)},r.socket.onerror=function(m){e.error=14,o.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])})},poll:function(e){if(e.type===1&&e.server)return e.pending.length?65:0;var r=0,n=e.type===1?ce.websocket_sock_ops.getPeer(e,e.daddr,e.dport):null;return(e.recv_queue.length||!n||n&&n.socket.readyState===n.socket.CLOSING||n&&n.socket.readyState===n.socket.CLOSED)&&(r|=65),(!n||n&&n.socket.readyState===n.socket.OPEN)&&(r|=4),(n&&n.socket.readyState===n.socket.CLOSING||n&&n.socket.readyState===n.socket.CLOSED)&&(r|=16),r},ioctl:function(e,r,n){switch(r){case 21531:var a=0;return e.recv_queue.length&&(a=e.recv_queue[0].data.length),E[n>>>2]=a,0;default:return 28}},close:function(e){if(e.server){try{e.server.close()}catch(l){}e.server=null}for(var r=Object.keys(e.peers),n=0;n<r.length;n++){var a=e.peers[r[n]];try{a.socket.close()}catch(l){}ce.websocket_sock_ops.removePeer(e,a)}return 0},bind:function(e,r,n){if(typeof e.saddr<"u"||typeof e.sport<"u")throw new c.ErrnoError(28);if(e.saddr=r,e.sport=n,e.type===2){e.server&&(e.server.close(),e.server=null);try{e.sock_ops.listen(e,0)}catch(a){if(a.name!=="ErrnoError"||a.errno!==138)throw a}}},connect:function(e,r,n){if(e.server)throw new c.ErrnoError(138);if(typeof e.daddr<"u"&&typeof e.dport<"u"){var a=ce.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(a)throw a.socket.readyState===a.socket.CONNECTING?new c.ErrnoError(7):new c.ErrnoError(30)}var l=ce.websocket_sock_ops.createPeer(e,r,n);throw e.daddr=l.addr,e.dport=l.port,new c.ErrnoError(26)},listen:function(e,r){if(!O)throw new c.ErrnoError(138);if(e.server)throw new c.ErrnoError(28);var n=lt().Server,a=e.saddr;e.server=new n({host:a,port:e.sport}),o.websocket.emit("listen",e.stream.fd),e.server.on("connection",function(l){if(e.type===1){var m=ce.createSocket(e.family,e.type,e.protocol),p=ce.websocket_sock_ops.createPeer(m,l);m.daddr=p.addr,m.dport=p.port,e.pending.push(m),o.websocket.emit("connection",m.stream.fd)}else ce.websocket_sock_ops.createPeer(e,l),o.websocket.emit("connection",e.stream.fd)}),e.server.on("close",function(){o.websocket.emit("close",e.stream.fd),e.server=null}),e.server.on("error",function(l){e.error=23,o.websocket.emit("error",[e.stream.fd,e.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(e){if(!e.server||!e.pending.length)throw new c.ErrnoError(28);var r=e.pending.shift();return r.stream.flags=e.stream.flags,r},getname:function(e,r){var n,a;if(r){if(e.daddr===void 0||e.dport===void 0)throw new c.ErrnoError(53);n=e.daddr,a=e.dport}else n=e.saddr||0,a=e.sport||0;return{addr:n,port:a}},sendmsg:function(e,r,n,a,l,m){if(e.type===2){if((l===void 0||m===void 0)&&(l=e.daddr,m=e.dport),l===void 0||m===void 0)throw new c.ErrnoError(17)}else l=e.daddr,m=e.dport;var p=ce.websocket_sock_ops.getPeer(e,l,m);if(e.type===1){if(!p||p.socket.readyState===p.socket.CLOSING||p.socket.readyState===p.socket.CLOSED)throw new c.ErrnoError(53);if(p.socket.readyState===p.socket.CONNECTING)throw new c.ErrnoError(6)}ArrayBuffer.isView(r)&&(n+=r.byteOffset,r=r.buffer);var g;if(g=r.slice(n,n+a),e.type===2&&(!p||p.socket.readyState!==p.socket.OPEN))return(!p||p.socket.readyState===p.socket.CLOSING||p.socket.readyState===p.socket.CLOSED)&&(p=ce.websocket_sock_ops.createPeer(e,l,m)),p.dgram_send_queue.push(g),a;try{return p.socket.send(g),a}catch(v){throw new c.ErrnoError(28)}},recvmsg:function(e,r){if(e.type===1&&e.server)throw new c.ErrnoError(53);var n=e.recv_queue.shift();if(!n){if(e.type===1){var a=ce.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(!a)throw new c.ErrnoError(53);if(a.socket.readyState===a.socket.CLOSING||a.socket.readyState===a.socket.CLOSED)return null;throw new c.ErrnoError(6)}throw new c.ErrnoError(6)}var l=n.data.byteLength||n.data.length,m=n.data.byteOffset||0,p=n.data.buffer||n.data,g=Math.min(r,l),v={buffer:new Uint8Array(p,m,g),addr:n.addr,port:n.port};if(e.type===1&&g<l){var F=l-g;n.data=new Uint8Array(p,m+g,F),e.recv_queue.unshift(n)}return v}}};function qe(e){var r=ce.getSocket(e);if(!r)throw new c.ErrnoError(8);return r}function br(e){return E[lr()>>>2]=e,e}function $e(e){return(e&255)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function wr(e){var r="",n=0,a=0,l=0,m=0,p=0,g=0,v=[e[0]&65535,e[0]>>16,e[1]&65535,e[1]>>16,e[2]&65535,e[2]>>16,e[3]&65535,e[3]>>16],F=!0,R="";for(g=0;g<5;g++)if(v[g]!==0){F=!1;break}if(F){if(R=$e(v[6]|v[7]<<16),v[5]===-1)return r="::ffff:",r+=R,r;if(v[5]===0)return r="::",R==="0.0.0.0"&&(R=""),R==="0.0.0.1"&&(R="1"),r+=R,r}for(n=0;n<8;n++)v[n]===0&&(n-l>1&&(p=0),l=n,p++),p>a&&(a=p,m=n-a+1);for(n=0;n<8;n++){if(a>1&&v[n]===0&&n>=m&&n<m+a){n===m&&(r+=":",m===0&&(r+=":"));continue}r+=Number(Rr(v[n]&65535)).toString(16),r+=n<7?":":""}return r}function Ee(e,r){var n=ae[e>>>1],a=Rr(le[e+2>>>1]),l;switch(n){case 2:if(r!==16)return{errno:28};l=E[e+4>>>2],l=$e(l);break;case 10:if(r!==28)return{errno:28};l=[E[e+8>>>2],E[e+12>>>2],E[e+16>>>2],E[e+20>>>2]],l=wr(l);break;default:return{errno:5}}return{family:n,addr:l,port:a}}function Ke(e){for(var r=e.split("."),n=0;n<4;n++){var a=Number(r[n]);if(isNaN(a))return null;r[n]=a}return(r[0]|r[1]<<8|r[2]<<16|r[3]<<24)>>>0}function gr(e){return parseInt(e)}function Gr(e){var r,n,a,l,m=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,p=[];if(!m.test(e))return null;if(e==="::")return[0,0,0,0,0,0,0,0];for(e.startsWith("::")?e=e.replace("::","Z:"):e=e.replace("::",":Z:"),e.indexOf(".")>0?(e=e.replace(new RegExp("[.]","g"),":"),r=e.split(":"),r[r.length-4]=gr(r[r.length-4])+gr(r[r.length-3])*256,r[r.length-3]=gr(r[r.length-2])+gr(r[r.length-1])*256,r=r.slice(0,r.length-2)):r=e.split(":"),a=0,l=0,n=0;n<r.length;n++)if(typeof r[n]=="string")if(r[n]==="Z"){for(l=0;l<8-r.length+1;l++)p[n+l]=0;a=l-1}else p[n+a]=cr(parseInt(r[n],16));else p[n+a]=r[n];return[p[1]<<16|p[0],p[3]<<16|p[2],p[5]<<16|p[4],p[7]<<16|p[6]]}var ke={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var r=Ke(e);if(r!==null||(r=Gr(e),r!==null))return e;var n;if(ke.address_map.addrs[e])n=ke.address_map.addrs[e];else{var a=ke.address_map.id++;we(a<65535,"exceeded max address mappings of 65535"),n="172.29."+(a&255)+"."+(a&65280),ke.address_map.names[n]=e,ke.address_map.addrs[e]=n}return n},lookup_addr:function(e){return ke.address_map.names[e]?ke.address_map.names[e]:null}};function $r(e,r,n){if(n&&e===0)return null;var a=Ee(e,r);if(a.errno)throw new c.ErrnoError(a.errno);return a.addr=ke.lookup_addr(a.addr)||a.addr,a}function kn(e,r,n,a,l,m){try{var p=qe(e),g=$r(r,n);return p.sock_ops.bind(p,g.addr,g.port),0}catch(v){if(typeof c>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}function yr(e,r,n,a,l,m){try{var p=qe(e),g=$r(r,n);return p.sock_ops.connect(p,g.addr,g.port),0}catch(v){if(typeof c>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}function Sn(e,r,n,a){try{if(r=$.getStr(r),r=$.calculateAt(e,r),n&-8)return-28;var l=c.lookupPath(r,{follow:!0}),m=l.node;if(!m)return-44;var p="";return n&4&&(p+="r"),n&2&&(p+="w"),n&1&&(p+="x"),p&&c.nodePermissions(m,p)?-2:0}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function tr(e,r,n){$.varargs=n;try{var a=$.getStreamFromFD(e);switch(r){case 0:{var l=$.get();if(l<0)return-28;var m;return m=c.createStream(a,l),m.fd}case 1:case 2:return 0;case 3:return a.flags;case 4:{var l=$.get();return a.flags|=l,0}case 5:{var l=$.get(),p=0;return ae[l+p>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return br(28),-1;default:return-28}}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Dn(e,r){try{var n=$.getStreamFromFD(e);return $.doStat(c.stat,n.path,r)}catch(a){if(typeof c>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Ye(e,r){return r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN}function Fn(e,r,n){try{var a=Ye(r,n);return isNaN(a)?-61:(c.ftruncate(e,a),0)}catch(l){if(typeof c>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function nr(e,r,n){return Ce(e,ie,r,n)}function An(e,r,n){try{var a=$.getStreamFromFD(e);a.getdents||(a.getdents=c.readdir(a.path));for(var l=280,m=0,p=c.llseek(a,0,1),g=Math.floor(p/l);g<a.getdents.length&&m+l<=n;){var v,F,R=a.getdents[g];if(R===".")v=a.node.id,F=4;else if(R===".."){var B=c.lookupPath(a.path,{parent:!0});v=B.node.id,F=4}else{var N=c.lookupNode(a.node,R);v=N.id,F=c.isChrdev(N.mode)?2:c.isDir(N.mode)?4:c.isLink(N.mode)?10:8}W=[v>>>0,(M=v,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[r+m>>>2]=W[0],E[r+m+4>>>2]=W[1],W=[(g+1)*l>>>0,(M=(g+1)*l,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[r+m+8>>>2]=W[0],E[r+m+12>>>2]=W[1],ae[r+m+16>>>1]=280,V[r+m+18>>>0]=F,nr(R,r+m+19,256),m+=l,g+=1}return c.llseek(a,g*l,0),m}catch(x){if(typeof c>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function Kr(e,r,n,a,l){switch(r){case 2:n=Ke(n),Wr(e,16),l&&(E[l>>>2]=16),ae[e>>>1]=r,E[e+4>>>2]=n,ae[e+2>>>1]=cr(a);break;case 10:n=Gr(n),Wr(e,28),l&&(E[l>>>2]=28),E[e>>>2]=r,E[e+8>>>2]=n[0],E[e+12>>>2]=n[1],E[e+16>>>2]=n[2],E[e+20>>>2]=n[3],ae[e+2>>>1]=cr(a);break;default:return 5}return 0}function Rn(e,r,n,a,l,m){try{var p=qe(e);if(!p.daddr)return-53;var g=Kr(r,p.family,ke.lookup_name(p.daddr),p.dport,n);return 0}catch(v){if(typeof c>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}function Tn(e,r,n,a,l,m){try{var p=qe(e);return r===1&&n===4?(E[a>>>2]=p.error,E[l>>>2]=4,p.error=null,0):-50}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Mn(e,r,n){$.varargs=n;try{var a=$.getStreamFromFD(e);switch(r){case 21509:case 21505:return a.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return a.tty?0:-59;case 21519:{if(!a.tty)return-59;var l=$.get();return E[l>>>2]=0,0}case 21520:return a.tty?-28:-59;case 21531:{var l=$.get();return c.ioctl(a,r,l)}case 21523:return a.tty?0:-59;case 21524:return a.tty?0:-59;default:return-28}}catch(m){if(typeof c>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function Cn(e,r){try{return e=$.getStr(e),$.doStat(c.lstat,e,r)}catch(n){if(typeof c>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function Pn(e,r,n){try{return r=$.getStr(r),r=$.calculateAt(e,r),r=oe.normalize(r),r[r.length-1]==="/"&&(r=r.substr(0,r.length-1)),c.mkdir(r,n,0),0}catch(a){if(typeof c>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Nn(e,r,n,a){try{r=$.getStr(r);var l=a&256,m=a&4096;return a=a&-6401,r=$.calculateAt(e,r,m),$.doStat(l?c.lstat:c.stat,r,n)}catch(p){if(typeof c>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function xn(e,r,n,a){$.varargs=a;try{r=$.getStr(r),r=$.calculateAt(e,r);var l=a?$.get():0;return c.open(r,n,l).fd}catch(m){if(typeof c>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function Un(e,r,n,a,l,m){try{var p=qe(e),g=p.sock_ops.recvmsg(p,n);if(!g)return 0;if(l)var v=Kr(l,p.family,ke.lookup_name(g.addr),g.port,m);return ie.set(g.buffer,r>>>0),g.buffer.byteLength}catch(F){if(typeof c>"u"||F.name!=="ErrnoError")throw F;return-F.errno}}function Bn(e,r,n,a){try{return r=$.getStr(r),a=$.getStr(a),r=$.calculateAt(e,r),a=$.calculateAt(n,a),c.rename(r,a),0}catch(l){if(typeof c>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function On(e){try{return e=$.getStr(e),c.rmdir(e),0}catch(r){if(typeof c>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Hn(e,r,n,a,l,m){try{var p=qe(e),g=$r(l,m,!0);return g?p.sock_ops.sendmsg(p,V,r,n,g.addr,g.port):c.write(p.stream,V,r,n)}catch(v){if(typeof c>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}function Ln(e,r,n){try{var a=ce.createSocket(e,r,n);return a.stream.fd}catch(l){if(typeof c>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function In(e,r){try{return e=$.getStr(e),$.doStat(c.stat,e,r)}catch(n){if(typeof c>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function or(e,r,n){try{return r=$.getStr(r),r=$.calculateAt(e,r),n===0?c.unlink(r):n===512?c.rmdir(r):I("Invalid flags passed to unlinkat"),0}catch(a){if(typeof c>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}var zn=!0;function Wn(){return zn}function qn(e){return H[e>>>2]+E[e+4>>>2]*4294967296}function ir(e){return e%4===0&&(e%100!==0||e%400===0)}var pt=[0,31,60,91,121,152,182,213,244,274,305,335],jn=[0,31,59,90,120,151,181,212,243,273,304,334];function Xn(e){var r=ir(e.getFullYear()),n=r?pt:jn,a=n[e.getMonth()]+e.getDate()-1;return a}function Gn(e,r){var n=new Date(qn(e)*1e3);E[r>>>2]=n.getSeconds(),E[r+4>>>2]=n.getMinutes(),E[r+8>>>2]=n.getHours(),E[r+12>>>2]=n.getDate(),E[r+16>>>2]=n.getMonth(),E[r+20>>>2]=n.getFullYear()-1900,E[r+24>>>2]=n.getDay();var a=Xn(n)|0;E[r+28>>>2]=a,E[r+36>>>2]=-(n.getTimezoneOffset()*60);var l=new Date(n.getFullYear(),0,1),m=new Date(n.getFullYear(),6,1).getTimezoneOffset(),p=l.getTimezoneOffset(),g=(m!=p&&n.getTimezoneOffset()==Math.min(p,m))|0;E[r+32>>>2]=g}function ht(e){var r=Ue(e)+1,n=Ve(r);return n&&nr(e,n,r),n}function $n(e,r,n){var a=new Date().getFullYear(),l=new Date(a,0,1),m=new Date(a,6,1),p=l.getTimezoneOffset(),g=m.getTimezoneOffset(),v=Math.max(p,g);H[e>>>2]=v*60,E[r>>>2]=+(p!=g);function F(D){var P=D.toTimeString().match(/\(([A-Za-z ]+)\)$/);return P?P[1]:"GMT"}var R=F(l),B=F(m),N=ht(R),x=ht(B);g<p?(H[n>>>2]=N,H[n+4>>>2]=x):(H[n>>>2]=x,H[n+4>>>2]=N)}function Kn(){I("")}function Yn(e,r){I(hr)}function Vn(e,r){return globalThis.DUCKDB_RUNTIME.createDirectory(o,e,r)}function Jn(e,r){return globalThis.DUCKDB_RUNTIME.checkDirectory(o,e,r)}function Qn(e,r){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(o,e,r)}function Zn(e,r){return globalThis.DUCKDB_RUNTIME.removeDirectory(o,e,r)}function eo(e){return globalThis.DUCKDB_RUNTIME.closeFile(o,e)}function ro(e,r,n,a){return globalThis.DUCKDB_RUNTIME.checkFile(o,e,r,n,a)}function to(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(o,e)}function no(e,r,n,a){return globalThis.DUCKDB_RUNTIME.moveFile(o,e,r,n,a)}function oo(e,r){return globalThis.DUCKDB_RUNTIME.openFile(o,e,r)}function io(e,r,n,a){return globalThis.DUCKDB_RUNTIME.readFile(o,e,r,n,a)}function ao(e,r){return globalThis.DUCKDB_RUNTIME.truncateFile(o,e,r)}function so(e,r,n,a){return globalThis.DUCKDB_RUNTIME.writeFile(o,e,r,n,a)}function uo(e){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(e)}function bt(e,r){return globalThis.DUCKDB_RUNTIME.glob(o,e,r)}function lo(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(o,e)}function wt(e,r,n,a,l,m){return globalThis.DUCKDB_RUNTIME.callScalarUDF(o,e,r,n,a,l,m)}function co(){return Date.now()}function gt(){return 4294901760}function fo(){return gt()}var vr;O&&(global.performance=Ki().performance),vr=()=>performance.now();function _o(e,r,n){ie.copyWithin(e>>>0,r>>>0,r+n>>>0)}function ar(e){var r=Ae.buffer,n=e-r.byteLength+65535>>>16;try{return Ae.grow(n),Pr(),1}catch(a){}}function mo(e){var r=ie.length;e=e>>>0;var n=gt();if(e>n)return!1;for(var a=(v,F)=>v+(F-v%F)%F,l=1;l<=4;l*=2){var m=r*(1+.2/l);m=Math.min(m,e+100663296);var p=Math.min(n,a(Math.max(e,m),65536)),g=ar(p);if(g)return!0}return!1}var Yr={};function po(){return k||"./this.program"}function sr(){if(!sr.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:po()};for(var n in Yr)Yr[n]===void 0?delete r[n]:r[n]=Yr[n];var a=[];for(var n in r)a.push("".concat(n,"=").concat(r[n]));sr.strings=a}return sr.strings}function ho(e,r){for(var n=0;n<e.length;++n)V[r++>>>0]=e.charCodeAt(n);V[r>>>0]=0}function yt(e,r){var n=0;return sr().forEach(function(a,l){var m=r+n;H[e+l*4>>>2]=m,ho(a,m),n+=a.length+1}),0}function bo(e,r){var n=sr();H[e>>>2]=n.length;var a=0;return n.forEach(function(l){a+=l.length+1}),H[r>>>2]=a,0}function vt(e){try{var r=$.getStreamFromFD(e);return c.close(r),0}catch(n){if(typeof c>"u"||n.name!=="ErrnoError")throw n;return n.errno}}function wo(e,r){try{var n=0,a=0,l=0,m=$.getStreamFromFD(e),p=m.tty?2:c.isDir(m.mode)?3:c.isLink(m.mode)?7:4;return V[r>>>0]=p,ae[r+2>>>1]=l,W=[n>>>0,(M=n,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[r+8>>>2]=W[0],E[r+12>>>2]=W[1],W=[a>>>0,(M=a,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[r+16>>>2]=W[0],E[r+20>>>2]=W[1],0}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function Et(e,r,n,a){for(var l=0,m=0;m<n;m++){var p=H[r>>>2],g=H[r+4>>>2];r+=8;var v=c.read(e,V,p,g,a);if(v<0)return-1;if(l+=v,v<g)break;typeof a<"u"&&(a+=v)}return l}function go(e,r,n,a,l,m){try{var p=Ye(a,l);if(isNaN(p))return 61;var g=$.getStreamFromFD(e),v=Et(g,r,n,p);return H[m>>>2]=v,0}catch(F){if(typeof c>"u"||F.name!=="ErrnoError")throw F;return F.errno}}function kt(e,r,n,a){for(var l=0,m=0;m<n;m++){var p=H[r>>>2],g=H[r+4>>>2];r+=8;var v=c.write(e,V,p,g,a);if(v<0)return-1;l+=v,typeof a<"u"&&(a+=v)}return l}function yo(e,r,n,a,l,m){try{var p=Ye(a,l);if(isNaN(p))return 61;var g=$.getStreamFromFD(e),v=kt(g,r,n,p);return H[m>>>2]=v,0}catch(F){if(typeof c>"u"||F.name!=="ErrnoError")throw F;return F.errno}}function vo(e,r,n,a){try{var l=$.getStreamFromFD(e),m=Et(l,r,n);return H[a>>>2]=m,0}catch(p){if(typeof c>"u"||p.name!=="ErrnoError")throw p;return p.errno}}function Eo(e,r,n,a,l){try{var m=Ye(r,n);if(isNaN(m))return 61;var p=$.getStreamFromFD(e);return c.llseek(p,m,a),W=[p.position>>>0,(M=p.position,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[l>>>2]=W[0],E[l+4>>>2]=W[1],p.getdents&&m===0&&a===0&&(p.getdents=null),0}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function ko(e){try{var r=$.getStreamFromFD(e);return r.stream_ops&&r.stream_ops.fsync?r.stream_ops.fsync(r):0}catch(n){if(typeof c>"u"||n.name!=="ErrnoError")throw n;return n.errno}}function So(e,r,n,a){try{var l=$.getStreamFromFD(e),m=kt(l,r,n);return H[a>>>2]=m,0}catch(p){if(typeof c>"u"||p.name!=="ErrnoError")throw p;return p.errno}}function St(e,r,n,a){var l=0,m=0,p=0,g=0,v=0,F=0,R;function B(N,x,D,P,q,z){var T,U,re,J;return U=N===10?28:16,q=N===10?wr(q):$e(q),T=Ve(U),J=Kr(T,N,q,z),we(!J),re=Ve(32),E[re+4>>>2]=N,E[re+8>>>2]=x,E[re+12>>>2]=D,H[re+24>>>2]=P,H[re+20>>>2]=T,N===10?E[re+16>>>2]=28:E[re+16>>>2]=16,E[re+28>>>2]=0,re}if(n&&(p=E[n>>>2],g=E[n+4>>>2],v=E[n+8>>>2],F=E[n+12>>>2]),v&&!F&&(F=v===2?17:6),!v&&F&&(v=F===17?2:1),F===0&&(F=6),v===0&&(v=1),!e&&!r)return-2;if(p&-1088||n!==0&&E[n>>>2]&2&&!e)return-1;if(p&32)return-2;if(v!==0&&v!==1&&v!==2)return-7;if(g!==0&&g!==2&&g!==10)return-6;if(r&&(r=Te(r),m=parseInt(r,10),isNaN(m)))return p&1024?-2:-8;if(!e)return g===0&&(g=2),p&1||(g===2?l=Ar(2130706433):l=[0,0,0,1]),R=B(g,v,F,null,l,m),H[a>>>2]=R,0;if(e=Te(e),l=Ke(e),l!==null)if(g===0||g===2)g=2;else if(g===10&&p&8)l=[0,0,Ar(65535),l],g=10;else return-2;else if(l=Gr(e),l!==null)if(g===0||g===10)g=10;else return-2;return l!=null?(R=B(g,v,F,e,l,m),H[a>>>2]=R,0):p&4?-2:(e=ke.lookup_name(e),l=Ke(e),g===0?g=2:g===10&&(l=[0,0,Ar(65535),l]),R=B(g,v,F,null,l,m),H[a>>>2]=R,0)}function Dt(e,r){return je(ie.subarray(e>>>0,e+r>>>0)),0}function Do(e,r,n,a,l,m,p){var g=Ee(e,r);if(g.errno)return-6;var v=g.port,F=g.addr,R=!1;if(n&&a){var B;if(p&1||!(B=ke.lookup_addr(F))){if(p&8)return-2}else F=B;var N=nr(F,n,a);N+1>=a&&(R=!0)}if(l&&m){v=""+v;var N=nr(v,l,m);N+1>=m&&(R=!0)}return R?-12:0}function Ft(e,r){for(var n=0,a=0;a<=r;n+=e[a++]);return n}var At=[31,29,31,30,31,30,31,31,30,31,30,31],Rt=[31,28,31,30,31,30,31,31,30,31,30,31];function Fo(e,r){for(var n=new Date(e.getTime());r>0;){var a=ir(n.getFullYear()),l=n.getMonth(),m=(a?At:Rt)[l];if(r>m-n.getDate())r-=m-n.getDate()+1,n.setDate(1),l<11?n.setMonth(l+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+r),n}return n}function Tt(e,r){V.set(e,r>>>0)}function Ao(e,r,n,a){var l=E[a+40>>>2],m={tm_sec:E[a>>>2],tm_min:E[a+4>>>2],tm_hour:E[a+8>>>2],tm_mday:E[a+12>>>2],tm_mon:E[a+16>>>2],tm_year:E[a+20>>>2],tm_wday:E[a+24>>>2],tm_yday:E[a+28>>>2],tm_isdst:E[a+32>>>2],tm_gmtoff:E[a+36>>>2],tm_zone:l?Te(l):""},p=Te(n),g={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var v in g)p=p.replace(new RegExp(v,"g"),g[v]);var F=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["January","February","March","April","May","June","July","August","September","October","November","December"];function B(T,U,re){for(var J=typeof T=="number"?T.toString():T||"";J.length<U;)J=re[0]+J;return J}function N(T,U){return B(T,U,"0")}function x(T,U){function re(me){return me<0?-1:me>0?1:0}var J;return(J=re(T.getFullYear()-U.getFullYear()))===0&&(J=re(T.getMonth()-U.getMonth()))===0&&(J=re(T.getDate()-U.getDate())),J}function D(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function P(T){var U=Fo(new Date(T.tm_year+1900,0,1),T.tm_yday),re=new Date(U.getFullYear(),0,4),J=new Date(U.getFullYear()+1,0,4),me=D(re),_e=D(J);return x(me,U)<=0?x(_e,U)<=0?U.getFullYear()+1:U.getFullYear():U.getFullYear()-1}var q={"%a":function(T){return F[T.tm_wday].substring(0,3)},"%A":function(T){return F[T.tm_wday]},"%b":function(T){return R[T.tm_mon].substring(0,3)},"%B":function(T){return R[T.tm_mon]},"%C":function(T){var U=T.tm_year+1900;return N(U/100|0,2)},"%d":function(T){return N(T.tm_mday,2)},"%e":function(T){return B(T.tm_mday,2," ")},"%g":function(T){return P(T).toString().substring(2)},"%G":function(T){return P(T)},"%H":function(T){return N(T.tm_hour,2)},"%I":function(T){var U=T.tm_hour;return U==0?U=12:U>12&&(U-=12),N(U,2)},"%j":function(T){return N(T.tm_mday+Ft(ir(T.tm_year+1900)?At:Rt,T.tm_mon-1),3)},"%m":function(T){return N(T.tm_mon+1,2)},"%M":function(T){return N(T.tm_min,2)},"%n":function(){return"\n"},"%p":function(T){return T.tm_hour>=0&&T.tm_hour<12?"AM":"PM"},"%S":function(T){return N(T.tm_sec,2)},"%t":function(){return"	"},"%u":function(T){return T.tm_wday||7},"%U":function(T){var U=T.tm_yday+7-T.tm_wday;return N(Math.floor(U/7),2)},"%V":function(T){var U=Math.floor((T.tm_yday+7-(T.tm_wday+6)%7)/7);if((T.tm_wday+371-T.tm_yday-2)%7<=2&&U++,U){if(U==53){var J=(T.tm_wday+371-T.tm_yday)%7;J!=4&&(J!=3||!ir(T.tm_year))&&(U=1)}}else{U=52;var re=(T.tm_wday+7-T.tm_yday-1)%7;(re==4||re==5&&ir(T.tm_year%400-1))&&U++}return N(U,2)},"%w":function(T){return T.tm_wday},"%W":function(T){var U=T.tm_yday+7-(T.tm_wday+6)%7;return N(Math.floor(U/7),2)},"%y":function(T){return(T.tm_year+1900).toString().substring(2)},"%Y":function(T){return T.tm_year+1900},"%z":function(T){var U=T.tm_gmtoff,re=U>=0;return U=Math.abs(U)/60,U=U/60*100+U%60,(re?"+":"-")+("0000"+U).slice(-4)},"%Z":function(T){return T.tm_zone},"%%":function(){return"%"}};p=p.replace(/%%/g,"\0\0");for(var v in q)p.includes(v)&&(p=p.replace(new RegExp(v,"g"),q[v](m)));p=p.replace(/\0\0/g,"%");var z=Xe(p,!1);return z.length>r?0:(Tt(z,e),z.length-1)}function Ro(e,r,n,a,l){return Ao(e,r,n,a)}function To(){L("missing function: unzClose"),I(-1)}function Mo(){L("missing function: unzCloseCurrentFile"),I(-1)}function Co(){L("missing function: unzGetCurrentFileInfo"),I(-1)}function Po(){L("missing function: unzGetCurrentFileInfo64"),I(-1)}function No(){L("missing function: unzGetGlobalInfo"),I(-1)}function xo(){L("missing function: unzGoToFirstFile"),I(-1)}function Uo(){L("missing function: unzGoToNextFile"),I(-1)}function Bo(){L("missing function: unzLocateFile"),I(-1)}function Oo(){L("missing function: unzOpen2"),I(-1)}function Ho(){L("missing function: unzOpenCurrentFile"),I(-1)}function Lo(){L("missing function: unzReadCurrentFile"),I(-1)}function Io(e){he=e,Vt()||(o.onExit&&o.onExit(e),ee=!0),S(e,new Ir(e))}function zo(e,r){he=e,Io(e)}function Mt(e){if(e instanceof Ir||e=="unwind")return he;S(1,e)}function Er(e){var r=o["_"+e];return r}function kr(e){var r=Ue(e)+1,n=dr(r);return nr(e,n,r),n}function Wo(e,r,n,a,l){var m={string:D=>{var P=0;return D!=null&&D!==0&&(P=kr(D)),P},array:D=>{var P=dr(D.length);return Tt(D,P),P}};function p(D){return r==="string"?Te(D):r==="boolean"?!!D:D}var g=Er(e),v=[],F=0;if(a)for(var R=0;R<a.length;R++){var B=m[n[R]];B?(F===0&&(F=Je()),v[R]=B(a[R])):v[R]=a[R]}var N=g.apply(null,v);function x(D){return F!==0&&Qr(F),p(D)}return N=x(N),N}var qo=function(e,r,n,a){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=c.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=a},Sr=365,ur=146;Object.defineProperties(qo.prototype,{read:{get:function(){return(this.mode&Sr)===Sr},set:function(e){e?this.mode|=Sr:this.mode&=~Sr}},write:{get:function(){return(this.mode&ur)===ur},set:function(e){e?this.mode|=ur:this.mode&=~ur}},isFolder:{get:function(){return c.isDir(this.mode)}},isDevice:{get:function(){return c.isChrdev(this.mode)}}}),c.FSNode=qo,c.createPreloadedFile=Ge,c.staticInit();var jo={g:ln,T:cn,U:fn,m:dn,o:_n,c:mn,z:pn,f:hn,b:bn,n:wn,h:gn,a:yn,Aa:xe,ua:Xr,ya:kn,xa:yr,qa:Sn,d:tr,pa:Dn,N:Fn,ka:An,sa:Rn,ta:Tn,I:Mn,ma:Cn,la:Pn,na:Nn,J:xn,va:Un,ia:Bn,D:On,wa:Hn,F:Ln,oa:In,E:or,Ca:Wn,W:Gn,X:$n,e:Kn,Ba:Yn,ba:Vn,ca:Jn,$:Qn,aa:Zn,B:eo,Z:ro,M:to,_:no,ea:oo,p:io,da:ao,C:so,fa:uo,Y:bt,A:lo,ga:wt,K:co,Da:fo,i:vr,za:_o,Fa:mo,L:yt,R:bo,k:vt,V:wo,P:go,O:yo,H:vo,Q:Eo,ja:ko,u:So,G:St,ha:Dt,ra:Do,Ea:Ro,j:To,t:Mo,x:Co,q:Po,S:No,y:xo,w:Uo,s:Bo,v:Oo,r:Ho,l:Lo},Zi=un(),Xo=function(){return(Xo=o.asm.Ha).apply(null,arguments)},Ct=o._main=function(){return(Ct=o._main=o.asm.Ia).apply(null,arguments)},Go=o._duckdb_web_fs_glob_add_path=function(){return(Go=o._duckdb_web_fs_glob_add_path=o.asm.Ka).apply(null,arguments)},$o=o._duckdb_web_clear_response=function(){return($o=o._duckdb_web_clear_response=o.asm.La).apply(null,arguments)},Ko=o._duckdb_web_fail_with=function(){return(Ko=o._duckdb_web_fail_with=o.asm.Ma).apply(null,arguments)},Yo=o._duckdb_web_reset=function(){return(Yo=o._duckdb_web_reset=o.asm.Na).apply(null,arguments)},Vo=o._duckdb_web_connect=function(){return(Vo=o._duckdb_web_connect=o.asm.Oa).apply(null,arguments)},Jo=o._duckdb_web_disconnect=function(){return(Jo=o._duckdb_web_disconnect=o.asm.Pa).apply(null,arguments)},Qo=o._duckdb_web_flush_files=function(){return(Qo=o._duckdb_web_flush_files=o.asm.Qa).apply(null,arguments)},Zo=o._duckdb_web_flush_file=function(){return(Zo=o._duckdb_web_flush_file=o.asm.Ra).apply(null,arguments)},ei=o._duckdb_web_open=function(){return(ei=o._duckdb_web_open=o.asm.Sa).apply(null,arguments)},ri=o._duckdb_web_get_global_file_info=function(){return(ri=o._duckdb_web_get_global_file_info=o.asm.Ta).apply(null,arguments)},ti=o._duckdb_web_collect_file_stats=function(){return(ti=o._duckdb_web_collect_file_stats=o.asm.Ua).apply(null,arguments)},ni=o._duckdb_web_export_file_stats=function(){return(ni=o._duckdb_web_export_file_stats=o.asm.Va).apply(null,arguments)},oi=o._duckdb_web_fs_drop_file=function(){return(oi=o._duckdb_web_fs_drop_file=o.asm.Wa).apply(null,arguments)},ii=o._duckdb_web_fs_drop_files=function(){return(ii=o._duckdb_web_fs_drop_files=o.asm.Xa).apply(null,arguments)},ai=o._duckdb_web_fs_glob_file_infos=function(){return(ai=o._duckdb_web_fs_glob_file_infos=o.asm.Ya).apply(null,arguments)},si=o._duckdb_web_fs_get_file_info_by_id=function(){return(si=o._duckdb_web_fs_get_file_info_by_id=o.asm.Za).apply(null,arguments)},ui=o._duckdb_web_fs_get_file_info_by_name=function(){return(ui=o._duckdb_web_fs_get_file_info_by_name=o.asm._a).apply(null,arguments)},li=o._duckdb_web_fs_register_file_url=function(){return(li=o._duckdb_web_fs_register_file_url=o.asm.$a).apply(null,arguments)},ci=o._duckdb_web_fs_register_file_buffer=function(){return(ci=o._duckdb_web_fs_register_file_buffer=o.asm.ab).apply(null,arguments)},fi=o._duckdb_web_copy_file_to_buffer=function(){return(fi=o._duckdb_web_copy_file_to_buffer=o.asm.bb).apply(null,arguments)},di=o._duckdb_web_copy_file_to_path=function(){return(di=o._duckdb_web_copy_file_to_path=o.asm.cb).apply(null,arguments)},_i=o._duckdb_web_get_version=function(){return(_i=o._duckdb_web_get_version=o.asm.db).apply(null,arguments)},mi=o._duckdb_web_get_feature_flags=function(){return(mi=o._duckdb_web_get_feature_flags=o.asm.eb).apply(null,arguments)},pi=o._duckdb_web_tokenize=function(){return(pi=o._duckdb_web_tokenize=o.asm.fb).apply(null,arguments)},hi=o._duckdb_web_udf_scalar_create=function(){return(hi=o._duckdb_web_udf_scalar_create=o.asm.gb).apply(null,arguments)},bi=o._duckdb_web_prepared_create=function(){return(bi=o._duckdb_web_prepared_create=o.asm.hb).apply(null,arguments)},wi=o._duckdb_web_prepared_close=function(){return(wi=o._duckdb_web_prepared_close=o.asm.ib).apply(null,arguments)},gi=o._duckdb_web_prepared_run=function(){return(gi=o._duckdb_web_prepared_run=o.asm.jb).apply(null,arguments)},yi=o._duckdb_web_prepared_send=function(){return(yi=o._duckdb_web_prepared_send=o.asm.kb).apply(null,arguments)},vi=o._duckdb_web_query_run=function(){return(vi=o._duckdb_web_query_run=o.asm.lb).apply(null,arguments)},Ei=o._duckdb_web_pending_query_start=function(){return(Ei=o._duckdb_web_pending_query_start=o.asm.mb).apply(null,arguments)},ki=o._duckdb_web_pending_query_poll=function(){return(ki=o._duckdb_web_pending_query_poll=o.asm.nb).apply(null,arguments)},Si=o._duckdb_web_pending_query_cancel=function(){return(Si=o._duckdb_web_pending_query_cancel=o.asm.ob).apply(null,arguments)},Di=o._duckdb_web_query_fetch_results=function(){return(Di=o._duckdb_web_query_fetch_results=o.asm.pb).apply(null,arguments)},Pt=o._duckdb_web_get_tablenames=function(){return(Pt=o._duckdb_web_get_tablenames=o.asm.qb).apply(null,arguments)},Dr=o._duckdb_web_insert_arrow_from_ipc_stream=function(){return(Dr=o._duckdb_web_insert_arrow_from_ipc_stream=o.asm.rb).apply(null,arguments)},Fr=o._duckdb_web_insert_csv_from_path=function(){return(Fr=o._duckdb_web_insert_csv_from_path=o.asm.sb).apply(null,arguments)},Vr=o._duckdb_web_insert_json_from_path=function(){return(Vr=o._duckdb_web_insert_json_from_path=o.asm.tb).apply(null,arguments)},lr=function(){return(lr=o.asm.ub).apply(null,arguments)},Ar=function(){return(Ar=o.asm.vb).apply(null,arguments)},cr=function(){return(cr=o.asm.wb).apply(null,arguments)},Rr=function(){return(Rr=o.asm.xb).apply(null,arguments)},Ve=o._malloc=function(){return(Ve=o._malloc=o.asm.yb).apply(null,arguments)},Jr=o._free=function(){return(Jr=o._free=o.asm.zb).apply(null,arguments)},fr=function(){return(fr=o.asm.Ab).apply(null,arguments)},Je=function(){return(Je=o.asm.Bb).apply(null,arguments)},Qr=function(){return(Qr=o.asm.Cb).apply(null,arguments)},dr=function(){return(dr=o.asm.Db).apply(null,arguments)},Zr=function(){return(Zr=o.asm.Eb).apply(null,arguments)};o.stackAlloc=dr,o.stackSave=Je,o.stackRestore=Qr,o.ccall=Wo;var t;Ne=function e(){t||s(),t||(Ne=e)};function i(){var e=Ct,r=0,n=0;try{var a=e(r,n);return zo(a,!0),a}catch(l){return Mt(l)}}function s(){if(ve>0||(Jt(),ve>0))return;function e(){t||(t=!0,o.calledRun=!0,!ee&&(Qt(),Zt(),b(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),u&&i(),en()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var u=!0;return o.noInitialRun&&(u=!1),s(),f.ready}})();typeof zt=="object"&&typeof Vi=="object"?Vi.exports=Yi:typeof define=="function"&&define.amd?define([],function(){return Yi}):typeof zt=="object"&&(zt.DuckDB=Yi)});var Ta=mr((qt,Qi)=>{"use strict";var Ji=(()=>{var _=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(_=_||__filename),function(f={}){var o=typeof f<"u"?f:{},b,h;o.ready=new Promise((t,i)=>{b=t,h=i});var w=Object.assign({},o),y=[],k="./this.program",S=(t,i)=>{throw i},A=typeof window=="object",C=typeof importScripts=="function",O=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",j="";function Y(t){return o.locateFile?o.locateFile(t,j):j+t}var de,be,pe,De;if(O){var ye=Gi(),ge=$i();C?j=ge.dirname(j)+"/":j=__dirname+"/",de=(t,i)=>(t=Or(t)?new URL(t):ge.normalize(t),ye.readFileSync(t,i?void 0:"utf8")),pe=t=>{var i=de(t,!0);return i.buffer||(i=new Uint8Array(i)),i},be=(t,i,s,u=!0)=>{t=Or(t)?new URL(t):ge.normalize(t),ye.readFile(t,u?void 0:"utf8",(e,r)=>{e?s(e):i(u?r.buffer:r)})},!o.thisProgram&&process.argv.length>1&&(k=process.argv[1].replace(/\\/g,"/")),y=process.argv.slice(2),S=(t,i)=>{throw process.exitCode=t,i},o.inspect=()=>"[Emscripten Module object]"}else(A||C)&&(C?j=self.location.href:typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),_&&(j=_),j.indexOf("blob:")!==0?j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1):j="",de=t=>{var i=new XMLHttpRequest;return i.open("GET",t,!1),i.send(null),i.responseText},C&&(pe=t=>{var i=new XMLHttpRequest;return i.open("GET",t,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),be=(t,i,s)=>{var u=new XMLHttpRequest;u.open("GET",t,!0),u.responseType="arraybuffer",u.onload=()=>{if(u.status==200||u.status==0&&u.response){i(u.response);return}s()},u.onerror=s,u.send(null)},De=t=>document.title=t);var Pe=o.print||console.log.bind(console),L=o.printErr||console.error.bind(console);Object.assign(o,w),w=null,o.arguments&&(y=o.arguments),o.thisProgram&&(k=o.thisProgram),o.quit&&(S=o.quit);var Fe;o.wasmBinary&&(Fe=o.wasmBinary);var pr=o.noExitRuntime||!0;typeof WebAssembly!="object"&&I("no native wasm support detected");var Ae,ee=!1,he;function we(t,i){t||I(i)}var V,ie,ae,le,E,H,Xt,Gt;function Pr(){var t=Ae.buffer;o.HEAP8=V=new Int8Array(t),o.HEAP16=ae=new Int16Array(t),o.HEAP32=E=new Int32Array(t),o.HEAPU8=ie=new Uint8Array(t),o.HEAPU16=le=new Uint16Array(t),o.HEAPU32=H=new Uint32Array(t),o.HEAPF32=Xt=new Float32Array(t),o.HEAPF64=Gt=new Float64Array(t)}var $t,Nr=[],xr=[],Kt=[],Ur=[],ct=!1,Yt=0;function Vt(){return pr||Yt>0}function Jt(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)rn(o.preRun.shift());ze(Nr)}function Qt(){ct=!0,!o.noFSInit&&!d.init.initialized&&d.init(),d.ignorePermissions=!1,Ce.init(),c.root=d.mount(c,{},null),ze(xr)}function Zt(){ze(Kt)}function en(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)nn(o.postRun.shift());ze(Ur)}function rn(t){Nr.unshift(t)}function tn(t){xr.unshift(t)}function nn(t){Ur.unshift(t)}var ve=0,er=null,Ne=null;function Ca(t){return t}function rr(t){ve++,o.monitorRunDependencies&&o.monitorRunDependencies(ve)}function Ie(t){if(ve--,o.monitorRunDependencies&&o.monitorRunDependencies(ve),ve==0&&(er!==null&&(clearInterval(er),er=null),Ne)){var i=Ne;Ne=null,i()}}function I(t){o.onAbort&&o.onAbort(t),t="Aborted("+t+")",L(t),ee=!0,he=1,t+=". Build with -sASSERTIONS for more info.",ct&&Rr();var i=new WebAssembly.RuntimeError(t);throw h(i),i}var on="data:application/octet-stream;base64,";function Br(t){return t.startsWith(on)}function Or(t){return t.startsWith("file://")}var Re;Re="./duckdb-eh.wasm",Br(Re)||(Re=Y(Re));function Hr(t){try{if(t==Re&&Fe)return new Uint8Array(Fe);if(pe)return pe(t);throw"both async and sync fetching of the wasm failed"}catch(i){I(i)}}function an(t){return!Fe&&(A||C)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at '"+t+"'";return i.arrayBuffer()}).catch(()=>Hr(t)):Promise.resolve().then(()=>Hr(t))}function Lr(t,i,s){return an(t).then(u=>WebAssembly.instantiate(u,i)).then(u=>u).then(s,u=>{L("failed to asynchronously prepare wasm: "+u),I(u)})}function sn(t,i,s,u){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!Br(i)&&!O&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(e=>{var r=WebAssembly.instantiateStreaming(e,s);return r.then(u,function(n){return L("wasm streaming compile failed: "+n),L("falling back to ArrayBuffer instantiation"),Lr(i,s,u)})}):Lr(i,s,u)}function un(){var t={a:Wo};function i(u,e){var r=u.exports;return o.asm=r,Ae=o.asm.Fa,Pr(),$t=o.asm.Ia,tn(o.asm.Ga),Ie("wasm-instantiate"),r}rr("wasm-instantiate");function s(u){i(u.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(t,i)}catch(u){L("Module.instantiateWasm callback failed with error: "+u),h(u)}return sn(Fe,Re,t,s).catch(h),{}}var M,W;function Ir(t){this.name="ExitStatus",this.message="Program terminated with exit(".concat(t,")"),this.status=t}function ze(t){for(;t.length>0;)t.shift()(o)}function ln(){L("missing function: XML_GetBuffer"),I(-1)}function cn(){L("missing function: XML_GetErrorCode"),I(-1)}function fn(){L("missing function: XML_Parse"),I(-1)}function dn(){L("missing function: XML_ParseBuffer"),I(-1)}function _n(){L("missing function: XML_ParserCreate"),I(-1)}function mn(){L("missing function: XML_ParserFree"),I(-1)}function pn(){L("missing function: XML_ResumeParser"),I(-1)}function hn(){L("missing function: XML_SetCharacterDataHandler"),I(-1)}function bn(){L("missing function: XML_SetElementHandler"),I(-1)}function wn(){L("missing function: XML_SetUserData"),I(-1)}function gn(){L("missing function: XML_StopParser"),I(-1)}var ft="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function dt(t,i,s){I(ft)}var ue={isAbs:t=>t.charAt(0)==="/",splitPath:t=>{var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return i.exec(t).slice(1)},normalizeArray:(t,i)=>{for(var s=0,u=t.length-1;u>=0;u--){var e=t[u];e==="."?t.splice(u,1):e===".."?(t.splice(u,1),s++):s&&(t.splice(u,1),s--)}if(i)for(;s;s--)t.unshift("..");return t},normalize:t=>{var i=ue.isAbs(t),s=t.substr(-1)==="/";return t=ue.normalizeArray(t.split("/").filter(u=>!!u),!i).join("/"),!t&&!i&&(t="."),t&&s&&(t+="/"),(i?"/":"")+t},dirname:t=>{var i=ue.splitPath(t),s=i[0],u=i[1];return!s&&!u?".":(u&&(u=u.substr(0,u.length-1)),s+u)},basename:t=>{if(t==="/")return"/";t=ue.normalize(t),t=t.replace(/\/$/,"");var i=t.lastIndexOf("/");return i===-1?t:t.substr(i+1)},join:function(){var t=Array.prototype.slice.call(arguments);return ue.normalize(t.join("/"))},join2:(t,i)=>ue.normalize(t+"/"+i)};function yn(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return u=>crypto.getRandomValues(u);if(O)try{var t=require("crypto"),i=t.randomFillSync;if(i)return u=>t.randomFillSync(u);var s=t.randomBytes;return u=>(u.set(s(u.byteLength)),u)}catch(u){}I("initRandomDevice")}function hr(t){return(hr=yn())(t)}var xe={resolve:function(){for(var t="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var u=s>=0?arguments[s]:d.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";t=u+"/"+t,i=ue.isAbs(u)}return t=ue.normalizeArray(t.split("/").filter(e=>!!e),!i).join("/"),(i?"/":"")+t||"."},relative:(t,i)=>{t=xe.resolve(t).substr(1),i=xe.resolve(i).substr(1);function s(m){for(var p=0;p<m.length&&m[p]==="";p++);for(var g=m.length-1;g>=0&&m[g]==="";g--);return p>g?[]:m.slice(p,g-p+1)}for(var u=s(t.split("/")),e=s(i.split("/")),r=Math.min(u.length,e.length),n=r,a=0;a<r;a++)if(u[a]!==e[a]){n=a;break}for(var l=[],a=n;a<u.length;a++)l.push("..");return l=l.concat(e.slice(n)),l.join("/")}};function oe(t){for(var i=0,s=0;s<t.length;++s){var u=t.charCodeAt(s);u<=127?i++:u<=2047?i+=2:u>=55296&&u<=57343?(i+=4,++s):i+=3}return i}function zr(t,i,s,u){if(s>>>=0,!(u>0))return 0;for(var e=s,r=s+u-1,n=0;n<t.length;++n){var a=t.charCodeAt(n);if(a>=55296&&a<=57343){var l=t.charCodeAt(++n);a=65536+((a&1023)<<10)|l&1023}if(a<=127){if(s>=r)break;i[s++>>>0]=a}else if(a<=2047){if(s+1>=r)break;i[s++>>>0]=192|a>>6,i[s++>>>0]=128|a&63}else if(a<=65535){if(s+2>=r)break;i[s++>>>0]=224|a>>12,i[s++>>>0]=128|a>>6&63,i[s++>>>0]=128|a&63}else{if(s+3>=r)break;i[s++>>>0]=240|a>>18,i[s++>>>0]=128|a>>12&63,i[s++>>>0]=128|a>>6&63,i[s++>>>0]=128|a&63}}return i[s>>>0]=0,s-e}function je(t,i,s){var u=s>0?s:oe(t)+1,e=new Array(u),r=zr(t,e,0,e.length);return i&&(e.length=r),e}var Me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(t,i,s){i>>>=0;for(var u=i+s,e=i;t[e]&&!(e>=u);)++e;if(e-i>16&&t.buffer&&Me)return Me.decode(t.subarray(i,e));for(var r="";i<e;){var n=t[i++];if(!(n&128)){r+=String.fromCharCode(n);continue}var a=t[i++]&63;if((n&224)==192){r+=String.fromCharCode((n&31)<<6|a);continue}var l=t[i++]&63;if((n&240)==224?n=(n&15)<<12|a<<6|l:n=(n&7)<<18|a<<12|l<<6|t[i++]&63,n<65536)r+=String.fromCharCode(n);else{var m=n-65536;r+=String.fromCharCode(55296|m>>10,56320|m&1023)}}return r}var Ce={ttys:[],init:function(){},shutdown:function(){},register:function(t,i){Ce.ttys[t]={input:[],output:[],ops:i},d.registerDevice(t,Ce.stream_ops)},stream_ops:{open:function(t){var i=Ce.ttys[t.node.rdev];if(!i)throw new d.ErrnoError(43);t.tty=i,t.seekable=!1},close:function(t){t.tty.ops.fsync(t.tty)},fsync:function(t){t.tty.ops.fsync(t.tty)},read:function(t,i,s,u,e){if(!t.tty||!t.tty.ops.get_char)throw new d.ErrnoError(60);for(var r=0,n=0;n<u;n++){var a;try{a=t.tty.ops.get_char(t.tty)}catch(l){throw new d.ErrnoError(29)}if(a===void 0&&r===0)throw new d.ErrnoError(6);if(a==null)break;r++,i[s+n]=a}return r&&(t.node.timestamp=Date.now()),r},write:function(t,i,s,u,e){if(!t.tty||!t.tty.ops.put_char)throw new d.ErrnoError(60);try{for(var r=0;r<u;r++)t.tty.ops.put_char(t.tty,i[s+r])}catch(n){throw new d.ErrnoError(29)}return u&&(t.node.timestamp=Date.now()),r}},default_tty_ops:{get_char:function(t){if(!t.input.length){var i=null;if(O){var s=256,u=Buffer.alloc(s),e=0;try{e=ye.readSync(process.stdin.fd,u,0,s,-1)}catch(r){if(r.toString().includes("EOF"))e=0;else throw r}e>0?i=u.slice(0,e).toString("utf-8"):i=null}else typeof window<"u"&&typeof window.prompt=="function"?(i=window.prompt("Input: "),i!==null&&(i+="\n")):typeof readline=="function"&&(i=readline(),i!==null&&(i+="\n"));if(!i)return null;t.input=je(i,!0)}return t.input.shift()},put_char:function(t,i){i===null||i===10?(Pe(Ue(t.output,0)),t.output=[]):i!=0&&t.output.push(i)},fsync:function(t){t.output&&t.output.length>0&&(Pe(Ue(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,i){i===null||i===10?(L(Ue(t.output,0)),t.output=[]):i!=0&&t.output.push(i)},fsync:function(t){t.output&&t.output.length>0&&(L(Ue(t.output,0)),t.output=[])}}};function Xe(t,i){return ie.fill(0,t,t+i),t}function _t(t,i){return Math.ceil(t/i)*i}function We(t){t=_t(t,65536);var i=cr(65536,t);return i?Xe(i,t):0}var X={ops_table:null,mount:function(t){return X.createNode(null,"/",16895,0)},createNode:function(t,i,s,u){if(d.isBlkdev(s)||d.isFIFO(s))throw new d.ErrnoError(63);X.ops_table||(X.ops_table={dir:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,lookup:X.node_ops.lookup,mknod:X.node_ops.mknod,rename:X.node_ops.rename,unlink:X.node_ops.unlink,rmdir:X.node_ops.rmdir,readdir:X.node_ops.readdir,symlink:X.node_ops.symlink},stream:{llseek:X.stream_ops.llseek}},file:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:{llseek:X.stream_ops.llseek,read:X.stream_ops.read,write:X.stream_ops.write,allocate:X.stream_ops.allocate,mmap:X.stream_ops.mmap,msync:X.stream_ops.msync}},link:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,readlink:X.node_ops.readlink},stream:{}},chrdev:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:d.chrdev_stream_ops}});var e=d.createNode(t,i,s,u);return d.isDir(e.mode)?(e.node_ops=X.ops_table.dir.node,e.stream_ops=X.ops_table.dir.stream,e.contents={}):d.isFile(e.mode)?(e.node_ops=X.ops_table.file.node,e.stream_ops=X.ops_table.file.stream,e.usedBytes=0,e.contents=null):d.isLink(e.mode)?(e.node_ops=X.ops_table.link.node,e.stream_ops=X.ops_table.link.stream):d.isChrdev(e.mode)&&(e.node_ops=X.ops_table.chrdev.node,e.stream_ops=X.ops_table.chrdev.stream),e.timestamp=Date.now(),t&&(t.contents[i]=e,t.timestamp=e.timestamp),e},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0)},expandFileStorage:function(t,i){i>>>=0;var s=t.contents?t.contents.length:0;if(!(s>=i)){var u=1024*1024;i=Math.max(i,s*(s<u?2:1.125)>>>0),s!=0&&(i=Math.max(i,256));var e=t.contents;t.contents=new Uint8Array(i),t.usedBytes>0&&t.contents.set(e.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,i){if(i>>>=0,t.usedBytes!=i)if(i==0)t.contents=null,t.usedBytes=0;else{var s=t.contents;t.contents=new Uint8Array(i),s&&t.contents.set(s.subarray(0,Math.min(i,t.usedBytes))),t.usedBytes=i}},node_ops:{getattr:function(t){var i={};return i.dev=d.isChrdev(t.mode)?t.id:1,i.ino=t.id,i.mode=t.mode,i.nlink=1,i.uid=0,i.gid=0,i.rdev=t.rdev,d.isDir(t.mode)?i.size=4096:d.isFile(t.mode)?i.size=t.usedBytes:d.isLink(t.mode)?i.size=t.link.length:i.size=0,i.atime=new Date(t.timestamp),i.mtime=new Date(t.timestamp),i.ctime=new Date(t.timestamp),i.blksize=4096,i.blocks=Math.ceil(i.size/i.blksize),i},setattr:function(t,i){i.mode!==void 0&&(t.mode=i.mode),i.timestamp!==void 0&&(t.timestamp=i.timestamp),i.size!==void 0&&X.resizeFileStorage(t,i.size)},lookup:function(t,i){throw d.genericErrors[44]},mknod:function(t,i,s,u){return X.createNode(t,i,s,u)},rename:function(t,i,s){if(d.isDir(t.mode)){var u;try{u=d.lookupNode(i,s)}catch(r){}if(u)for(var e in u.contents)throw new d.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=s,i.contents[s]=t,i.timestamp=t.parent.timestamp,t.parent=i},unlink:function(t,i){delete t.contents[i],t.timestamp=Date.now()},rmdir:function(t,i){var s=d.lookupNode(t,i);for(var u in s.contents)throw new d.ErrnoError(55);delete t.contents[i],t.timestamp=Date.now()},readdir:function(t){var i=[".",".."];for(var s in t.contents)t.contents.hasOwnProperty(s)&&i.push(s);return i},symlink:function(t,i,s){var u=X.createNode(t,i,41471,0);return u.link=s,u},readlink:function(t){if(!d.isLink(t.mode))throw new d.ErrnoError(28);return t.link}},stream_ops:{read:function(t,i,s,u,e){var r=t.node.contents;if(e>=t.node.usedBytes)return 0;var n=Math.min(t.node.usedBytes-e,u);if(n>8&&r.subarray)i.set(r.subarray(e,e+n),s);else for(var a=0;a<n;a++)i[s+a]=r[e+a];return n},write:function(t,i,s,u,e,r){if(i.buffer===V.buffer&&(r=!1),!u)return 0;var n=t.node;if(n.timestamp=Date.now(),i.subarray&&(!n.contents||n.contents.subarray)){if(r)return n.contents=i.subarray(s,s+u),n.usedBytes=u,u;if(n.usedBytes===0&&e===0)return n.contents=i.slice(s,s+u),n.usedBytes=u,u;if(e+u<=n.usedBytes)return n.contents.set(i.subarray(s,s+u),e),u}if(X.expandFileStorage(n,e+u),n.contents.subarray&&i.subarray)n.contents.set(i.subarray(s,s+u),e);else for(var a=0;a<u;a++)n.contents[e+a]=i[s+a];return n.usedBytes=Math.max(n.usedBytes,e+u),u},llseek:function(t,i,s){var u=i;if(s===1?u+=t.position:s===2&&d.isFile(t.node.mode)&&(u+=t.node.usedBytes),u<0)throw new d.ErrnoError(28);return u},allocate:function(t,i,s){X.expandFileStorage(t.node,i+s),t.node.usedBytes=Math.max(t.node.usedBytes,i+s)},mmap:function(t,i,s,u,e){if(!d.isFile(t.node.mode))throw new d.ErrnoError(43);var r,n,a=t.node.contents;if(!(e&2)&&a.buffer===V.buffer)n=!1,r=a.byteOffset;else{if((s>0||s+i<a.length)&&(a.subarray?a=a.subarray(s,s+i):a=Array.prototype.slice.call(a,s,s+i)),n=!0,r=We(i),!r)throw new d.ErrnoError(48);r>>>=0,V.set(a,r>>>0)}return{ptr:r,allocated:n}},msync:function(t,i,s,u,e){return X.stream_ops.write(t,i,0,u,s,!1),0}}};function Wr(t,i,s,u){var e=u?"":"al ".concat(t);be(t,r=>{we(r,'Loading data file "'.concat(t,'" failed (no arrayBuffer).')),i(new Uint8Array(r)),e&&Ie(e)},r=>{if(s)s();else throw'Loading data file "'.concat(t,'" failed.')}),e&&rr(e)}var vn=o.preloadPlugins||[];function mt(t,i,s,u){typeof Browser<"u"&&Browser.init();var e=!1;return vn.forEach(function(r){e||r.canHandle(i)&&(r.handle(t,i,s,u),e=!0)}),e}function Z(t,i,s,u,e,r,n,a,l,m){var p=i?xe.resolve(ue.join2(t,i)):t,g="cp ".concat(p);function v(F){function R(B){m&&m(),a||d.createDataFile(t,i,B,u,e,l),r&&r(),Ie(g)}mt(F,p,R,()=>{n&&n(),Ie(g)})||R(F)}rr(g),typeof s=="string"?Wr(s,F=>v(F),n):v(s)}function En(t){var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},s=i[t];if(typeof s>"u")throw new Error("Unknown file open mode: ".concat(t));return s}function qr(t,i){var s=0;return t&&(s|=365),i&&(s|=146),s}var d={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(t,i={})=>{if(t=xe.resolve(t),!t)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};if(i=Object.assign(s,i),i.recurse_count>8)throw new d.ErrnoError(32);for(var u=t.split("/").filter(g=>!!g),e=d.root,r="/",n=0;n<u.length;n++){var a=n===u.length-1;if(a&&i.parent)break;if(e=d.lookupNode(e,u[n]),r=ue.join2(r,u[n]),d.isMountpoint(e)&&(!a||a&&i.follow_mount)&&(e=e.mounted.root),!a||i.follow)for(var l=0;d.isLink(e.mode);){var m=d.readlink(r);r=xe.resolve(ue.dirname(r),m);var p=d.lookupPath(r,{recurse_count:i.recurse_count+1});if(e=p.node,l++>40)throw new d.ErrnoError(32)}}return{path:r,node:e}},getPath:t=>{for(var i;;){if(d.isRoot(t)){var s=t.mount.mountpoint;return i?s[s.length-1]!=="/"?"".concat(s,"/").concat(i):s+i:s}i=i?"".concat(t.name,"/").concat(i):t.name,t=t.parent}},hashName:(t,i)=>{for(var s=0,u=0;u<i.length;u++)s=(s<<5)-s+i.charCodeAt(u)|0;return(t+s>>>0)%d.nameTable.length},hashAddNode:t=>{var i=d.hashName(t.parent.id,t.name);t.name_next=d.nameTable[i],d.nameTable[i]=t},hashRemoveNode:t=>{var i=d.hashName(t.parent.id,t.name);if(d.nameTable[i]===t)d.nameTable[i]=t.name_next;else for(var s=d.nameTable[i];s;){if(s.name_next===t){s.name_next=t.name_next;break}s=s.name_next}},lookupNode:(t,i)=>{var s=d.mayLookup(t);if(s)throw new d.ErrnoError(s,t);for(var u=d.hashName(t.id,i),e=d.nameTable[u];e;e=e.name_next){var r=e.name;if(e.parent.id===t.id&&r===i)return e}return d.lookup(t,i)},createNode:(t,i,s,u)=>{var e=new d.FSNode(t,i,s,u);return d.hashAddNode(e),e},destroyNode:t=>{d.hashRemoveNode(t)},isRoot:t=>t===t.parent,isMountpoint:t=>!!t.mounted,isFile:t=>(t&61440)===32768,isDir:t=>(t&61440)===16384,isLink:t=>(t&61440)===40960,isChrdev:t=>(t&61440)===8192,isBlkdev:t=>(t&61440)===24576,isFIFO:t=>(t&61440)===4096,isSocket:t=>(t&49152)===49152,flagsToPermissionString:t=>{var i=["r","w","rw"][t&3];return t&512&&(i+="w"),i},nodePermissions:(t,i)=>d.ignorePermissions?0:i.includes("r")&&!(t.mode&292)||i.includes("w")&&!(t.mode&146)||i.includes("x")&&!(t.mode&73)?2:0,mayLookup:t=>{var i=d.nodePermissions(t,"x");return i||(t.node_ops.lookup?0:2)},mayCreate:(t,i)=>{try{var s=d.lookupNode(t,i);return 20}catch(u){}return d.nodePermissions(t,"wx")},mayDelete:(t,i,s)=>{var u;try{u=d.lookupNode(t,i)}catch(r){return r.errno}var e=d.nodePermissions(t,"wx");if(e)return e;if(s){if(!d.isDir(u.mode))return 54;if(d.isRoot(u)||d.getPath(u)===d.cwd())return 10}else if(d.isDir(u.mode))return 31;return 0},mayOpen:(t,i)=>t?d.isLink(t.mode)?32:d.isDir(t.mode)&&(d.flagsToPermissionString(i)!=="r"||i&512)?31:d.nodePermissions(t,d.flagsToPermissionString(i)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var t=0;t<=d.MAX_OPEN_FDS;t++)if(!d.streams[t])return t;throw new d.ErrnoError(33)},getStream:t=>d.streams[t],createStream:(t,i=-1)=>(d.FSStream||(d.FSStream=function(){this.shared={}},d.FSStream.prototype={},Object.defineProperties(d.FSStream.prototype,{object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(s){this.shared.flags=s}},position:{get:function(){return this.shared.position},set:function(s){this.shared.position=s}}})),t=Object.assign(new d.FSStream,t),i==-1&&(i=d.nextfd()),t.fd=i,d.streams[i]=t,t),closeStream:t=>{d.streams[t]=null},chrdev_stream_ops:{open:t=>{var i=d.getDevice(t.node.rdev);t.stream_ops=i.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:()=>{throw new d.ErrnoError(70)}},major:t=>t>>8,minor:t=>t&255,makedev:(t,i)=>t<<8|i,registerDevice:(t,i)=>{d.devices[t]={stream_ops:i}},getDevice:t=>d.devices[t],getMounts:t=>{for(var i=[],s=[t];s.length;){var u=s.pop();i.push(u),s.push.apply(s,u.mounts)}return i},syncfs:(t,i)=>{typeof t=="function"&&(i=t,t=!1),d.syncFSRequests++,d.syncFSRequests>1&&L("warning: ".concat(d.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var s=d.getMounts(d.root.mount),u=0;function e(n){return d.syncFSRequests--,i(n)}function r(n){if(n)return r.errored?void 0:(r.errored=!0,e(n));++u>=s.length&&e(null)}s.forEach(n=>{if(!n.type.syncfs)return r(null);n.type.syncfs(n,t,r)})},mount:(t,i,s)=>{var u=s==="/",e=!s,r;if(u&&d.root)throw new d.ErrnoError(10);if(!u&&!e){var n=d.lookupPath(s,{follow_mount:!1});if(s=n.path,r=n.node,d.isMountpoint(r))throw new d.ErrnoError(10);if(!d.isDir(r.mode))throw new d.ErrnoError(54)}var a={type:t,opts:i,mountpoint:s,mounts:[]},l=t.mount(a);return l.mount=a,a.root=l,u?d.root=l:r&&(r.mounted=a,r.mount&&r.mount.mounts.push(a)),l},unmount:t=>{var i=d.lookupPath(t,{follow_mount:!1});if(!d.isMountpoint(i.node))throw new d.ErrnoError(28);var s=i.node,u=s.mounted,e=d.getMounts(u);Object.keys(d.nameTable).forEach(n=>{for(var a=d.nameTable[n];a;){var l=a.name_next;e.includes(a.mount)&&d.destroyNode(a),a=l}}),s.mounted=null;var r=s.mount.mounts.indexOf(u);s.mount.mounts.splice(r,1)},lookup:(t,i)=>t.node_ops.lookup(t,i),mknod:(t,i,s)=>{var u=d.lookupPath(t,{parent:!0}),e=u.node,r=ue.basename(t);if(!r||r==="."||r==="..")throw new d.ErrnoError(28);var n=d.mayCreate(e,r);if(n)throw new d.ErrnoError(n);if(!e.node_ops.mknod)throw new d.ErrnoError(63);return e.node_ops.mknod(e,r,i,s)},create:(t,i)=>(i=i!==void 0?i:438,i&=4095,i|=32768,d.mknod(t,i,0)),mkdir:(t,i)=>(i=i!==void 0?i:511,i&=1023,i|=16384,d.mknod(t,i,0)),mkdirTree:(t,i)=>{for(var s=t.split("/"),u="",e=0;e<s.length;++e)if(s[e]){u+="/"+s[e];try{d.mkdir(u,i)}catch(r){if(r.errno!=20)throw r}}},mkdev:(t,i,s)=>(typeof s>"u"&&(s=i,i=438),i|=8192,d.mknod(t,i,s)),symlink:(t,i)=>{if(!xe.resolve(t))throw new d.ErrnoError(44);var s=d.lookupPath(i,{parent:!0}),u=s.node;if(!u)throw new d.ErrnoError(44);var e=ue.basename(i),r=d.mayCreate(u,e);if(r)throw new d.ErrnoError(r);if(!u.node_ops.symlink)throw new d.ErrnoError(63);return u.node_ops.symlink(u,e,t)},rename:(t,i)=>{var s=ue.dirname(t),u=ue.dirname(i),e=ue.basename(t),r=ue.basename(i),n,a,l;if(n=d.lookupPath(t,{parent:!0}),a=n.node,n=d.lookupPath(i,{parent:!0}),l=n.node,!a||!l)throw new d.ErrnoError(44);if(a.mount!==l.mount)throw new d.ErrnoError(75);var m=d.lookupNode(a,e),p=xe.relative(t,u);if(p.charAt(0)!==".")throw new d.ErrnoError(28);if(p=xe.relative(i,s),p.charAt(0)!==".")throw new d.ErrnoError(55);var g;try{g=d.lookupNode(l,r)}catch(R){}if(m!==g){var v=d.isDir(m.mode),F=d.mayDelete(a,e,v);if(F)throw new d.ErrnoError(F);if(F=g?d.mayDelete(l,r,v):d.mayCreate(l,r),F)throw new d.ErrnoError(F);if(!a.node_ops.rename)throw new d.ErrnoError(63);if(d.isMountpoint(m)||g&&d.isMountpoint(g))throw new d.ErrnoError(10);if(l!==a&&(F=d.nodePermissions(a,"w"),F))throw new d.ErrnoError(F);d.hashRemoveNode(m);try{a.node_ops.rename(m,l,r)}catch(R){throw R}finally{d.hashAddNode(m)}}},rmdir:t=>{var i=d.lookupPath(t,{parent:!0}),s=i.node,u=ue.basename(t),e=d.lookupNode(s,u),r=d.mayDelete(s,u,!0);if(r)throw new d.ErrnoError(r);if(!s.node_ops.rmdir)throw new d.ErrnoError(63);if(d.isMountpoint(e))throw new d.ErrnoError(10);s.node_ops.rmdir(s,u),d.destroyNode(e)},readdir:t=>{var i=d.lookupPath(t,{follow:!0}),s=i.node;if(!s.node_ops.readdir)throw new d.ErrnoError(54);return s.node_ops.readdir(s)},unlink:t=>{var i=d.lookupPath(t,{parent:!0}),s=i.node;if(!s)throw new d.ErrnoError(44);var u=ue.basename(t),e=d.lookupNode(s,u),r=d.mayDelete(s,u,!1);if(r)throw new d.ErrnoError(r);if(!s.node_ops.unlink)throw new d.ErrnoError(63);if(d.isMountpoint(e))throw new d.ErrnoError(10);s.node_ops.unlink(s,u),d.destroyNode(e)},readlink:t=>{var i=d.lookupPath(t),s=i.node;if(!s)throw new d.ErrnoError(44);if(!s.node_ops.readlink)throw new d.ErrnoError(28);return xe.resolve(d.getPath(s.parent),s.node_ops.readlink(s))},stat:(t,i)=>{var s=d.lookupPath(t,{follow:!i}),u=s.node;if(!u)throw new d.ErrnoError(44);if(!u.node_ops.getattr)throw new d.ErrnoError(63);return u.node_ops.getattr(u)},lstat:t=>d.stat(t,!0),chmod:(t,i,s)=>{var u;if(typeof t=="string"){var e=d.lookupPath(t,{follow:!s});u=e.node}else u=t;if(!u.node_ops.setattr)throw new d.ErrnoError(63);u.node_ops.setattr(u,{mode:i&4095|u.mode&-4096,timestamp:Date.now()})},lchmod:(t,i)=>{d.chmod(t,i,!0)},fchmod:(t,i)=>{var s=d.getStream(t);if(!s)throw new d.ErrnoError(8);d.chmod(s.node,i)},chown:(t,i,s,u)=>{var e;if(typeof t=="string"){var r=d.lookupPath(t,{follow:!u});e=r.node}else e=t;if(!e.node_ops.setattr)throw new d.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:(t,i,s)=>{d.chown(t,i,s,!0)},fchown:(t,i,s)=>{var u=d.getStream(t);if(!u)throw new d.ErrnoError(8);d.chown(u.node,i,s)},truncate:(t,i)=>{if(i<0)throw new d.ErrnoError(28);var s;if(typeof t=="string"){var u=d.lookupPath(t,{follow:!0});s=u.node}else s=t;if(!s.node_ops.setattr)throw new d.ErrnoError(63);if(d.isDir(s.mode))throw new d.ErrnoError(31);if(!d.isFile(s.mode))throw new d.ErrnoError(28);var e=d.nodePermissions(s,"w");if(e)throw new d.ErrnoError(e);s.node_ops.setattr(s,{size:i,timestamp:Date.now()})},ftruncate:(t,i)=>{var s=d.getStream(t);if(!s)throw new d.ErrnoError(8);if(!(s.flags&2097155))throw new d.ErrnoError(28);d.truncate(s.node,i)},utime:(t,i,s)=>{var u=d.lookupPath(t,{follow:!0}),e=u.node;e.node_ops.setattr(e,{timestamp:Math.max(i,s)})},open:(t,i,s)=>{if(t==="")throw new d.ErrnoError(44);i=typeof i=="string"?En(i):i,s=typeof s>"u"?438:s,i&64?s=s&4095|32768:s=0;var u;if(typeof t=="object")u=t;else{t=ue.normalize(t);try{var e=d.lookupPath(t,{follow:!(i&131072)});u=e.node}catch(l){}}var r=!1;if(i&64)if(u){if(i&128)throw new d.ErrnoError(20)}else u=d.mknod(t,s,0),r=!0;if(!u)throw new d.ErrnoError(44);if(d.isChrdev(u.mode)&&(i&=-513),i&65536&&!d.isDir(u.mode))throw new d.ErrnoError(54);if(!r){var n=d.mayOpen(u,i);if(n)throw new d.ErrnoError(n)}i&512&&!r&&d.truncate(u,0),i&=-131713;var a=d.createStream({node:u,path:d.getPath(u),flags:i,seekable:!0,position:0,stream_ops:u.stream_ops,ungotten:[],error:!1});return a.stream_ops.open&&a.stream_ops.open(a),o.logReadFiles&&!(i&1)&&(d.readFiles||(d.readFiles={}),t in d.readFiles||(d.readFiles[t]=1)),a},close:t=>{if(d.isClosed(t))throw new d.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(i){throw i}finally{d.closeStream(t.fd)}t.fd=null},isClosed:t=>t.fd===null,llseek:(t,i,s)=>{if(d.isClosed(t))throw new d.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new d.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new d.ErrnoError(28);return t.position=t.stream_ops.llseek(t,i,s),t.ungotten=[],t.position},read:(t,i,s,u,e)=>{if(s>>>=0,u<0||e<0)throw new d.ErrnoError(28);if(d.isClosed(t))throw new d.ErrnoError(8);if((t.flags&2097155)===1)throw new d.ErrnoError(8);if(d.isDir(t.node.mode))throw new d.ErrnoError(31);if(!t.stream_ops.read)throw new d.ErrnoError(28);var r=typeof e<"u";if(!r)e=t.position;else if(!t.seekable)throw new d.ErrnoError(70);var n=t.stream_ops.read(t,i,s,u,e);return r||(t.position+=n),n},write:(t,i,s,u,e,r)=>{if(s>>>=0,u<0||e<0)throw new d.ErrnoError(28);if(d.isClosed(t))throw new d.ErrnoError(8);if(!(t.flags&2097155))throw new d.ErrnoError(8);if(d.isDir(t.node.mode))throw new d.ErrnoError(31);if(!t.stream_ops.write)throw new d.ErrnoError(28);t.seekable&&t.flags&1024&&d.llseek(t,0,2);var n=typeof e<"u";if(!n)e=t.position;else if(!t.seekable)throw new d.ErrnoError(70);var a=t.stream_ops.write(t,i,s,u,e,r);return n||(t.position+=a),a},allocate:(t,i,s)=>{if(d.isClosed(t))throw new d.ErrnoError(8);if(i<0||s<=0)throw new d.ErrnoError(28);if(!(t.flags&2097155))throw new d.ErrnoError(8);if(!d.isFile(t.node.mode)&&!d.isDir(t.node.mode))throw new d.ErrnoError(43);if(!t.stream_ops.allocate)throw new d.ErrnoError(138);t.stream_ops.allocate(t,i,s)},mmap:(t,i,s,u,e)=>{if(u&2&&!(e&2)&&(t.flags&2097155)!==2)throw new d.ErrnoError(2);if((t.flags&2097155)===1)throw new d.ErrnoError(2);if(!t.stream_ops.mmap)throw new d.ErrnoError(43);return t.stream_ops.mmap(t,i,s,u,e)},msync:(t,i,s,u,e)=>(s>>>=0,t.stream_ops.msync?t.stream_ops.msync(t,i,s,u,e):0),munmap:t=>0,ioctl:(t,i,s)=>{if(!t.stream_ops.ioctl)throw new d.ErrnoError(59);return t.stream_ops.ioctl(t,i,s)},readFile:(t,i={})=>{if(i.flags=i.flags||0,i.encoding=i.encoding||"binary",i.encoding!=="utf8"&&i.encoding!=="binary")throw new Error('Invalid encoding type "'.concat(i.encoding,'"'));var s,u=d.open(t,i.flags),e=d.stat(t),r=e.size,n=new Uint8Array(r);return d.read(u,n,0,r,0),i.encoding==="utf8"?s=Ue(n,0):i.encoding==="binary"&&(s=n),d.close(u),s},writeFile:(t,i,s={})=>{s.flags=s.flags||577;var u=d.open(t,s.flags,s.mode);if(typeof i=="string"){var e=new Uint8Array(oe(i)+1),r=zr(i,e,0,e.length);d.write(u,e,0,r,void 0,s.canOwn)}else if(ArrayBuffer.isView(i))d.write(u,i,0,i.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");d.close(u)},cwd:()=>d.currentPath,chdir:t=>{var i=d.lookupPath(t,{follow:!0});if(i.node===null)throw new d.ErrnoError(44);if(!d.isDir(i.node.mode))throw new d.ErrnoError(54);var s=d.nodePermissions(i.node,"x");if(s)throw new d.ErrnoError(s);d.currentPath=i.path},createDefaultDirectories:()=>{d.mkdir("/tmp"),d.mkdir("/home"),d.mkdir("/home/web_user")},createDefaultDevices:()=>{d.mkdir("/dev"),d.registerDevice(d.makedev(1,3),{read:()=>0,write:(u,e,r,n,a)=>n}),d.mkdev("/dev/null",d.makedev(1,3)),Ce.register(d.makedev(5,0),Ce.default_tty_ops),Ce.register(d.makedev(6,0),Ce.default_tty1_ops),d.mkdev("/dev/tty",d.makedev(5,0)),d.mkdev("/dev/tty1",d.makedev(6,0));var t=new Uint8Array(1024),i=0,s=()=>(i===0&&(i=hr(t).byteLength),t[--i]);d.createDevice("/dev","random",s),d.createDevice("/dev","urandom",s),d.mkdir("/dev/shm"),d.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{d.mkdir("/proc");var t=d.mkdir("/proc/self");d.mkdir("/proc/self/fd"),d.mount({mount:()=>{var i=d.createNode(t,"fd",16895,73);return i.node_ops={lookup:(s,u)=>{var e=+u,r=d.getStream(e);if(!r)throw new d.ErrnoError(8);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>r.path}};return n.parent=n,n}},i}},{},"/proc/self/fd")},createStandardStreams:()=>{o.stdin?d.createDevice("/dev","stdin",o.stdin):d.symlink("/dev/tty","/dev/stdin"),o.stdout?d.createDevice("/dev","stdout",null,o.stdout):d.symlink("/dev/tty","/dev/stdout"),o.stderr?d.createDevice("/dev","stderr",null,o.stderr):d.symlink("/dev/tty1","/dev/stderr");var t=d.open("/dev/stdin",0),i=d.open("/dev/stdout",1),s=d.open("/dev/stderr",1)},ensureErrnoError:()=>{d.ErrnoError||(d.ErrnoError=function(i,s){this.name="ErrnoError",this.node=s,this.setErrno=function(u){this.errno=u},this.setErrno(i),this.message="FS error"},d.ErrnoError.prototype=new Error,d.ErrnoError.prototype.constructor=d.ErrnoError,[44].forEach(t=>{d.genericErrors[t]=new d.ErrnoError(t),d.genericErrors[t].stack="<generic error, no stack>"}))},staticInit:()=>{d.ensureErrnoError(),d.nameTable=new Array(4096),d.mount(X,{},"/"),d.createDefaultDirectories(),d.createDefaultDevices(),d.createSpecialDirectories(),d.filesystems={MEMFS:X}},init:(t,i,s)=>{d.init.initialized=!0,d.ensureErrnoError(),o.stdin=t||o.stdin,o.stdout=i||o.stdout,o.stderr=s||o.stderr,d.createStandardStreams()},quit:()=>{d.init.initialized=!1;for(var t=0;t<d.streams.length;t++){var i=d.streams[t];i&&d.close(i)}},findObject:(t,i)=>{var s=d.analyzePath(t,i);return s.exists?s.object:null},analyzePath:(t,i)=>{try{var s=d.lookupPath(t,{follow:!i});t=s.path}catch(e){}var u={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=d.lookupPath(t,{parent:!0});u.parentExists=!0,u.parentPath=s.path,u.parentObject=s.node,u.name=ue.basename(t),s=d.lookupPath(t,{follow:!i}),u.exists=!0,u.path=s.path,u.object=s.node,u.name=s.node.name,u.isRoot=s.path==="/"}catch(e){u.error=e.errno}return u},createPath:(t,i,s,u)=>{t=typeof t=="string"?t:d.getPath(t);for(var e=i.split("/").reverse();e.length;){var r=e.pop();if(r){var n=ue.join2(t,r);try{d.mkdir(n)}catch(a){}t=n}}return n},createFile:(t,i,s,u,e)=>{var r=ue.join2(typeof t=="string"?t:d.getPath(t),i),n=qr(u,e);return d.create(r,n)},createDataFile:(t,i,s,u,e,r)=>{var n=i;t&&(t=typeof t=="string"?t:d.getPath(t),n=i?ue.join2(t,i):t);var a=qr(u,e),l=d.create(n,a);if(s){if(typeof s=="string"){for(var m=new Array(s.length),p=0,g=s.length;p<g;++p)m[p]=s.charCodeAt(p);s=m}d.chmod(l,a|146);var v=d.open(l,577);d.write(v,s,0,s.length,0,r),d.close(v),d.chmod(l,a)}return l},createDevice:(t,i,s,u)=>{var e=ue.join2(typeof t=="string"?t:d.getPath(t),i),r=qr(!!s,!!u);d.createDevice.major||(d.createDevice.major=64);var n=d.makedev(d.createDevice.major++,0);return d.registerDevice(n,{open:a=>{a.seekable=!1},close:a=>{u&&u.buffer&&u.buffer.length&&u(10)},read:(a,l,m,p,g)=>{for(var v=0,F=0;F<p;F++){var R;try{R=s()}catch(B){throw new d.ErrnoError(29)}if(R===void 0&&v===0)throw new d.ErrnoError(6);if(R==null)break;v++,l[m+F]=R}return v&&(a.node.timestamp=Date.now()),v},write:(a,l,m,p,g)=>{for(var v=0;v<p;v++)try{u(l[m+v])}catch(F){throw new d.ErrnoError(29)}return p&&(a.node.timestamp=Date.now()),v}}),d.mkdev(e,r,n)},forceLoadFile:t=>{if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(de)try{t.contents=je(de(t.url),!0),t.usedBytes=t.contents.length}catch(i){throw new d.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(t,i,s,u,e)=>{function r(){this.lengthKnown=!1,this.chunks=[]}if(r.prototype.get=function(F){if(!(F>this.length-1||F<0)){var R=F%this.chunkSize,B=F/this.chunkSize|0;return this.getter(B)[R]}},r.prototype.setDataGetter=function(F){this.getter=F},r.prototype.cacheLength=function(){var F=new XMLHttpRequest;if(F.open("HEAD",s,!1),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+s+". Status: "+F.status);var R=Number(F.getResponseHeader("Content-length")),B,N=(B=F.getResponseHeader("Accept-Ranges"))&&B==="bytes",x=(B=F.getResponseHeader("Content-Encoding"))&&B==="gzip",D=1024*1024;N||(D=R);var P=(z,T)=>{if(z>T)throw new Error("invalid range ("+z+", "+T+") or no bytes requested!");if(T>R-1)throw new Error("only "+R+" bytes available! programmer error!");var U=new XMLHttpRequest;if(U.open("GET",s,!1),R!==D&&U.setRequestHeader("Range","bytes="+z+"-"+T),U.responseType="arraybuffer",U.overrideMimeType&&U.overrideMimeType("text/plain; charset=x-user-defined"),U.send(null),!(U.status>=200&&U.status<300||U.status===304))throw new Error("Couldn't load "+s+". Status: "+U.status);return U.response!==void 0?new Uint8Array(U.response||[]):je(U.responseText||"",!0)},q=this;q.setDataGetter(z=>{var T=z*D,U=(z+1)*D-1;if(U=Math.min(U,R-1),typeof q.chunks[z]>"u"&&(q.chunks[z]=P(T,U)),typeof q.chunks[z]>"u")throw new Error("doXHR failed!");return q.chunks[z]}),(x||!R)&&(D=R=1,R=this.getter(0).length,D=R,Pe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=R,this._chunkSize=D,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!C)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var n=new r;Object.defineProperties(n,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var a={isDevice:!1,contents:n}}else var a={isDevice:!1,url:s};var l=d.createFile(t,i,a,u,e);a.contents?l.contents=a.contents:a.url&&(l.contents=null,l.url=a.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var m={},p=Object.keys(l.stream_ops);p.forEach(v=>{var F=l.stream_ops[v];m[v]=function(){return d.forceLoadFile(l),F.apply(null,arguments)}});function g(v,F,R,B,N){var x=v.node.contents;if(N>=x.length)return 0;var D=Math.min(x.length-N,B);if(x.slice)for(var P=0;P<D;P++)F[R+P]=x[N+P];else for(var P=0;P<D;P++)F[R+P]=x.get(N+P);return D}return m.read=(v,F,R,B,N)=>(d.forceLoadFile(l),g(v,F,R,B,N)),m.mmap=(v,F,R,B,N)=>{d.forceLoadFile(l);var x=We(F);if(!x)throw new d.ErrnoError(48);return g(v,V,x,F,R),{ptr:x,allocated:!0}},l.stream_ops=m,l}};function Ge(t,i){return t>>>=0,t?Ue(ie,t,i):""}var G={DEFAULT_POLLMASK:5,calculateAt:function(t,i,s){if(ue.isAbs(i))return i;var u;if(t===-100)u=d.cwd();else{var e=G.getStreamFromFD(t);u=e.path}if(i.length==0){if(!s)throw new d.ErrnoError(44);return u}return ue.join2(u,i)},doStat:function(t,i,s){try{var u=t(i)}catch(a){if(a&&a.node&&ue.normalize(i)!==ue.normalize(d.getPath(a.node)))return-54;throw a}E[s>>>2]=u.dev,E[s+8>>>2]=u.ino,E[s+12>>>2]=u.mode,H[s+16>>>2]=u.nlink,E[s+20>>>2]=u.uid,E[s+24>>>2]=u.gid,E[s+28>>>2]=u.rdev,W=[u.size>>>0,(M=u.size,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[s+40>>>2]=W[0],E[s+44>>>2]=W[1],E[s+48>>>2]=4096,E[s+52>>>2]=u.blocks;var e=u.atime.getTime(),r=u.mtime.getTime(),n=u.ctime.getTime();return W=[Math.floor(e/1e3)>>>0,(M=Math.floor(e/1e3),+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[s+56>>>2]=W[0],E[s+60>>>2]=W[1],H[s+64>>>2]=e%1e3*1e3,W=[Math.floor(r/1e3)>>>0,(M=Math.floor(r/1e3),+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[s+72>>>2]=W[0],E[s+76>>>2]=W[1],H[s+80>>>2]=r%1e3*1e3,W=[Math.floor(n/1e3)>>>0,(M=Math.floor(n/1e3),+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[s+88>>>2]=W[0],E[s+92>>>2]=W[1],H[s+96>>>2]=n%1e3*1e3,W=[u.ino>>>0,(M=u.ino,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[s+104>>>2]=W[0],E[s+108>>>2]=W[1],0},doMsync:function(t,i,s,u,e){if(!d.isFile(i.node.mode))throw new d.ErrnoError(43);if(u&2)return 0;t>>>=0;var r=ie.slice(t,t+s);d.msync(i,r,e,s,u)},varargs:void 0,get:function(){G.varargs+=4;var t=E[G.varargs-4>>>2];return t},getStr:function(t){var i=Ge(t);return i},getStreamFromFD:function(t){var i=d.getStream(t);if(!i)throw new d.ErrnoError(8);return i}};function jr(t,i,s,u,e){try{for(var r=0,n=i?E[i>>>2]:0,a=i?E[i+4>>>2]:0,l=s?E[s>>>2]:0,m=s?E[s+4>>>2]:0,p=u?E[u>>>2]:0,g=u?E[u+4>>>2]:0,v=0,F=0,R=0,B=0,N=0,x=0,D=(i?E[i>>>2]:0)|(s?E[s>>>2]:0)|(u?E[u>>>2]:0),P=(i?E[i+4>>>2]:0)|(s?E[s+4>>>2]:0)|(u?E[u+4>>>2]:0),q=function(J,me,_e,_r){return J<32?me&_r:_e&_r},z=0;z<t;z++){var T=1<<z%32;if(q(z,D,P,T)){var U=G.getStreamFromFD(z),re=G.DEFAULT_POLLMASK;U.stream_ops.poll&&(re=U.stream_ops.poll(U)),re&1&&q(z,n,a,T)&&(z<32?v=v|T:F=F|T,r++),re&4&&q(z,l,m,T)&&(z<32?R=R|T:B=B|T,r++),re&2&&q(z,p,g,T)&&(z<32?N=N|T:x=x|T,r++)}}return i&&(E[i>>>2]=v,E[i+4>>>2]=F),s&&(E[s>>>2]=R,E[s+4>>>2]=B),u&&(E[u>>>2]=N,E[u+4>>>2]=x),r}catch(J){if(typeof d>"u"||J.name!=="ErrnoError")throw J;return-J.errno}}var c={mount:function(t){return o.websocket=o.websocket&&typeof o.websocket=="object"?o.websocket:{},o.websocket._callbacks={},o.websocket.on=function(i,s){return typeof s=="function"&&(this._callbacks[i]=s),this},o.websocket.emit=function(i,s){typeof this._callbacks[i]=="function"&&this._callbacks[i].call(this,s)},d.createNode(null,"/",16895,0)},createSocket:function(t,i,s){i&=-526337;var u=i==1;if(u&&s&&s!=6)throw new d.ErrnoError(66);var e={family:t,type:i,protocol:s,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:c.websocket_sock_ops},r=c.nextname(),n=d.createNode(c.root,r,49152,0);n.sock=e;var a=d.createStream({path:r,node:n,flags:2,seekable:!1,stream_ops:c.stream_ops});return e.stream=a,e},getSocket:function(t){var i=d.getStream(t);return!i||!d.isSocket(i.node.mode)?null:i.node.sock},stream_ops:{poll:function(t){var i=t.node.sock;return i.sock_ops.poll(i)},ioctl:function(t,i,s){var u=t.node.sock;return u.sock_ops.ioctl(u,i,s)},read:function(t,i,s,u,e){var r=t.node.sock,n=r.sock_ops.recvmsg(r,u);return n?(i.set(n.buffer,s),n.buffer.length):0},write:function(t,i,s,u,e){var r=t.node.sock;return r.sock_ops.sendmsg(r,i,s,u)},close:function(t){var i=t.node.sock;i.sock_ops.close(i)}},nextname:function(){return c.nextname.current||(c.nextname.current=0),"socket["+c.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(t,i,s){var u;if(typeof i=="object"&&(u=i,i=null,s=null),u)if(u._socket)i=u._socket.remoteAddress,s=u._socket.remotePort;else{var e=/ws[s]?:\/\/([^:]+):(\d+)/.exec(u.url);if(!e)throw new Error("WebSocket URL must be in the format ws(s)://address:port");i=e[1],s=parseInt(e[2],10)}else try{var r=o.websocket&&typeof o.websocket=="object",n="ws:#".replace("#","//");if(r&&typeof o.websocket.url=="string"&&(n=o.websocket.url),n==="ws://"||n==="wss://"){var a=i.split("/");n=n+a[0]+":"+s+"/"+a.slice(1).join("/")}var l="binary";r&&typeof o.websocket.subprotocol=="string"&&(l=o.websocket.subprotocol);var m=void 0;l!=="null"&&(l=l.replace(/^ +| +$/g,"").split(/ *, */),m=l),r&&o.websocket.subprotocol===null&&(l="null",m=void 0);var p;O?p=lt():p=WebSocket,u=new p(n,m),u.binaryType="arraybuffer"}catch(v){throw new d.ErrnoError(23)}var g={addr:i,port:s,socket:u,dgram_send_queue:[]};return c.websocket_sock_ops.addPeer(t,g),c.websocket_sock_ops.handlePeerEvents(t,g),t.type===2&&typeof t.sport<"u"&&g.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(t.sport&65280)>>8,t.sport&255])),g},getPeer:function(t,i,s){return t.peers[i+":"+s]},addPeer:function(t,i){t.peers[i.addr+":"+i.port]=i},removePeer:function(t,i){delete t.peers[i.addr+":"+i.port]},handlePeerEvents:function(t,i){var s=!0,u=function(){o.websocket.emit("open",t.stream.fd);try{for(var r=i.dgram_send_queue.shift();r;)i.socket.send(r),r=i.dgram_send_queue.shift()}catch(n){i.socket.close()}};function e(r){if(typeof r=="string"){var n=new TextEncoder;r=n.encode(r)}else{if(we(r.byteLength!==void 0),r.byteLength==0)return;r=new Uint8Array(r)}var a=s;if(s=!1,a&&r.length===10&&r[0]===255&&r[1]===255&&r[2]===255&&r[3]===255&&r[4]==="p".charCodeAt(0)&&r[5]==="o".charCodeAt(0)&&r[6]==="r".charCodeAt(0)&&r[7]==="t".charCodeAt(0)){var l=r[8]<<8|r[9];c.websocket_sock_ops.removePeer(t,i),i.port=l,c.websocket_sock_ops.addPeer(t,i);return}t.recv_queue.push({addr:i.addr,port:i.port,data:r}),o.websocket.emit("message",t.stream.fd)}O?(i.socket.on("open",u),i.socket.on("message",function(r,n){n&&e(new Uint8Array(r).buffer)}),i.socket.on("close",function(){o.websocket.emit("close",t.stream.fd)}),i.socket.on("error",function(r){t.error=14,o.websocket.emit("error",[t.stream.fd,t.error,"ECONNREFUSED: Connection refused"])})):(i.socket.onopen=u,i.socket.onclose=function(){o.websocket.emit("close",t.stream.fd)},i.socket.onmessage=function(n){e(n.data)},i.socket.onerror=function(r){t.error=14,o.websocket.emit("error",[t.stream.fd,t.error,"ECONNREFUSED: Connection refused"])})},poll:function(t){if(t.type===1&&t.server)return t.pending.length?65:0;var i=0,s=t.type===1?c.websocket_sock_ops.getPeer(t,t.daddr,t.dport):null;return(t.recv_queue.length||!s||s&&s.socket.readyState===s.socket.CLOSING||s&&s.socket.readyState===s.socket.CLOSED)&&(i|=65),(!s||s&&s.socket.readyState===s.socket.OPEN)&&(i|=4),(s&&s.socket.readyState===s.socket.CLOSING||s&&s.socket.readyState===s.socket.CLOSED)&&(i|=16),i},ioctl:function(t,i,s){switch(i){case 21531:var u=0;return t.recv_queue.length&&(u=t.recv_queue[0].data.length),E[s>>>2]=u,0;default:return 28}},close:function(t){if(t.server){try{t.server.close()}catch(e){}t.server=null}for(var i=Object.keys(t.peers),s=0;s<i.length;s++){var u=t.peers[i[s]];try{u.socket.close()}catch(e){}c.websocket_sock_ops.removePeer(t,u)}return 0},bind:function(t,i,s){if(typeof t.saddr<"u"||typeof t.sport<"u")throw new d.ErrnoError(28);if(t.saddr=i,t.sport=s,t.type===2){t.server&&(t.server.close(),t.server=null);try{t.sock_ops.listen(t,0)}catch(u){if(u.name!=="ErrnoError"||u.errno!==138)throw u}}},connect:function(t,i,s){if(t.server)throw new d.ErrnoError(138);if(typeof t.daddr<"u"&&typeof t.dport<"u"){var u=c.websocket_sock_ops.getPeer(t,t.daddr,t.dport);if(u)throw u.socket.readyState===u.socket.CONNECTING?new d.ErrnoError(7):new d.ErrnoError(30)}var e=c.websocket_sock_ops.createPeer(t,i,s);throw t.daddr=e.addr,t.dport=e.port,new d.ErrnoError(26)},listen:function(t,i){if(!O)throw new d.ErrnoError(138);if(t.server)throw new d.ErrnoError(28);var s=lt().Server,u=t.saddr;t.server=new s({host:u,port:t.sport}),o.websocket.emit("listen",t.stream.fd),t.server.on("connection",function(e){if(t.type===1){var r=c.createSocket(t.family,t.type,t.protocol),n=c.websocket_sock_ops.createPeer(r,e);r.daddr=n.addr,r.dport=n.port,t.pending.push(r),o.websocket.emit("connection",r.stream.fd)}else c.websocket_sock_ops.createPeer(t,e),o.websocket.emit("connection",t.stream.fd)}),t.server.on("close",function(){o.websocket.emit("close",t.stream.fd),t.server=null}),t.server.on("error",function(e){t.error=23,o.websocket.emit("error",[t.stream.fd,t.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(t){if(!t.server||!t.pending.length)throw new d.ErrnoError(28);var i=t.pending.shift();return i.stream.flags=t.stream.flags,i},getname:function(t,i){var s,u;if(i){if(t.daddr===void 0||t.dport===void 0)throw new d.ErrnoError(53);s=t.daddr,u=t.dport}else s=t.saddr||0,u=t.sport||0;return{addr:s,port:u}},sendmsg:function(t,i,s,u,e,r){if(t.type===2){if((e===void 0||r===void 0)&&(e=t.daddr,r=t.dport),e===void 0||r===void 0)throw new d.ErrnoError(17)}else e=t.daddr,r=t.dport;var n=c.websocket_sock_ops.getPeer(t,e,r);if(t.type===1){if(!n||n.socket.readyState===n.socket.CLOSING||n.socket.readyState===n.socket.CLOSED)throw new d.ErrnoError(53);if(n.socket.readyState===n.socket.CONNECTING)throw new d.ErrnoError(6)}ArrayBuffer.isView(i)&&(s+=i.byteOffset,i=i.buffer);var a;if(a=i.slice(s,s+u),t.type===2&&(!n||n.socket.readyState!==n.socket.OPEN))return(!n||n.socket.readyState===n.socket.CLOSING||n.socket.readyState===n.socket.CLOSED)&&(n=c.websocket_sock_ops.createPeer(t,e,r)),n.dgram_send_queue.push(a),u;try{return n.socket.send(a),u}catch(l){throw new d.ErrnoError(28)}},recvmsg:function(t,i){if(t.type===1&&t.server)throw new d.ErrnoError(53);var s=t.recv_queue.shift();if(!s){if(t.type===1){var u=c.websocket_sock_ops.getPeer(t,t.daddr,t.dport);if(!u)throw new d.ErrnoError(53);if(u.socket.readyState===u.socket.CLOSING||u.socket.readyState===u.socket.CLOSED)return null;throw new d.ErrnoError(6)}throw new d.ErrnoError(6)}var e=s.data.byteLength||s.data.length,r=s.data.byteOffset||0,n=s.data.buffer||s.data,a=Math.min(i,e),l={buffer:new Uint8Array(n,r,a),addr:s.addr,port:s.port};if(t.type===1&&a<e){var m=e-a;s.data=new Uint8Array(n,r+a,m),t.recv_queue.unshift(s)}return l}}};function Te(t){var i=c.getSocket(t);if(!i)throw new d.ErrnoError(8);return i}function $(t){return E[Pt()>>>2]=t,t}function Xr(t){return(t&255)+"."+(t>>8&255)+"."+(t>>16&255)+"."+(t>>24&255)}function ce(t){var i="",s=0,u=0,e=0,r=0,n=0,a=0,l=[t[0]&65535,t[0]>>16,t[1]&65535,t[1]>>16,t[2]&65535,t[2]>>16,t[3]&65535,t[3]>>16],m=!0,p="";for(a=0;a<5;a++)if(l[a]!==0){m=!1;break}if(m){if(p=Xr(l[6]|l[7]<<16),l[5]===-1)return i="::ffff:",i+=p,i;if(l[5]===0)return i="::",p==="0.0.0.0"&&(p=""),p==="0.0.0.1"&&(p="1"),i+=p,i}for(s=0;s<8;s++)l[s]===0&&(s-e>1&&(n=0),e=s,n++),n>u&&(u=n,r=s-u+1);for(s=0;s<8;s++){if(u>1&&l[s]===0&&s>=r&&s<r+u){s===r&&(i+=":",r===0&&(i+=":"));continue}i+=Number(Vr(l[s]&65535)).toString(16),i+=s<7?":":""}return i}function qe(t,i){var s=ae[t>>>1],u=Vr(le[t+2>>>1]),e;switch(s){case 2:if(i!==16)return{errno:28};e=E[t+4>>>2],e=Xr(e);break;case 10:if(i!==28)return{errno:28};e=[E[t+8>>>2],E[t+12>>>2],E[t+16>>>2],E[t+20>>>2]],e=ce(e);break;default:return{errno:5}}return{family:s,addr:e,port:u}}function br(t){for(var i=t.split("."),s=0;s<4;s++){var u=Number(i[s]);if(isNaN(u))return null;i[s]=u}return(i[0]|i[1]<<8|i[2]<<16|i[3]<<24)>>>0}function $e(t){return parseInt(t)}function wr(t){var i,s,u,e,r=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,n=[];if(!r.test(t))return null;if(t==="::")return[0,0,0,0,0,0,0,0];for(t.startsWith("::")?t=t.replace("::","Z:"):t=t.replace("::",":Z:"),t.indexOf(".")>0?(t=t.replace(new RegExp("[.]","g"),":"),i=t.split(":"),i[i.length-4]=$e(i[i.length-4])+$e(i[i.length-3])*256,i[i.length-3]=$e(i[i.length-2])+$e(i[i.length-1])*256,i=i.slice(0,i.length-2)):i=t.split(":"),u=0,e=0,s=0;s<i.length;s++)if(typeof i[s]=="string")if(i[s]==="Z"){for(e=0;e<8-i.length+1;e++)n[s+e]=0;u=e-1}else n[s+u]=Fr(parseInt(i[s],16));else n[s+u]=i[s];return[n[1]<<16|n[0],n[3]<<16|n[2],n[5]<<16|n[4],n[7]<<16|n[6]]}var Ee={address_map:{id:1,addrs:{},names:{}},lookup_name:function(t){var i=br(t);if(i!==null||(i=wr(t),i!==null))return t;var s;if(Ee.address_map.addrs[t])s=Ee.address_map.addrs[t];else{var u=Ee.address_map.id++;we(u<65535,"exceeded max address mappings of 65535"),s="172.29."+(u&255)+"."+(u&65280),Ee.address_map.names[s]=t,Ee.address_map.addrs[t]=s}return s},lookup_addr:function(t){return Ee.address_map.names[t]?Ee.address_map.names[t]:null}};function Ke(t,i,s){if(s&&t===0)return null;var u=qe(t,i);if(u.errno)throw new d.ErrnoError(u.errno);return u.addr=Ee.lookup_addr(u.addr)||u.addr,u}function gr(t,i,s,u,e,r){try{var n=Te(t),a=Ke(i,s);return n.sock_ops.bind(n,a.addr,a.port),0}catch(l){if(typeof d>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function Gr(t,i,s,u,e,r){try{var n=Te(t),a=Ke(i,s);return n.sock_ops.connect(n,a.addr,a.port),0}catch(l){if(typeof d>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function ke(t,i,s,u){try{if(i=G.getStr(i),i=G.calculateAt(t,i),s&-8)return-28;var e=d.lookupPath(i,{follow:!0}),r=e.node;if(!r)return-44;var n="";return s&4&&(n+="r"),s&2&&(n+="w"),s&1&&(n+="x"),n&&d.nodePermissions(r,n)?-2:0}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function $r(t,i,s){G.varargs=s;try{var u=G.getStreamFromFD(t);switch(i){case 0:{var e=G.get();if(e<0)return-28;var r;return r=d.createStream(u,e),r.fd}case 1:case 2:return 0;case 3:return u.flags;case 4:{var e=G.get();return u.flags|=e,0}case 5:{var e=G.get(),n=0;return ae[e+n>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return $(28),-1;default:return-28}}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function kn(t,i){try{var s=G.getStreamFromFD(t);return G.doStat(d.stat,s.path,i)}catch(u){if(typeof d>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function yr(t,i){return i+2097152>>>0<4194305-!!t?(t>>>0)+i*4294967296:NaN}function Sn(t,i,s){try{var u=yr(i,s);return isNaN(u)?-61:(d.ftruncate(t,u),0)}catch(e){if(typeof d>"u"||e.name!=="ErrnoError")throw e;return-e.errno}}function tr(t,i,s){return zr(t,ie,i,s)}function Dn(t,i,s){try{var u=G.getStreamFromFD(t);u.getdents||(u.getdents=d.readdir(u.path));for(var e=280,r=0,n=d.llseek(u,0,1),a=Math.floor(n/e);a<u.getdents.length&&r+e<=s;){var l,m,p=u.getdents[a];if(p===".")l=u.node.id,m=4;else if(p===".."){var g=d.lookupPath(u.path,{parent:!0});l=g.node.id,m=4}else{var v=d.lookupNode(u.node,p);l=v.id,m=d.isChrdev(v.mode)?2:d.isDir(v.mode)?4:d.isLink(v.mode)?10:8}W=[l>>>0,(M=l,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[i+r>>>2]=W[0],E[i+r+4>>>2]=W[1],W=[(a+1)*e>>>0,(M=(a+1)*e,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[i+r+8>>>2]=W[0],E[i+r+12>>>2]=W[1],ae[i+r+16>>>1]=280,V[i+r+18>>>0]=m,tr(p,i+r+19,256),r+=e,a+=1}return d.llseek(u,a*e,0),r}catch(F){if(typeof d>"u"||F.name!=="ErrnoError")throw F;return-F.errno}}function Ye(t,i,s,u,e){switch(i){case 2:s=br(s),Xe(t,16),e&&(E[e>>>2]=16),ae[t>>>1]=i,E[t+4>>>2]=s,ae[t+2>>>1]=Fr(u);break;case 10:s=wr(s),Xe(t,28),e&&(E[e>>>2]=28),E[t>>>2]=i,E[t+8>>>2]=s[0],E[t+12>>>2]=s[1],E[t+16>>>2]=s[2],E[t+20>>>2]=s[3],ae[t+2>>>1]=Fr(u);break;default:return 5}return 0}function Fn(t,i,s,u,e,r){try{var n=Te(t);if(!n.daddr)return-53;var a=Ye(i,n.family,Ee.lookup_name(n.daddr),n.dport,s);return 0}catch(l){if(typeof d>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function nr(t,i,s,u,e,r){try{var n=Te(t);return i===1&&s===4?(E[u>>>2]=n.error,E[e>>>2]=4,n.error=null,0):-50}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function An(t,i,s){G.varargs=s;try{var u=G.getStreamFromFD(t);switch(i){case 21509:case 21505:return u.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return u.tty?0:-59;case 21519:{if(!u.tty)return-59;var e=G.get();return E[e>>>2]=0,0}case 21520:return u.tty?-28:-59;case 21531:{var e=G.get();return d.ioctl(u,i,e)}case 21523:return u.tty?0:-59;case 21524:return u.tty?0:-59;default:return-28}}catch(r){if(typeof d>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Kr(t,i){try{return t=G.getStr(t),G.doStat(d.lstat,t,i)}catch(s){if(typeof d>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function Rn(t,i,s){try{return i=G.getStr(i),i=G.calculateAt(t,i),i=ue.normalize(i),i[i.length-1]==="/"&&(i=i.substr(0,i.length-1)),d.mkdir(i,s,0),0}catch(u){if(typeof d>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Tn(t,i,s,u){try{i=G.getStr(i);var e=u&256,r=u&4096;return u=u&-6401,i=G.calculateAt(t,i,r),G.doStat(e?d.lstat:d.stat,i,s)}catch(n){if(typeof d>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function Mn(t,i,s,u){G.varargs=u;try{i=G.getStr(i),i=G.calculateAt(t,i);var e=u?G.get():0;return d.open(i,s,e).fd}catch(r){if(typeof d>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Cn(t,i,s,u,e,r){try{var n=Te(t),a=n.sock_ops.recvmsg(n,s);if(!a)return 0;if(e)var l=Ye(e,n.family,Ee.lookup_name(a.addr),a.port,r);return ie.set(a.buffer,i>>>0),a.buffer.byteLength}catch(m){if(typeof d>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function Pn(t,i,s,u){try{return i=G.getStr(i),u=G.getStr(u),i=G.calculateAt(t,i),u=G.calculateAt(s,u),d.rename(i,u),0}catch(e){if(typeof d>"u"||e.name!=="ErrnoError")throw e;return-e.errno}}function Nn(t){try{return t=G.getStr(t),d.rmdir(t),0}catch(i){if(typeof d>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function xn(t,i,s,u,e,r){try{var n=Te(t),a=Ke(e,r,!0);return a?n.sock_ops.sendmsg(n,V,i,s,a.addr,a.port):d.write(n.stream,V,i,s)}catch(l){if(typeof d>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function Un(t,i,s){try{var u=c.createSocket(t,i,s);return u.stream.fd}catch(e){if(typeof d>"u"||e.name!=="ErrnoError")throw e;return-e.errno}}function Bn(t,i){try{return t=G.getStr(t),G.doStat(d.stat,t,i)}catch(s){if(typeof d>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function On(t,i,s){try{return i=G.getStr(i),i=G.calculateAt(t,i),s===0?d.unlink(i):s===512?d.rmdir(i):I("Invalid flags passed to unlinkat"),0}catch(u){if(typeof d>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}var Hn=!0;function Ln(){return Hn}function In(t){return H[t>>>2]+E[t+4>>>2]*4294967296}function or(t){return t%4===0&&(t%100!==0||t%400===0)}var zn=[0,31,60,91,121,152,182,213,244,274,305,335],Wn=[0,31,59,90,120,151,181,212,243,273,304,334];function qn(t){var i=or(t.getFullYear()),s=i?zn:Wn,u=s[t.getMonth()]+t.getDate()-1;return u}function ir(t,i){var s=new Date(In(t)*1e3);E[i>>>2]=s.getSeconds(),E[i+4>>>2]=s.getMinutes(),E[i+8>>>2]=s.getHours(),E[i+12>>>2]=s.getDate(),E[i+16>>>2]=s.getMonth(),E[i+20>>>2]=s.getFullYear()-1900,E[i+24>>>2]=s.getDay();var u=qn(s)|0;E[i+28>>>2]=u,E[i+36>>>2]=-(s.getTimezoneOffset()*60);var e=new Date(s.getFullYear(),0,1),r=new Date(s.getFullYear(),6,1).getTimezoneOffset(),n=e.getTimezoneOffset(),a=(r!=n&&s.getTimezoneOffset()==Math.min(n,r))|0;E[i+32>>>2]=a}function pt(t){var i=oe(t)+1,s=lr(i);return s&&tr(t,s,i),s}function jn(t,i,s){var u=new Date().getFullYear(),e=new Date(u,0,1),r=new Date(u,6,1),n=e.getTimezoneOffset(),a=r.getTimezoneOffset(),l=Math.max(n,a);H[t>>>2]=l*60,E[i>>>2]=+(n!=a);function m(R){var B=R.toTimeString().match(/\(([A-Za-z ]+)\)$/);return B?B[1]:"GMT"}var p=m(e),g=m(r),v=pt(p),F=pt(g);a<n?(H[s>>>2]=v,H[s+4>>>2]=F):(H[s>>>2]=F,H[s+4>>>2]=v)}function Xn(){I("")}function Gn(t,i){I(ft)}function ht(t,i){return globalThis.DUCKDB_RUNTIME.createDirectory(o,t,i)}function $n(t,i){return globalThis.DUCKDB_RUNTIME.checkDirectory(o,t,i)}function Kn(t,i){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(o,t,i)}function Yn(t,i){return globalThis.DUCKDB_RUNTIME.removeDirectory(o,t,i)}function Vn(t){return globalThis.DUCKDB_RUNTIME.closeFile(o,t)}function Jn(t,i,s,u){return globalThis.DUCKDB_RUNTIME.checkFile(o,t,i,s,u)}function Qn(t){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(o,t)}function Zn(t,i,s,u){return globalThis.DUCKDB_RUNTIME.moveFile(o,t,i,s,u)}function eo(t,i){return globalThis.DUCKDB_RUNTIME.openFile(o,t,i)}function ro(t,i,s,u){return globalThis.DUCKDB_RUNTIME.readFile(o,t,i,s,u)}function to(t,i){return globalThis.DUCKDB_RUNTIME.truncateFile(o,t,i)}function no(t,i,s,u){return globalThis.DUCKDB_RUNTIME.writeFile(o,t,i,s,u)}function oo(t){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(t)}function io(t,i){return globalThis.DUCKDB_RUNTIME.glob(o,t,i)}function ao(t){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(o,t)}function so(t,i,s,u,e,r){return globalThis.DUCKDB_RUNTIME.callScalarUDF(o,t,i,s,u,e,r)}function uo(){return Date.now()}function bt(){return 4294901760}function lo(){return bt()}var wt;O&&(global.performance=Ki().performance),wt=()=>performance.now();function co(t,i,s){ie.copyWithin(t>>>0,i>>>0,i+s>>>0)}function gt(t){var i=Ae.buffer,s=t-i.byteLength+65535>>>16;try{return Ae.grow(s),Pr(),1}catch(u){}}function fo(t){var i=ie.length;t=t>>>0;var s=bt();if(t>s)return!1;for(var u=(l,m)=>l+(m-l%m)%m,e=1;e<=4;e*=2){var r=i*(1+.2/e);r=Math.min(r,t+100663296);var n=Math.min(s,u(Math.max(t,r),65536)),a=gt(n);if(a)return!0}return!1}var vr={};function _o(){return k||"./this.program"}function ar(){if(!ar.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:_o()};for(var s in vr)vr[s]===void 0?delete i[s]:i[s]=vr[s];var u=[];for(var s in i)u.push("".concat(s,"=").concat(i[s]));ar.strings=u}return ar.strings}function mo(t,i){for(var s=0;s<t.length;++s)V[i++>>>0]=t.charCodeAt(s);V[i>>>0]=0}function Yr(t,i){var s=0;return ar().forEach(function(u,e){var r=i+s;H[t+e*4>>>2]=r,mo(u,r),s+=u.length+1}),0}function po(t,i){var s=ar();H[t>>>2]=s.length;var u=0;return s.forEach(function(e){u+=e.length+1}),H[i>>>2]=u,0}function sr(t){try{var i=G.getStreamFromFD(t);return d.close(i),0}catch(s){if(typeof d>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function ho(t,i){try{var s=0,u=0,e=0,r=G.getStreamFromFD(t),n=r.tty?2:d.isDir(r.mode)?3:d.isLink(r.mode)?7:4;return V[i>>>0]=n,ae[i+2>>>1]=e,W=[s>>>0,(M=s,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[i+8>>>2]=W[0],E[i+12>>>2]=W[1],W=[u>>>0,(M=u,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[i+16>>>2]=W[0],E[i+20>>>2]=W[1],0}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return a.errno}}function yt(t,i,s,u){for(var e=0,r=0;r<s;r++){var n=H[i>>>2],a=H[i+4>>>2];i+=8;var l=d.read(t,V,n,a,u);if(l<0)return-1;if(e+=l,l<a)break;typeof u<"u"&&(u+=l)}return e}function bo(t,i,s,u,e,r){try{var n=yr(u,e);if(isNaN(n))return 61;var a=G.getStreamFromFD(t),l=yt(a,i,s,n);return H[r>>>2]=l,0}catch(m){if(typeof d>"u"||m.name!=="ErrnoError")throw m;return m.errno}}function vt(t,i,s,u){for(var e=0,r=0;r<s;r++){var n=H[i>>>2],a=H[i+4>>>2];i+=8;var l=d.write(t,V,n,a,u);if(l<0)return-1;e+=l,typeof u<"u"&&(u+=l)}return e}function wo(t,i,s,u,e,r){try{var n=yr(u,e);if(isNaN(n))return 61;var a=G.getStreamFromFD(t),l=vt(a,i,s,n);return H[r>>>2]=l,0}catch(m){if(typeof d>"u"||m.name!=="ErrnoError")throw m;return m.errno}}function Et(t,i,s,u){try{var e=G.getStreamFromFD(t),r=yt(e,i,s);return H[u>>>2]=r,0}catch(n){if(typeof d>"u"||n.name!=="ErrnoError")throw n;return n.errno}}function go(t,i,s,u,e){try{var r=yr(i,s);if(isNaN(r))return 61;var n=G.getStreamFromFD(t);return d.llseek(n,r,u),W=[n.position>>>0,(M=n.position,+Math.abs(M)>=1?M>0?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],E[e>>>2]=W[0],E[e+4>>>2]=W[1],n.getdents&&r===0&&u===0&&(n.getdents=null),0}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return a.errno}}function kt(t){try{var i=G.getStreamFromFD(t);return i.stream_ops&&i.stream_ops.fsync?i.stream_ops.fsync(i):0}catch(s){if(typeof d>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function yo(t,i,s,u){try{var e=G.getStreamFromFD(t),r=vt(e,i,s);return H[u>>>2]=r,0}catch(n){if(typeof d>"u"||n.name!=="ErrnoError")throw n;return n.errno}}function vo(t,i,s,u){var e=0,r=0,n=0,a=0,l=0,m=0,p;function g(v,F,R,B,N,x){var D,P,q,z;return P=v===10?28:16,N=v===10?ce(N):Xr(N),D=lr(P),z=Ye(D,v,N,x),we(!z),q=lr(32),E[q+4>>>2]=v,E[q+8>>>2]=F,E[q+12>>>2]=R,H[q+24>>>2]=B,H[q+20>>>2]=D,v===10?E[q+16>>>2]=28:E[q+16>>>2]=16,E[q+28>>>2]=0,q}if(s&&(n=E[s>>>2],a=E[s+4>>>2],l=E[s+8>>>2],m=E[s+12>>>2]),l&&!m&&(m=l===2?17:6),!l&&m&&(l=m===17?2:1),m===0&&(m=6),l===0&&(l=1),!t&&!i)return-2;if(n&-1088||s!==0&&E[s>>>2]&2&&!t)return-1;if(n&32)return-2;if(l!==0&&l!==1&&l!==2)return-7;if(a!==0&&a!==2&&a!==10)return-6;if(i&&(i=Ge(i),r=parseInt(i,10),isNaN(r)))return n&1024?-2:-8;if(!t)return a===0&&(a=2),n&1||(a===2?e=Dr(2130706433):e=[0,0,0,1]),p=g(a,l,m,null,e,r),H[u>>>2]=p,0;if(t=Ge(t),e=br(t),e!==null)if(a===0||a===2)a=2;else if(a===10&&n&8)e=[0,0,Dr(65535),e],a=10;else return-2;else if(e=wr(t),e!==null)if(a===0||a===10)a=10;else return-2;return e!=null?(p=g(a,l,m,t,e,r),H[u>>>2]=p,0):n&4?-2:(t=Ee.lookup_name(t),e=br(t),a===0?a=2:a===10&&(e=[0,0,Dr(65535),e]),p=g(a,l,m,null,e,r),H[u>>>2]=p,0)}function Eo(t,i){return hr(ie.subarray(t>>>0,t+i>>>0)),0}function ko(t,i,s,u,e,r,n){var a=qe(t,i);if(a.errno)return-6;var l=a.port,m=a.addr,p=!1;if(s&&u){var g;if(n&1||!(g=Ee.lookup_addr(m))){if(n&8)return-2}else m=g;var v=tr(m,s,u);v+1>=u&&(p=!0)}if(e&&r){l=""+l;var v=tr(l,e,r);v+1>=r&&(p=!0)}return p?-12:0}function So(t,i){for(var s=0,u=0;u<=i;s+=t[u++]);return s}var St=[31,29,31,30,31,30,31,31,30,31,30,31],Dt=[31,28,31,30,31,30,31,31,30,31,30,31];function Do(t,i){for(var s=new Date(t.getTime());i>0;){var u=or(s.getFullYear()),e=s.getMonth(),r=(u?St:Dt)[e];if(i>r-s.getDate())i-=r-s.getDate()+1,s.setDate(1),e<11?s.setMonth(e+1):(s.setMonth(0),s.setFullYear(s.getFullYear()+1));else return s.setDate(s.getDate()+i),s}return s}function Ft(t,i){V.set(t,i>>>0)}function At(t,i,s,u){var e=E[u+40>>>2],r={tm_sec:E[u>>>2],tm_min:E[u+4>>>2],tm_hour:E[u+8>>>2],tm_mday:E[u+12>>>2],tm_mon:E[u+16>>>2],tm_year:E[u+20>>>2],tm_wday:E[u+24>>>2],tm_yday:E[u+28>>>2],tm_isdst:E[u+32>>>2],tm_gmtoff:E[u+36>>>2],tm_zone:e?Ge(e):""},n=Ge(s),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in a)n=n.replace(new RegExp(l,"g"),a[l]);var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"];function g(D,P,q){for(var z=typeof D=="number"?D.toString():D||"";z.length<P;)z=q[0]+z;return z}function v(D,P){return g(D,P,"0")}function F(D,P){function q(T){return T<0?-1:T>0?1:0}var z;return(z=q(D.getFullYear()-P.getFullYear()))===0&&(z=q(D.getMonth()-P.getMonth()))===0&&(z=q(D.getDate()-P.getDate())),z}function R(D){switch(D.getDay()){case 0:return new Date(D.getFullYear()-1,11,29);case 1:return D;case 2:return new Date(D.getFullYear(),0,3);case 3:return new Date(D.getFullYear(),0,2);case 4:return new Date(D.getFullYear(),0,1);case 5:return new Date(D.getFullYear()-1,11,31);case 6:return new Date(D.getFullYear()-1,11,30)}}function B(D){var P=Do(new Date(D.tm_year+1900,0,1),D.tm_yday),q=new Date(P.getFullYear(),0,4),z=new Date(P.getFullYear()+1,0,4),T=R(q),U=R(z);return F(T,P)<=0?F(U,P)<=0?P.getFullYear()+1:P.getFullYear():P.getFullYear()-1}var N={"%a":function(D){return m[D.tm_wday].substring(0,3)},"%A":function(D){return m[D.tm_wday]},"%b":function(D){return p[D.tm_mon].substring(0,3)},"%B":function(D){return p[D.tm_mon]},"%C":function(D){var P=D.tm_year+1900;return v(P/100|0,2)},"%d":function(D){return v(D.tm_mday,2)},"%e":function(D){return g(D.tm_mday,2," ")},"%g":function(D){return B(D).toString().substring(2)},"%G":function(D){return B(D)},"%H":function(D){return v(D.tm_hour,2)},"%I":function(D){var P=D.tm_hour;return P==0?P=12:P>12&&(P-=12),v(P,2)},"%j":function(D){return v(D.tm_mday+So(or(D.tm_year+1900)?St:Dt,D.tm_mon-1),3)},"%m":function(D){return v(D.tm_mon+1,2)},"%M":function(D){return v(D.tm_min,2)},"%n":function(){return"\n"},"%p":function(D){return D.tm_hour>=0&&D.tm_hour<12?"AM":"PM"},"%S":function(D){return v(D.tm_sec,2)},"%t":function(){return"	"},"%u":function(D){return D.tm_wday||7},"%U":function(D){var P=D.tm_yday+7-D.tm_wday;return v(Math.floor(P/7),2)},"%V":function(D){var P=Math.floor((D.tm_yday+7-(D.tm_wday+6)%7)/7);if((D.tm_wday+371-D.tm_yday-2)%7<=2&&P++,P){if(P==53){var z=(D.tm_wday+371-D.tm_yday)%7;z!=4&&(z!=3||!or(D.tm_year))&&(P=1)}}else{P=52;var q=(D.tm_wday+7-D.tm_yday-1)%7;(q==4||q==5&&or(D.tm_year%400-1))&&P++}return v(P,2)},"%w":function(D){return D.tm_wday},"%W":function(D){var P=D.tm_yday+7-(D.tm_wday+6)%7;return v(Math.floor(P/7),2)},"%y":function(D){return(D.tm_year+1900).toString().substring(2)},"%Y":function(D){return D.tm_year+1900},"%z":function(D){var P=D.tm_gmtoff,q=P>=0;return P=Math.abs(P)/60,P=P/60*100+P%60,(q?"+":"-")+("0000"+P).slice(-4)},"%Z":function(D){return D.tm_zone},"%%":function(){return"%"}};n=n.replace(/%%/g,"\0\0");for(var l in N)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),N[l](r)));n=n.replace(/\0\0/g,"%");var x=je(n,!1);return x.length>i?0:(Ft(x,t),x.length-1)}function Rt(t,i,s,u,e){return At(t,i,s,u)}function Fo(){L("missing function: unzClose"),I(-1)}function Tt(){L("missing function: unzCloseCurrentFile"),I(-1)}function Ao(){L("missing function: unzGetCurrentFileInfo"),I(-1)}function Ro(){L("missing function: unzGetCurrentFileInfo64"),I(-1)}function To(){L("missing function: unzGetGlobalInfo"),I(-1)}function Mo(){L("missing function: unzGoToFirstFile"),I(-1)}function Co(){L("missing function: unzGoToNextFile"),I(-1)}function Po(){L("missing function: unzLocateFile"),I(-1)}function No(){L("missing function: unzOpen2"),I(-1)}function xo(){L("missing function: unzOpenCurrentFile"),I(-1)}function Uo(){L("missing function: unzReadCurrentFile"),I(-1)}function Bo(t){he=t,Vt()||(o.onExit&&o.onExit(t),ee=!0),S(t,new Ir(t))}function Oo(t,i){he=t,Bo(t)}function Ho(t){if(t instanceof Ir||t=="unwind")return he;S(1,t)}function Lo(t){var i=o["_"+t];return i}function Io(t){var i=oe(t)+1,s=fr(i);return tr(t,s,i),s}function zo(t,i,s,u,e){var r={string:R=>{var B=0;return R!=null&&R!==0&&(B=Io(R)),B},array:R=>{var B=fr(R.length);return Ft(R,B),B}};function n(R){return i==="string"?Ge(R):i==="boolean"?!!R:R}var a=Lo(t),l=[],m=0;if(u)for(var p=0;p<u.length;p++){var g=r[s[p]];g?(m===0&&(m=Ve()),l[p]=g(u[p])):l[p]=u[p]}var v=a.apply(null,l);function F(R){return m!==0&&Jr(m),n(R)}return v=F(v),v}var Mt=function(t,i,s,u){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=d.nextInode++,this.name=i,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=u},Er=365,kr=146;Object.defineProperties(Mt.prototype,{read:{get:function(){return(this.mode&Er)===Er},set:function(t){t?this.mode|=Er:this.mode&=~Er}},write:{get:function(){return(this.mode&kr)===kr},set:function(t){t?this.mode|=kr:this.mode&=~kr}},isFolder:{get:function(){return d.isDir(this.mode)}},isDevice:{get:function(){return d.isChrdev(this.mode)}}}),d.FSNode=Mt,d.createPreloadedFile=Z,d.staticInit();var Wo={f:ln,R:cn,T:fn,l:dn,n:_n,b:mn,z:pn,e:hn,a:bn,m:wn,i:gn,Aa:dt,va:jr,za:gr,ya:Gr,ra:ke,c:$r,qa:kn,M:Sn,la:Dn,ta:Fn,ua:nr,I:An,na:Kr,ma:Rn,oa:Tn,J:Mn,wa:Cn,ja:Pn,D:Nn,xa:xn,F:Un,pa:Bn,E:On,K:Ln,V:ir,W:jn,d:Xn,Ba:Gn,ba:ht,ca:$n,_:Kn,$:Yn,B:Vn,Y:Jn,L:Qn,Z:Zn,ea:eo,o:ro,da:to,C:no,fa:oo,X:io,A:ao,ga:so,u:uo,S:lo,g:wt,Da:co,Ea:fo,aa:Yr,ia:po,j:sr,Ca:ho,O:bo,N:wo,H:Et,P:go,ka:kt,t:yo,G:vo,ha:Eo,sa:ko,U:Rt,h:Fo,s:Tt,x:Ao,p:Ro,Q:To,y:Mo,w:Co,r:Po,v:No,q:xo,k:Uo},qo=un(),Sr=function(){return(Sr=o.asm.Ga).apply(null,arguments)},ur=o._main=function(){return(ur=o._main=o.asm.Ha).apply(null,arguments)},jo=o._duckdb_web_fs_glob_add_path=function(){return(jo=o._duckdb_web_fs_glob_add_path=o.asm.Ja).apply(null,arguments)},Zi=o._duckdb_web_clear_response=function(){return(Zi=o._duckdb_web_clear_response=o.asm.Ka).apply(null,arguments)},Xo=o._duckdb_web_fail_with=function(){return(Xo=o._duckdb_web_fail_with=o.asm.La).apply(null,arguments)},Ct=o._duckdb_web_reset=function(){return(Ct=o._duckdb_web_reset=o.asm.Ma).apply(null,arguments)},Go=o._duckdb_web_connect=function(){return(Go=o._duckdb_web_connect=o.asm.Na).apply(null,arguments)},$o=o._duckdb_web_disconnect=function(){return($o=o._duckdb_web_disconnect=o.asm.Oa).apply(null,arguments)},Ko=o._duckdb_web_flush_files=function(){return(Ko=o._duckdb_web_flush_files=o.asm.Pa).apply(null,arguments)},Yo=o._duckdb_web_flush_file=function(){return(Yo=o._duckdb_web_flush_file=o.asm.Qa).apply(null,arguments)},Vo=o._duckdb_web_open=function(){return(Vo=o._duckdb_web_open=o.asm.Ra).apply(null,arguments)},Jo=o._duckdb_web_get_global_file_info=function(){return(Jo=o._duckdb_web_get_global_file_info=o.asm.Sa).apply(null,arguments)},Qo=o._duckdb_web_collect_file_stats=function(){return(Qo=o._duckdb_web_collect_file_stats=o.asm.Ta).apply(null,arguments)},Zo=o._duckdb_web_export_file_stats=function(){return(Zo=o._duckdb_web_export_file_stats=o.asm.Ua).apply(null,arguments)},ei=o._duckdb_web_fs_drop_file=function(){return(ei=o._duckdb_web_fs_drop_file=o.asm.Va).apply(null,arguments)},ri=o._duckdb_web_fs_drop_files=function(){return(ri=o._duckdb_web_fs_drop_files=o.asm.Wa).apply(null,arguments)},ti=o._duckdb_web_fs_glob_file_infos=function(){return(ti=o._duckdb_web_fs_glob_file_infos=o.asm.Xa).apply(null,arguments)},ni=o._duckdb_web_fs_get_file_info_by_id=function(){return(ni=o._duckdb_web_fs_get_file_info_by_id=o.asm.Ya).apply(null,arguments)},oi=o._duckdb_web_fs_get_file_info_by_name=function(){return(oi=o._duckdb_web_fs_get_file_info_by_name=o.asm.Za).apply(null,arguments)},ii=o._duckdb_web_fs_register_file_url=function(){return(ii=o._duckdb_web_fs_register_file_url=o.asm._a).apply(null,arguments)},ai=o._duckdb_web_fs_register_file_buffer=function(){return(ai=o._duckdb_web_fs_register_file_buffer=o.asm.$a).apply(null,arguments)},si=o._duckdb_web_copy_file_to_buffer=function(){return(si=o._duckdb_web_copy_file_to_buffer=o.asm.ab).apply(null,arguments)},ui=o._duckdb_web_copy_file_to_path=function(){return(ui=o._duckdb_web_copy_file_to_path=o.asm.bb).apply(null,arguments)},li=o._duckdb_web_get_version=function(){return(li=o._duckdb_web_get_version=o.asm.cb).apply(null,arguments)},ci=o._duckdb_web_get_feature_flags=function(){return(ci=o._duckdb_web_get_feature_flags=o.asm.db).apply(null,arguments)},fi=o._duckdb_web_tokenize=function(){return(fi=o._duckdb_web_tokenize=o.asm.eb).apply(null,arguments)},di=o._duckdb_web_udf_scalar_create=function(){return(di=o._duckdb_web_udf_scalar_create=o.asm.fb).apply(null,arguments)},_i=o._duckdb_web_prepared_create=function(){return(_i=o._duckdb_web_prepared_create=o.asm.gb).apply(null,arguments)},mi=o._duckdb_web_prepared_close=function(){return(mi=o._duckdb_web_prepared_close=o.asm.hb).apply(null,arguments)},pi=o._duckdb_web_prepared_run=function(){return(pi=o._duckdb_web_prepared_run=o.asm.ib).apply(null,arguments)},hi=o._duckdb_web_prepared_send=function(){return(hi=o._duckdb_web_prepared_send=o.asm.jb).apply(null,arguments)},bi=o._duckdb_web_query_run=function(){return(bi=o._duckdb_web_query_run=o.asm.kb).apply(null,arguments)},wi=o._duckdb_web_pending_query_start=function(){return(wi=o._duckdb_web_pending_query_start=o.asm.lb).apply(null,arguments)},gi=o._duckdb_web_pending_query_poll=function(){return(gi=o._duckdb_web_pending_query_poll=o.asm.mb).apply(null,arguments)},yi=o._duckdb_web_pending_query_cancel=function(){return(yi=o._duckdb_web_pending_query_cancel=o.asm.nb).apply(null,arguments)},vi=o._duckdb_web_query_fetch_results=function(){return(vi=o._duckdb_web_query_fetch_results=o.asm.ob).apply(null,arguments)},Ei=o._duckdb_web_get_tablenames=function(){return(Ei=o._duckdb_web_get_tablenames=o.asm.pb).apply(null,arguments)},ki=o._duckdb_web_insert_arrow_from_ipc_stream=function(){return(ki=o._duckdb_web_insert_arrow_from_ipc_stream=o.asm.qb).apply(null,arguments)},Si=o._duckdb_web_insert_csv_from_path=function(){return(Si=o._duckdb_web_insert_csv_from_path=o.asm.rb).apply(null,arguments)},Di=o._duckdb_web_insert_json_from_path=function(){return(Di=o._duckdb_web_insert_json_from_path=o.asm.sb).apply(null,arguments)},Pt=function(){return(Pt=o.asm.tb).apply(null,arguments)},Dr=function(){return(Dr=o.asm.ub).apply(null,arguments)},Fr=function(){return(Fr=o.asm.vb).apply(null,arguments)},Vr=function(){return(Vr=o.asm.wb).apply(null,arguments)},lr=o._malloc=function(){return(lr=o._malloc=o.asm.xb).apply(null,arguments)},Ar=o._free=function(){return(Ar=o._free=o.asm.yb).apply(null,arguments)},cr=function(){return(cr=o.asm.zb).apply(null,arguments)},Rr=function(){return(Rr=o.asm.Ab).apply(null,arguments)},Ve=function(){return(Ve=o.asm.Bb).apply(null,arguments)},Jr=function(){return(Jr=o.asm.Cb).apply(null,arguments)},fr=function(){return(fr=o.asm.Db).apply(null,arguments)};o.stackAlloc=fr,o.stackSave=Ve,o.stackRestore=Jr,o.ccall=zo;var Je;Ne=function t(){Je||dr(),Je||(Ne=t)};function Qr(){var t=ur,i=0,s=0;try{var u=t(i,s);return Oo(u,!0),u}catch(e){return Ho(e)}}function dr(){if(ve>0||(Jt(),ve>0))return;function t(){Je||(Je=!0,o.calledRun=!0,!ee&&(Qt(),Zt(),b(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Zr&&Qr(),en()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),t()},1)):t()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var Zr=!0;return o.noInitialRun&&(Zr=!1),dr(),f.ready}})();typeof qt=="object"&&typeof Qi=="object"?Qi.exports=Ji:typeof define=="function"&&define.amd?define([],function(){return Ji}):typeof qt=="object"&&(qt.DuckDB=Ji)});var fs={};La(fs,{BROWSER_RUNTIME:()=>te,ConsoleLogger:()=>Bi,DEFAULT_RUNTIME:()=>Mi,DuckDBAccessMode:()=>fa,DuckDBBindingsBase:()=>ut,DuckDBConnection:()=>tt,DuckDBDataProtocol:()=>Tr,DuckDBFeature:()=>ca,FileFlags:()=>Ti,FileStatistics:()=>st,JSONTableShape:()=>da,LogEvent:()=>pa,LogLevel:()=>_a,LogOrigin:()=>ha,LogTopic:()=>ma,OPFSFileHandleGenerator:()=>Pi,OpenedFile:()=>ot,PACKAGE_NAME:()=>Oi,PACKAGE_VERSION:()=>Hi,PACKAGE_VERSION_MAJOR:()=>Za,PACKAGE_VERSION_MINOR:()=>es,PACKAGE_VERSION_PATCH:()=>rs,PreparedStatement:()=>xt,ResultStreamIterator:()=>nt,StatusCode:()=>ta,VoidLogger:()=>Ui,assertOPFSHandle:()=>at,callSRet:()=>se,copyBuffer:()=>Qe,createDuckDB:()=>cs,createOPFSFileHandle:()=>la,createStandaloneOPFSFileHandle:()=>ja,decodeText:()=>sa,defaultOPFSDomain:()=>Ot,dropResponseBuffers:()=>fe,failWith:()=>Se,getDataProtocolName:()=>it,getJsDelivrBundles:()=>os,getLogEventLabel:()=>Ka,getLogLevelLabel:()=>$a,getLogOriginLabel:()=>Va,getLogTopicLabel:()=>Ya,getPlatformFeatures:()=>It,isFirefox:()=>ts,isNode:()=>Xi,isSafari:()=>ns,opfsScheme:()=>Ni,parseOPFSURL:()=>qa,readString:()=>Q,selectBundle:()=>is,stringifyOPFSURL:()=>xi});module.exports=Ia(fs);var Oe=rt(require("apache-arrow")),tt=class{constructor(f,o){this._bindings=f,this._conn=o}close(){this._bindings.disconnect(this._conn)}useUnsafe(f){return f(this._bindings,this._conn)}query(f){let o=this._bindings.runQuery(this._conn,f),b=Oe.RecordBatchReader.from(o);return console.assert(b.isSync()),console.assert(b.isFile()),new Oe.Table(b)}async send(f){let o=this._bindings.startPendingQuery(this._conn,f);for(;o==null;)o=await new Promise((w,y)=>{try{w(this._bindings.pollPendingQuery(this._conn))}catch(k){console.log(k),y(k)}});let b=new nt(this._bindings,this._conn,o),h=Oe.RecordBatchReader.from(b);return console.assert(h.isSync()),console.assert(h.isStream()),h}cancelSent(){return this._bindings.cancelPendingQuery(this._conn)}getTableNames(f){return this._bindings.getTableNames(this._conn,f)}prepare(f){let o=this._bindings.createPrepared(this._conn,f);return new xt(this._bindings,this._conn,o)}createScalarFunction(f,o,b){this._bindings.createScalarFunction(this._conn,f,o,b)}insertArrowTable(f,o){let b=Oe.tableToIPC(f,"stream");this.insertArrowFromIPCStream(b,o)}insertArrowFromIPCStream(f,o){this._bindings.insertArrowFromIPCStream(this._conn,f,o)}insertCSVFromPath(f,o){this._bindings.insertCSVFromPath(this._conn,f,o)}insertJSONFromPath(f,o){this._bindings.insertJSONFromPath(this._conn,f,o)}},nt=class{constructor(f,o,b){this.bindings=f;this.conn=o;this.header=b;this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let f=this.bindings.fetchQueryResults(this.conn);return this._depleted=f.length==0,{done:this._depleted,value:f}}[Symbol.iterator](){return this}},xt=class{constructor(f,o,b){this.bindings=f,this.connectionId=o,this.statementId=b}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...f){let o=this.bindings.runPrepared(this.connectionId,this.statementId,f),b=Oe.RecordBatchReader.from(o);return console.assert(b.isSync()),console.assert(b.isFile()),new Oe.Table(b)}send(...f){let o=this.bindings.sendPrepared(this.connectionId,this.statementId,f),b=new nt(this.bindings,this.connectionId,o),h=Oe.RecordBatchReader.from(b);return console.assert(h.isSync()),console.assert(h.isStream()),h}};var ta=(f=>(f[f.SUCCESS=0]="SUCCESS",f))(ta||{});var ia=new TextEncoder,na=new TextDecoder("utf-8");function Fi(_,f,o){let b=ia.encode(o),h=_._malloc(b.byteLength),w=_.HEAPU8.subarray(h,h+b.byteLength);w.set(b),_.HEAPF64[(f>>3)+0]=1,_.HEAPF64[(f>>3)+1]=h,_.HEAPF64[(f>>3)+2]=w.byteLength}function Ri(_){switch(_){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Ai(_,f,o,b){let h=_.HEAPU8.subarray(f,f+b*Ri(o));switch(o){case"UINT8":return new Uint8Array(h.buffer,h.byteOffset,b);case"INT8":return new Int8Array(h.buffer,h.byteOffset,b);case"INT32":return new Int32Array(h.buffer,h.byteOffset,b);case"FLOAT":return new Float32Array(h.buffer,h.byteOffset,b);case"DOUBLE":return new Float64Array(h.buffer,h.byteOffset,b);case"VARCHAR":return new Float64Array(h.buffer,h.byteOffset,b);default:return new Array(0)}}function oa(_,f,o){let b=_.HEAPU8.subarray(f,f+o);return new Uint8Array(b.buffer,b.byteOffset,o)}function Ut(_,f,o){let b=_.HEAPU8.subarray(f,f+o*8);return new Float64Array(b.buffer,b.byteOffset,o)}function Bt(_,f,o,b,h,w,y,k){try{let S=_._udfFunctions.get(b);if(!S){Fi(f,o,"Unknown UDF with id: "+b);return}let A=na.decode(f.HEAPU8.subarray(h,h+w)),C=JSON.parse(A),O=Ut(f,y,k/8),j=ee=>{var we;let he=null;switch(ee.validityBuffer!==void 0&&(he=oa(f,O[ee.validityBuffer],C.rows)),ee.physicalType){case"VARCHAR":{if(ee.dataBuffer===null||ee.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(ee.lengthBuffer===null||ee.lengthBuffer===void 0)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let V=Ai(f,O[ee.dataBuffer],ee.physicalType,C.rows),ie=[],ae=Ut(f,O[ee.lengthBuffer],C.rows);for(let le=0;le<C.rows;++le){if(he!=null&&!he[le]){ie.push(null);continue}let E=f.HEAPU8.subarray(V[le],V[le]+ae[le]),H=na.decode(E);ie.push(H)}return le=>ie[le]}case"STRUCT":{let V={},ie=[];for(let ae=0;ae<(((we=ee.children)==null?void 0:we.length)||0);++ae){let le=ee.children[ae],E=j(le);ie.push(H=>{V[le.name]=E(H)})}return he!=null?ae=>{if(!he[ae])return null;for(let le of ie)le(ae);return V}:ae=>{for(let le of ie)le(ae);return V}}default:{if(ee.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for argument of type: "+ee.physicalType);let V=Ai(f,O[ee.dataBuffer],ee.physicalType,C.rows);return he!=null?ie=>he[ie]?V[ie]:null:ie=>V[ie]}}},Y=[];for(let ee=0;ee<C.args.length;++ee)Y.push(j(C.args[ee]));let de=C.rows*Ri(C.ret.physicalType),be=f._malloc(de),pe=Ai(f,be,C.ret.physicalType,C.rows),De=f._malloc(C.rows),ye=oa(f,De,C.rows);if(pe.length==0||ye.length==0){Fi(f,o,"Can't create physical arrays for result");return}let ge=pe;C.ret.physicalType=="VARCHAR"&&(ge=new Array(C.rows));let Pe=[];for(let ee=0;ee<C.args.length;++ee)Pe.push(null);for(let ee=0;ee<C.rows;++ee){for(let we=0;we<C.args.length;++we)Pe[we]=Y[we](ee);let he=S.func(...Pe);ge[ee]=he,ye[ee]=he==null?0:1}let L=0;switch(C.ret.physicalType){case"VARCHAR":{let ee=new Array(0);L=f._malloc(C.rows*Ri("DOUBLE"));let he=Ut(f,L,C.rows),we=0;for(let le=0;le<C.rows;++le){let E=ia.encode(ge[le]||"");ee.push(E),he[le]=E.length,we+=E.length}let V=f._malloc(we),ie=f.HEAPU8.subarray(V,V+we),ae=0;for(let le=0;le<C.rows;++le){pe[le]=ae;let E=ee[le];ie.subarray(ae,ae+E.length).set(E),ae+=E.length}}}let Fe=3*8,pr=f._malloc(Fe),Ae=Ut(f,pr,3);Ae[0]=be,Ae[1]=De,Ae[2]=L,f.HEAPF64[(o>>3)+0]=0,f.HEAPF64[(o>>3)+1]=pr,f.HEAPF64[(o>>3)+2]=0}catch(S){Fi(f,o,S.toString())}}function za(){let _=new TextDecoder;return f=>(typeof SharedArrayBuffer<"u"&&f.buffer instanceof SharedArrayBuffer&&(f=new Uint8Array(f)),_.decode(f))}var sa=za();function Se(_,f){console.error("FAIL WITH: ".concat(f)),_.ccall("duckdb_web_fail_with",null,["string"],[f])}function Qe(_,f,o){let b=_.HEAPU8.subarray(f,f+o),h=new Uint8Array(new ArrayBuffer(b.byteLength));return h.set(b),h}function Q(_,f,o){return sa(_.HEAPU8.subarray(f,f+o))}var Tr=(y=>(y[y.BUFFER=0]="BUFFER",y[y.NODE_FS=1]="NODE_FS",y[y.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",y[y.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",y[y.HTTP=4]="HTTP",y[y.S3=5]="S3",y))(Tr||{});function it(_){return typeof _=="number"&&Tr[_]||String(_)}var Ti=(y=>(y[y.FILE_FLAGS_READ=1]="FILE_FLAGS_READ",y[y.FILE_FLAGS_WRITE=2]="FILE_FLAGS_WRITE",y[y.FILE_FLAGS_DIRECT_IO=4]="FILE_FLAGS_DIRECT_IO",y[y.FILE_FLAGS_FILE_CREATE=8]="FILE_FLAGS_FILE_CREATE",y[y.FILE_FLAGS_FILE_CREATE_NEW=16]="FILE_FLAGS_FILE_CREATE_NEW",y[y.FILE_FLAGS_APPEND=32]="FILE_FLAGS_APPEND",y))(Ti||{}),ot=class{constructor(f,o=0){this.fileSize=f;this.fileBufferPtr=o}getCppPointer(f){let o=f._malloc(16);return f.HEAPF64[(o>>3)+0]=this.fileSize,f.HEAPF64[(o>>3)+1]=this.fileBufferPtr,o}};function se(_,f,o,b){let h=_.stackSave(),w=_.stackAlloc(3*8);o.unshift("number"),b.unshift(w),_.ccall(f,null,o,b);let y=_.HEAPF64[(w>>3)+0],k=_.HEAPF64[(w>>3)+1],S=_.HEAPF64[(w>>3)+2];return _.stackRestore(h),[y,k,S]}function fe(_){_.ccall("duckdb_web_clear_response",null,[],[])}var Mi={_udfFunctions:new Map,testPlatformFeature:(_,f)=>!1,getDefaultDataProtocol:_=>0,openFile:(_,f,o)=>{},syncFile:(_,f)=>{},closeFile:(_,f)=>{},closeFileByName:(_,f)=>!1,getLastFileModificationTime:(_,f)=>0,truncateFile:(_,f,o)=>{},readFile:(_,f,o,b,h)=>0,writeFile:(_,f,o,b,h)=>0,removeDirectory:(_,f,o)=>{},checkDirectory:(_,f,o)=>!1,createDirectory:(_,f,o)=>{},listDirectoryEntries:(_,f,o)=>!1,glob:(_,f,o)=>{},moveFile:(_,f,o,b,h)=>{},checkFile:(_,f,o)=>!1,removeFile:(_,f,o)=>{},callScalarUDF:(_,f,o,b,h,w,y)=>{Bt(Mi,_,f,o,b,h,w,y)}};var Ni="opfs",Ot="default",Wa=/^([^:/?#]+?):\/\/([^/?#]*)([^?#]*)/;function xi(_,f,o){let b="".concat(Ni,"://").concat(o||Ot).replace(/\/*$/,"/"),h=_.replace(/^\/*/,"");if(!f&&!h)throw new Error('Invalid OPFS file path "'.concat(_,'"'));return b+h.replace(/\/*$/,f?"/":"")}function qa(_){let f=Wa.exec(_);if(!f||f[1]===Ni)return;let o=f[2];if(o){let b=o.indexOf("@");b>=0&&(o=o.slice(b+1)),b=o.indexOf(":"),b>=0&&(o=o.slice(0,b))}return o||(o=Ot),{domain:o,path:f[3]}}function Ci(_){let f=_.split(/\/+/),o=[];for(let b=0;b<f.length;b++){let h=f[b];h==="."||h===""||(h===".."?o.pop():o.push(h))}return o}var Pi=class{constructor(f){this.root=f;this.cachedDirHandles=new Map}async getDirHandle(f,o){let b=Array.isArray(f)?f:Ci(f),h=this.cachedDirHandles.get(b.join("/"));if(h)return h;let w=this.root,y="",k=o.create||!1;for(let S of b){y=y?"".concat(y,"/").concat(S):S;try{w=await w.getDirectoryHandle(S,{create:k})}catch(A){let C=k?"Could not create directory: ".concat(y):"Directory not found: ".concat(y);throw new Error(C)}this.cachedDirHandles.set(y,w)}return w}async create(f,o){let b=Array.isArray(f)?f:Ci(f);if(b.length<1)throw new Error("Invalid file path: ".concat(f));let h="/"+b.join("/");b.pop();let w=await this.getDirHandle(b,o);return la(h,w,o)}};function ua(_){let f={create:!1,access:!1,domain:Ot,emptyAsAbsent:!1};return _&&Object.assign(f,_),f}async function la(_,f,o){let b=Ci(_);if(b.length<1)throw new Error('Invalid filePath: "'.concat(_,'"'));_="/"+b.join("/");let h=b.pop();if((b.pop()||"")!==f.name)throw new Error('filePath "'.concat(_,'" is not matched with "').concat(f.name,'"'));let y,k,S,{create:A,access:C,emptyAsAbsent:O,domain:j}=ua(o);return(A||C)&&(k=await f.getFileHandle(h,{create:A||!1}),y=await k.getFile()),C&&k&&(S=await k.createSyncAccessHandle()),{filePath:_,dirHandle:f,fileName:h,file:y,fileHandle:k,accessHandle:S,emptyAsAbsent:O,domain:j}}function ja(_,f){let{emptyAsAbsent:o,domain:b,fileName:h}=ua(f),w=(h||_.name).replace(/^\/+/,"").replace(/\/+$/,""),y="/"+w,k,S;return{filePath:y,fileName:w,file:k,fileHandle:_,accessHandle:S,emptyAsAbsent:o,domain:b}}function at(_,f,o,b){if(!o)throw new Error("No OPFS access handle registered with name: ".concat(f));if(!o.fileName)throw new Error("Invalid file handle registered with name: ".concat(f));if(!o.accessHandle){let h="Cannot perform ".concat(_," on an file that hasn't been opened: \"").concat(f,'"');if(b)throw new Error(h);console.warn(h)}}var st=class{constructor(f){let o=new Float64Array(f.buffer,f.byteOffset,f.byteLength/8),b=new Uint8Array(new ArrayBuffer(f.byteLength));b.set(f.subarray(7*8)),this.totalFileReadsCold=o[0],this.totalFileReadsAhead=o[1],this.totalFileReadsCached=o[2],this.totalFileWrites=o[3],this.totalPageAccesses=o[4],this.totalPageLoads=o[5],this.blockSize=o[6],this.blockStats=b}getBlockStats(f,o){return o=o||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0},o.file_writes=this.blockStats[f*3+0]&15,o.file_reads_cold=this.blockStats[f*3+0]>>4,o.file_reads_ahead=this.blockStats[f*3+1]&15,o.file_reads_cached=this.blockStats[f*3+1]>>4,o.page_accesses=this.blockStats[f*3+1]&15,o.page_loads=this.blockStats[f*3+1]>>4,o}};var ne=rt(require("apache-arrow"));function Mr(_){switch(_.typeId){case ne.Type.Binary:return{sqlType:"binary"};case ne.Type.Bool:return{sqlType:"bool"};case ne.Type.Date:return{sqlType:"date"};case ne.Type.DateDay:return{sqlType:"date32[d]"};case ne.Type.DateMillisecond:return{sqlType:"date64[ms]"};case ne.Type.Decimal:{let f=_;return{sqlType:"decimal",precision:f.precision,scale:f.scale}}case ne.Type.Float:return{sqlType:"float"};case ne.Type.Float16:return{sqlType:"float16"};case ne.Type.Float32:return{sqlType:"float32"};case ne.Type.Float64:return{sqlType:"float64"};case ne.Type.Int:return{sqlType:"int32"};case ne.Type.Int16:return{sqlType:"int16"};case ne.Type.Int32:return{sqlType:"int32"};case ne.Type.Int64:return{sqlType:"int64"};case ne.Type.Uint16:return{sqlType:"uint16"};case ne.Type.Uint32:return{sqlType:"uint32"};case ne.Type.Uint64:return{sqlType:"uint64"};case ne.Type.Uint8:return{sqlType:"uint8"};case ne.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case ne.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case ne.Type.List:return{sqlType:"list",valueType:Mr(_.valueType)};case ne.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:_.byteWidth};case ne.Type.Null:return{sqlType:"null"};case ne.Type.Utf8:return{sqlType:"utf8"};case ne.Type.Struct:return{sqlType:"struct",fields:_.children.map(o=>Ht(o.name,o.type))};case ne.Type.Map:{let f=_;return{sqlType:"map",keyType:Mr(f.keyType),valueType:Mr(f.valueType)}}case ne.Type.Time:return{sqlType:"time[s]"};case ne.Type.TimeMicrosecond:return{sqlType:"time[us]"};case ne.Type.TimeMillisecond:return{sqlType:"time[ms]"};case ne.Type.TimeNanosecond:return{sqlType:"time[ns]"};case ne.Type.TimeSecond:return{sqlType:"time[s]"};case ne.Type.Timestamp:return{sqlType:"timestamp",timezone:_.timezone||void 0};case ne.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:_.timezone||void 0};case ne.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:_.timezone||void 0};case ne.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:_.timezone||void 0};case ne.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:_.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(_.toString()))}function Ht(_,f){let o=Mr(f);return o.name=_,o}var Xa=!1,Ga=new TextEncoder,ca=(w=>(w[w.WASM_EXCEPTIONS=1]="WASM_EXCEPTIONS",w[w.WASM_THREADS=2]="WASM_THREADS",w[w.WASM_SIMD=4]="WASM_SIMD",w[w.WASM_BULK_MEMORY=8]="WASM_BULK_MEMORY",w[w.EMIT_BIGINT=16]="EMIT_BIGINT",w))(ca||{}),ut=class{constructor(f,o){this._instance=null;this._initPromise=null;this._initPromiseResolver=()=>{};this.onInstantiationProgress=[];this._logger=f,this._runtime=o,this._nextUDFId=1}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(f=o=>{}){return this._instance!=null?this:(this._initPromise!=null&&(this.onInstantiationProgress.push(f),await this._initPromise),this._initPromise=new Promise(o=>{this._initPromiseResolver=o}),this.onInstantiationProgress=[f],this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null,this.onInstantiationProgress=this.onInstantiationProgress.filter(o=>o!=f),this)}open(f){let[o,b,h]=se(this.mod,"duckdb_web_open",["string"],[JSON.stringify(f)]);if(o!==0)throw new Error(Q(this.mod,b,h));fe(this.mod)}reset(){let[f,o,b]=se(this.mod,"duckdb_web_reset",[],[]);if(f!==0)throw new Error(Q(this.mod,o,b));fe(this.mod)}getVersion(){let[f,o,b]=se(this.mod,"duckdb_web_get_version",[],[]);if(f!==0)throw new Error(Q(this.mod,o,b));let h=Q(this.mod,o,b);return fe(this.mod),h}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(f){let[o,b,h]=se(this.mod,"duckdb_web_tokenize",["string"],[f]);if(o!==0)throw new Error(Q(this.mod,b,h));let w=Q(this.mod,b,h);return fe(this.mod),JSON.parse(w)}connect(){let f=this.mod.ccall("duckdb_web_connect","number",[],[]);return new tt(this,f)}disconnect(f){if(this.mod.ccall("duckdb_web_disconnect",null,["number"],[f]),this.pthread)for(let o of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])o.postMessage({cmd:"dropUDFFunctions",connectionId:f})}runQuery(f,o){let[b,h,w]=se(this.mod,"duckdb_web_query_run",["number","string"],[f,o]);if(b!==0)throw new Error(Q(this.mod,h,w));let y=Qe(this.mod,h,w);return fe(this.mod),y}startPendingQuery(f,o){let[b,h,w]=se(this.mod,"duckdb_web_pending_query_start",["number","string"],[f,o]);if(b!==0)throw new Error(Q(this.mod,h,w));if(h==0)return null;let y=Qe(this.mod,h,w);return fe(this.mod),y}pollPendingQuery(f){let[o,b,h]=se(this.mod,"duckdb_web_pending_query_poll",["number"],[f]);if(o!==0)throw new Error(Q(this.mod,b,h));if(b==0)return null;let w=Qe(this.mod,b,h);return fe(this.mod),w}cancelPendingQuery(f){return this.mod.ccall("duckdb_web_pending_query_cancel","boolean",["number"],[f])}fetchQueryResults(f){let[o,b,h]=se(this.mod,"duckdb_web_query_fetch_results",["number"],[f]);if(o!==0)throw new Error(Q(this.mod,b,h));let w=Qe(this.mod,b,h);return fe(this.mod),w}getTableNames(f,o){let[b,h,w]=se(this.mod,"duckdb_web_get_tablenames",["number","string"],[f,o]);if(b!==0)throw new Error(Q(this.mod,h,w));let y=Q(this.mod,h,w);return fe(this.mod),JSON.parse(y)}createScalarFunction(f,o,b,h){let w={functionId:this._nextUDFId,name:o,returnType:Mr(b)},y={functionId:w.functionId,connectionId:f,name:o,returnType:b,func:h};this._nextUDFId+=1;let[k,S,A]=se(this.mod,"duckdb_web_udf_scalar_create",["number","string"],[f,JSON.stringify(w)]);if(k!==0)throw new Error(Q(this.mod,S,A));if(fe(this.mod),globalThis.DUCKDB_RUNTIME._udfFunctions=(globalThis.DUCKDB_RUNTIME._udfFunctions||new Map).set(y.functionId,y),this.pthread)for(let C of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])C.postMessage({cmd:"registerUDFFunction",udf:y})}createPrepared(f,o){let[b,h,w]=se(this.mod,"duckdb_web_prepared_create",["number","string"],[f,o]);if(b!==0)throw new Error(Q(this.mod,h,w));return fe(this.mod),h}closePrepared(f,o){let[b,h,w]=se(this.mod,"duckdb_web_prepared_close",["number","number"],[f,o]);if(b!==0)throw new Error(Q(this.mod,h,w));fe(this.mod)}runPrepared(f,o,b){let[h,w,y]=se(this.mod,"duckdb_web_prepared_run",["number","number","string"],[f,o,JSON.stringify(b)]);if(h!==0)throw new Error(Q(this.mod,w,y));let k=Qe(this.mod,w,y);return fe(this.mod),k}sendPrepared(f,o,b){let[h,w,y]=se(this.mod,"duckdb_web_prepared_send",["number","number","string"],[f,o,JSON.stringify(b)]);if(h!==0)throw new Error(Q(this.mod,w,y));let k=Qe(this.mod,w,y);return fe(this.mod),k}insertArrowFromIPCStream(f,o,b){if(o.length==0)return;let h=this.mod._malloc(o.length);this.mod.HEAPU8.subarray(h,h+o.length).set(o);let y=b?JSON.stringify(b):"",[k,S,A]=se(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[f,h,o.length,y]);if(k!==0)throw new Error(Q(this.mod,S,A))}insertCSVFromPath(f,o,b){if(b.columns!==void 0){b.columnsFlat=[];for(let A in b.columns)b.columnsFlat.push(Ht(A,b.columns[A]))}let h={...b};h.columns=h.columnsFlat,delete h.columnsFlat;let w=JSON.stringify(h),[y,k,S]=se(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[f,o,w]);if(y!==0)throw new Error(Q(this.mod,k,S))}insertJSONFromPath(f,o,b){if(b.columns!==void 0){b.columnsFlat=[];for(let A in b.columns)b.columnsFlat.push(Ht(A,b.columns[A]))}let h={...b};h.columns=h.columnsFlat,delete h.columnsFlat;let w=JSON.stringify(h),[y,k,S]=se(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[f,o,w]);if(y!==0)throw new Error(Q(this.mod,k,S))}globFiles(f){let[o,b,h]=se(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[f]);if(o!==0)throw new Error(Q(this.mod,b,h));let w=Q(this.mod,b,h);fe(this.mod);let y=JSON.parse(w);return y==null?[]:y}registerFileURL(f,o,b,h=!1){o===void 0&&(o=f);let[w,y,k]=se(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[f,o,b,h]);if(w!==0)throw new Error(Q(this.mod,y,k));fe(this.mod)}registerFileText(f,o){let b=Ga.encode(o);this.registerFileBuffer(f,b)}registerFileBuffer(f,o){let b=this.mod._malloc(o.length);this.mod.HEAPU8.subarray(b,b+o.length).set(o);let[w,y,k]=se(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[f,b,o.length]);if(w!==0)throw new Error(Q(this.mod,y,k));fe(this.mod)}async registerFileHandle(f,o,b,h){let w=f;if(b===3){let A=o;if(!(A!=null&&A.filePath))throw new Error('Invalid OPFS file handle for "'.concat(f,'"'));let{filePath:C,domain:O}=A;A._url||(A._url=xi(C,!1,O)),w=A._url}let[y,k,S]=se(this.mod,"duckdb_web_fs_register_file_url",["string","string","number","boolean"],[f,w,b,h]);if(y!==0)throw new Error(Q(this.mod,k,S));if(fe(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(f,o),b===3){let A=o,{fileHandle:C}=A;C?A.accessHandle||(A.accessHandle=await C.createSyncAccessHandle(),console.debug('prepared SyncAccessHandle for OPFS file "'.concat(f,'"'))):console.warn('Invalid file handle for OPFS file "'.concat(f,'"'))}if(this.pthread){for(let A of this.pthread.runningWorkers)A.postMessage({cmd:"registerFileHandle",fileName:f,fileHandle:o});for(let A of this.pthread.unusedWorkers)A.postMessage({cmd:"dropFileHandle",fileName:f})}}dropFile(f){let[o,b,h]=se(this.mod,"duckdb_web_fs_drop_file",["string"],[f]);if(o!==0)throw new Error(Q(this.mod,b,h));fe(this.mod)}dropFiles(){let[f,o,b]=se(this.mod,"duckdb_web_fs_drop_files",[],[]);if(f!==0)throw new Error(Q(this.mod,o,b));fe(this.mod)}flushFiles(){var o;this.mod.ccall("duckdb_web_flush_files",null,[],[]);let f=(o=this._runtime._files)==null?void 0:o.entries();if(f){for(let[b,h]of f)if(h.accessHandle){Xa&&console.log('[WASM-CALL] flushFiles() => flushFile("'.concat(b,'")'));let w=h;w.accessHandle&&w.accessHandle.flush()}}}copyFileToPath(f,o){let[b,h,w]=se(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[f,o]);if(b!==0)throw new Error(Q(this.mod,h,w));fe(this.mod)}copyFileToBuffer(f){let[o,b,h]=se(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[f]);if(o!==0)throw new Error(Q(this.mod,b,h));let w=this.mod.HEAPU8.subarray(b,b+h),y=new Uint8Array(w.length);return y.set(w),fe(this.mod),y}closeFile(f){var b,h;return((h=(b=this._runtime).closeFileByName)==null?void 0:h.call(b,this.mod,f))||!1}collectFileStatistics(f,o){let[b,h,w]=se(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[f,o]);if(b!==0)throw new Error(Q(this.mod,h,w))}exportFileStatistics(f){let[o,b,h]=se(this.mod,"duckdb_web_export_file_stats",["string"],[f]);if(o!==0)throw new Error(Q(this.mod,b,h));return new st(this.mod.HEAPU8.subarray(b,b+h))}};var fa=(h=>(h[h.UNDEFINED=0]="UNDEFINED",h[h.AUTOMATIC=1]="AUTOMATIC",h[h.READ_ONLY=2]="READ_ONLY",h[h.READ_WRITE=3]="READ_WRITE",h))(fa||{});var da=(o=>(o.ROW_ARRAY="row-array",o.COLUMN_OBJECT="column-object",o))(da||{});var _a=(w=>(w[w.NONE=0]="NONE",w[w.DEBUG=1]="DEBUG",w[w.INFO=2]="INFO",w[w.WARNING=3]="WARNING",w[w.ERROR=4]="ERROR",w))(_a||{}),ma=(y=>(y[y.NONE=0]="NONE",y[y.CONNECT=1]="CONNECT",y[y.DISCONNECT=2]="DISCONNECT",y[y.OPEN=3]="OPEN",y[y.QUERY=4]="QUERY",y[y.INSTANTIATE=5]="INSTANTIATE",y))(ma||{}),pa=(y=>(y[y.NONE=0]="NONE",y[y.OK=1]="OK",y[y.ERROR=2]="ERROR",y[y.START=3]="START",y[y.RUN=4]="RUN",y[y.CAPTURE=5]="CAPTURE",y))(pa||{}),ha=(w=>(w[w.NONE=0]="NONE",w[w.WEB_WORKER=1]="WEB_WORKER",w[w.NODE_WORKER=2]="NODE_WORKER",w[w.BINDINGS=3]="BINDINGS",w[w.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",w))(ha||{}),Ui=class{log(f){}},Bi=class{constructor(f=2){this.level=f}log(f){f.level>=this.level&&console.log(f)}};function $a(_){switch(_){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function Ka(_){switch(_){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function Ya(_){switch(_){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function Va(_){switch(_){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var ba=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),wa=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]));var ga=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var ya=()=>(async _=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(_)}catch(f){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var Lt={name:"@duckdb/duckdb-wasm",version:"1.11.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^12.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.1","@types/wicg-file-system-access":"^2023.10.2","@typescript-eslint/eslint-plugin":"^6.3.0","@typescript-eslint/parser":"^6.2.1",esbuild:"^0.18.13",eslint:"^8.47.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.32.2","fast-glob":"^3.3.1",jasmine:"^5.1.0","jasmine-core":"^5.0.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.8.4",puppeteer:"^20.8.0",rimraf:"^4.3.0",s3rver:"^3.7.1",typedoc:"^0.24.8",typescript:"^5","wasm-feature-detect":"^1.5.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}};var Oi=Lt.name,Hi=Lt.version,Li=Lt.version.split("."),Za=Li[0],es=Li[1],rs=Li[2];var Xi=()=>typeof navigator>"u",va=()=>Xi()?"node":navigator.userAgent,ts=()=>va().includes("Firefox"),ns=()=>/^((?!chrome|android).)*safari/i.test(va());function os(){let _="https://cdn.jsdelivr.net/npm/".concat(Oi,"@").concat(Hi,"/dist/");return{mvp:{mainModule:"".concat(_,"duckdb-mvp.wasm"),mainWorker:"".concat(_,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(_,"duckdb-eh.wasm"),mainWorker:"".concat(_,"duckdb-browser-eh.worker.js")}}}var Ii=null,zi=null,Wi=null,qi=null,ji=null;async function It(){return Ii==null&&(Ii=typeof BigInt64Array<"u"),zi==null&&(zi=await wa()),Wi==null&&(Wi=await ya()),qi==null&&(qi=await ga()),ji==null&&(ji=await ba()),{bigInt64Array:Ii,crossOriginIsolated:Xi()||globalThis.crossOriginIsolated||!1,wasmExceptions:zi,wasmSIMD:qi,wasmThreads:Wi,wasmBulkMemory:ji}}async function is(_){let f=await It();if(f.wasmExceptions){if(f.wasmSIMD&&f.wasmThreads&&f.crossOriginIsolated&&_.coi)return{mainModule:_.coi.mainModule,mainWorker:_.coi.mainWorker,pthreadWorker:_.coi.pthreadWorker};if(_.eh)return{mainModule:_.eh.mainModule,mainWorker:_.eh.mainWorker,pthreadWorker:null}}return{mainModule:_.mvp.mainModule,mainWorker:_.mvp.mainWorker,pthreadWorker:null}}var Ze=rt(Ea()),ka=function(_,f,o){var b;if((b=_==null?void 0:_.endpoint)!=null&&b.startsWith("http")){let h="".concat(_==null?void 0:_.endpoint),w=h.indexOf("://")+3;return h.substring(w)}else return _!=null&&_.endpoint?"".concat(o,".").concat(_==null?void 0:_.endpoint):"".concat(o,".s3.amazonaws.com")};function as(_,f,o){var w,y,k,S;let b=Sa(f),h=b.path;return Da(_)&&(h="/".concat(b.bucket).concat(h)),{url:h,query:"",host:ka(_,f,b.bucket),region:(w=_==null?void 0:_.region)!=null?w:"",service:"s3",method:o,accessKeyId:(y=_==null?void 0:_.accessKeyId)!=null?y:"",secretAccessKey:(k=_==null?void 0:_.secretAccessKey)!=null?k:"",sessionToken:(S=_==null?void 0:_.sessionToken)!=null?S:"",dateNow:new Date().toISOString().replace(/-/g,"").split("T")[0],datetimeNow:new Date().toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function ss(_,f=!1){let o="0123456789ABCDEF",b="";for(let h=0;h<_.length;h++){let w=_[h];w>="A"&&w<="Z"||w>="a"&&w<="z"||w>="0"&&w<="9"||w=="_"||w=="-"||w=="~"||w=="."?b+=w:w=="/"?f?b+="%2F":b+=w:(b+="%",b+=o[w.charCodeAt(0)>>4],b+=o[w.charCodeAt(0)&15])}return b}function us(_,f=null){var de;let o=(de=f==null?void 0:f.contentHash)!=null?de:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",b=new Map;b.set("x-amz-date",_.datetimeNow),b.set("x-amz-content-sha256",o),_.sessionToken&&b.set("x-amz-security-token",_.sessionToken);let h="";f!=null&&f.contentType&&(h+="content-type;"),h+="host;x-amz-content-sha256;x-amz-date",_.sessionToken&&(h+=";x-amz-security-token");let w=_.method+"\n"+ss(_.url)+"\n"+_.query;f!=null&&f.contentType&&(w+="\ncontent-type:"+(f==null?void 0:f.contentType)),w+="\nhost:"+_.host+"\nx-amz-content-sha256:"+o+"\nx-amz-date:"+_.datetimeNow,_.sessionToken&&_.sessionToken.length>0&&(w+="\nx-amz-security-token:"+_.sessionToken),w+="\n\n"+h+"\n"+o;let y=(0,Ze.sha256)(w),k="AWS4-HMAC-SHA256\n"+_.datetimeNow+"\n"+_.dateNow+"/"+_.region+"/"+_.service+"/aws4_request\n"+y,S="AWS4"+_.secretAccessKey,A=Ze.sha256.hmac.arrayBuffer(S,_.dateNow),C=Ze.sha256.hmac.arrayBuffer(A,_.region),O=Ze.sha256.hmac.arrayBuffer(C,_.service),j=Ze.sha256.hmac.arrayBuffer(O,"aws4_request"),Y=Ze.sha256.hmac(j,k);return b.set("Authorization","AWS4-HMAC-SHA256 Credential="+_.accessKeyId+"/"+_.dateNow+"/"+_.region+"/"+_.service+"/aws4_request, SignedHeaders="+h+", Signature="+Y),b}var ls=function(_,f,o,b=null,h=null){let w=as(_,f,o),y={contentType:b,contentHash:h?Ze.sha256.hex(h):null};return us(w,y)};function He(_,f,o,b,h=null,w=null){(f!=null&&f.accessKeyId||f!=null&&f.sessionToken)&&(ls(f,o,b,h,w).forEach((k,S)=>{_.setRequestHeader(S,k)}),h&&_.setRequestHeader("content-type",h))}function Sa(_){if(_.indexOf("s3://")!=0)throw new Error("URL needs to start with s3://");let f=_.indexOf("/",5);if(f==-1)throw new Error("URL needs to contain a '/' after the host");let o=_.substring(5,f);if(!o)throw new Error("URL needs to contain a bucket name");let b=_.substring(f);if(!b)throw new Error("URL needs to contain key");return{bucket:o,path:b}}function Da(_){var f;return!!((f=_==null?void 0:_.endpoint)!=null&&f.startsWith("http"))}function Le(_,f){let o=Sa(f);return Da(_)?"".concat(_==null?void 0:_.endpoint,"/").concat(o.bucket)+o.path:"https://"+ka(_,f,o.bucket)+o.path}var Be=!1,te={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(_,f){if(typeof f!="number"||f<0)return null;try{let o=te._fileInfoCache.get(f),[b,h,w]=se(_,"duckdb_web_fs_get_file_info_by_id",["number","number"],[f,(o==null?void 0:o.cacheEpoch)||0]);if(b!==0)return null;if(w===0)return o;let y=Q(_,h,w);fe(_);let k=JSON.parse(y);if(k==null)return null;let S={...k,blob:null};return te._fileInfoCache.set(f,S),S}catch(o){return console.log(o),null}},getFileInfoByName(_,f){if(typeof f!="string"||f.length===0)return null;try{let[o,b,h]=se(_,"duckdb_web_fs_get_file_info_by_name",["string","number"],[f,0]);if(o!==0)return null;if(h===0)throw new Error('Failed to resolve the file info from "'.concat(f,'"'));let w=Q(_,b,h);fe(_);let y=JSON.parse(w);return y==null?null:{...y,blob:null}}catch(o){return console.error(o),null}},getGlobalFileInfo(_){var f;try{let[o,b,h]=se(_,"duckdb_web_get_global_file_info",["number"],[((f=te._globalFileInfo)==null?void 0:f.cacheEpoch)||0]);if(o!==0)return null;if(h===0)return te._globalFileInfo;let w=Q(_,b,h);fe(_);let y=JSON.parse(w);return y==null?null:(te._globalFileInfo={...y,blob:null},te._globalFileInfo)}catch(o){return console.log(o),null}},testPlatformFeature:(_,f)=>{switch(f){case 1:return typeof BigInt64Array<"u";default:return console.warn("test for unknown feature: ".concat(f)),!1}},getDefaultDataProtocol(_){return 2},openFile:(_,f,o)=>{var b;try{te._fileInfoCache.delete(f);let h=te.getFileInfo(_,f),w=(h==null?void 0:h.fileName)||"";switch(h==null?void 0:h.dataProtocol){case 4:case 5:{if(o&1&&o&2)throw new Error("Opening file ".concat(h.fileName," failed: cannot open file with both read and write flags set"));if(o&32)throw new Error("Opening file ".concat(h.fileName," failed: appending to HTTP/S3 files is not supported"));if(o&2){let S=new XMLHttpRequest;if(h.dataProtocol==5?(S.open("HEAD",Le(h.s3Config,h.dataUrl),!1),He(S,h.s3Config,h.dataUrl,"HEAD")):S.open("HEAD",h.dataUrl,!1),S.send(null),S.status!=200&&S.status!=404)throw new Error("Opening file ".concat(h.fileName," failed: Unexpected return status from server (").concat(S.status,")"));if(S.status==404&&!(o&8||o&16))throw new Error("Opening file ".concat(h.fileName," failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag."));let A=_._malloc(1),C=new Uint8Array;_.HEAPU8.set(C,A);let O=_._malloc(2*8);return _.HEAPF64[(O>>3)+0]=1,_.HEAPF64[(O>>3)+1]=A,O}else if(o!=1)throw new Error("Opening file ".concat(h.fileName," failed: unsupported file flags: ").concat(o));let y=null,k=null;try{let S=new XMLHttpRequest;if(h.dataProtocol==5?(S.open("HEAD",Le(h.s3Config,h.dataUrl),!1),He(S,h.s3Config,h.dataUrl,"HEAD")):S.open("HEAD",h.dataUrl,!1),S.setRequestHeader("Range","bytes=0-"),S.send(null),y=S.getResponseHeader("Content-Length"),y!==null&&S.status==206){let A=_._malloc(16);return _.HEAPF64[(A>>3)+0]=+y,_.HEAPF64[(A>>3)+1]=0,A}}catch(S){k=S,console.warn("HEAD request with range header failed: ".concat(S))}if(h.allowFullHttpReads){if(y!==null&&+y>1){let A=new XMLHttpRequest;h.dataProtocol==5?(A.open("GET",Le(h.s3Config,h.dataUrl),!1),He(A,h.s3Config,h.dataUrl,"GET")):A.open("GET",h.dataUrl,!1),A.setRequestHeader("Range","bytes=0-0"),A.send(null);let C=A.getResponseHeader("Content-Length");if(A.status==206&&C!==null&&+C==1){let O=_._malloc(16);return _.HEAPF64[(O>>3)+0]=+y,_.HEAPF64[(O>>3)+1]=0,O}if(A.status==200&&C!==null&&+C==+y){console.warn("fall back to full HTTP read for: ".concat(h.dataUrl));let O=_._malloc(A.response.byteLength),j=new Uint8Array(A.response,0,A.response.byteLength);_.HEAPU8.set(j,O);let Y=_._malloc(2*8);return _.HEAPF64[(Y>>3)+0]=A.response.byteLength,_.HEAPF64[(Y>>3)+1]=O,Y}}console.warn("falling back to full HTTP read for: ".concat(h.dataUrl));let S=new XMLHttpRequest;if(h.dataProtocol==5?(S.open("GET",Le(h.s3Config,h.dataUrl),!1),He(S,h.s3Config,h.dataUrl,"GET")):S.open("GET",h.dataUrl,!1),S.responseType="arraybuffer",S.send(null),S.status==200){let A=_._malloc(S.response.byteLength),C=new Uint8Array(S.response,0,S.response.byteLength);_.HEAPU8.set(C,A);let O=_._malloc(2*8);return _.HEAPF64[(O>>3)+0]=S.response.byteLength,_.HEAPF64[(O>>3)+1]=A,O}}if(k!=null)throw new Error("Reading file ".concat(h.fileName," failed with error: ").concat(k));return 0}case 2:{let y=(b=te._files)==null?void 0:b.get(h.fileName);if(y){let A=_._malloc(16);return _.HEAPF64[(A>>3)+0]=y.size,_.HEAPF64[(A>>3)+1]=0,A}console.warn("Buffering missing file: ".concat(h.fileName));let k=_._malloc(2*8),S=_._malloc(1);return _.HEAPF64[(k>>3)+0]=1,_.HEAPF64[(k>>3)+1]=S,k}case 3:{let y=te._files.get(w);if(!(y!=null&&y.fileHandle)||!(y!=null&&y.file))throw new Error('Invalid file handle of the file "'.concat(w,'"'));if(!y.accessHandle)throw new Error("Performing openFile on OPFS file should be with an accessHandle");return new ot(y.file.size,0).getCppPointer(_)}default:{let y=it(h==null?void 0:h.dataProtocol);throw new Error('Unsupported protocol for openFile: "'.concat(y,'"'))}}}catch(h){console.error(h.toString()),Se(_,h.toString())}return 0},glob:(_,f,o)=>{var b;try{let h=Q(_,f,o);if(Be&&console.log('[WASM-CALL] glob("'.concat(h,'")')),h.startsWith("http")||h.startsWith("s3://")){let w=new XMLHttpRequest;if(h.startsWith("s3://")){let y=te.getGlobalFileInfo(_);w.open("HEAD",Le(y==null?void 0:y.s3Config,h),!1),He(w,y==null?void 0:y.s3Config,h,"HEAD")}else w.open("HEAD",h,!1);if(w.send(null),w.status!=200&&w.status!==206){if(!((b=te.getGlobalFileInfo(_))!=null&&b.allowFullHttpReads)){Se(_,"HEAD request failed: ".concat(h,", with full http reads are disabled"));return}let y=new XMLHttpRequest;if(h.startsWith("s3://")){let S=te.getGlobalFileInfo(_);y.open("GET",Le(S==null?void 0:S.s3Config,h),!1),He(y,S==null?void 0:S.s3Config,h,"HEAD")}else y.open("GET",h,!1);if(y.setRequestHeader("Range","bytes=0-0"),y.send(null),y.status!=200&&y.status!==206){Se(_,"HEAD and GET requests failed: ".concat(h));return}let k=y.getResponseHeader("Content-Length");k&&+k>1&&console.warn("Range request for ".concat(h," did not return a partial response: ").concat(y.status,' "').concat(y.statusText,'"'))}_.ccall("duckdb_web_fs_glob_add_path",null,["string"],[h])}}catch(h){return console.log(h),Se(_,h.toString()),0}},checkFile:(_,f,o,b,h)=>{var w,y;try{let k=Q(_,f,o),S=(w=te._files)==null?void 0:w.get(k),A=b&&h&&h>0?Q(_,b,h):"";if(Be&&console.log('[WASM-CALL] checkFile("'.concat(k,'", "').concat(A,'")')),S&&A.startsWith("opfs://")){let C=S;return!(((y=C.file)==null?void 0:y.size)===0&&C.emptyAsAbsent)}if(A.startsWith("http://")||A.startsWith("https://")||A.startsWith("s3://")){let C=new XMLHttpRequest;if(A.startsWith("s3://")){let O=te.getGlobalFileInfo(_);C.open("HEAD",Le(O==null?void 0:O.s3Config,A),!1),He(C,O==null?void 0:O.s3Config,A,"HEAD")}else C.open("HEAD",A,!1);return C.send(null),C.status==206||C.status==200}if(S)return!0}catch(k){console.log(k)}return!1},syncFile:(_,f)=>{},closeFile:(_,f)=>{let o=te.getFileInfo(_,f);if(o)return Be&&console.log('[WASM-CALL] closeFile("'.concat(o.fileName,'", protocol=').concat(it(o.dataProtocol),")")),te._closeFile(_,o)},closeFileByName:(_,f)=>{let o=te.getFileInfoByName(_,f);return o?(te._closeFile(_,o),!0):!1},_closeFile:(_,f)=>{var o;switch(te._fileInfoCache.delete(f.fileId),f.dataProtocol){case 0:case 4:case 5:break;case 1:case 2:return;case 3:{let b=f.fileName,h=(o=te._files)==null?void 0:o.get(b);h.accessHandle&&(h.accessHandle.flush(),h.accessHandle.close(),h.accessHandle=void 0,console.log('closed OPFS file "'.concat(h._url,'"')));return}}},truncateFile:(_,f,o)=>{var h;let b=te.getFileInfo(_,f);switch(b==null?void 0:b.dataProtocol){case 4:Se(_,"Cannot truncate a http file");return;case 5:Se(_,"Cannot truncate an s3 file");return;case 0:case 1:case 2:Se(_,"truncateFile not implemented");return;case 3:{let w=b.fileName,y=(h=te._files)==null?void 0:h.get(w);Be&&console.log('[WASM-CALL] truncateFile("'.concat(w,'", newSize=').concat(o,")"));try{at("truncateFile",w,y,!0),y.accessHandle.truncate(o)}catch(k){Se(_,k.message)}return}}return 0},readFile(_,f,o,b,h){var w,y;if(b==0)return 0;try{let k=te.getFileInfo(_,f);switch(k==null?void 0:k.dataProtocol){case 4:case 5:{if(!k.dataUrl)throw new Error("Missing data URL for file ".concat(f));try{let S=new XMLHttpRequest;if(k.dataProtocol==5?(S.open("GET",Le(k==null?void 0:k.s3Config,k.dataUrl),!1),He(S,k==null?void 0:k.s3Config,k.dataUrl,"GET")):S.open("GET",k.dataUrl,!1),S.responseType="arraybuffer",S.setRequestHeader("Range","bytes=".concat(h,"-").concat(h+b-1)),S.send(null),S.status==206||S.status==200&&b==S.response.byteLength&&h==0){let A=new Uint8Array(S.response,0,Math.min(S.response.byteLength,b));return _.HEAPU8.set(A,o),A.byteLength}else if(S.status==200){console.warn("Range request for ".concat(k.dataUrl," did not return a partial response: ").concat(S.status,' "').concat(S.statusText,'"'));let A=new Uint8Array(S.response,h,Math.min(S.response.byteLength-h,b));return _.HEAPU8.set(A,o),A.byteLength}else throw new Error("Range request for ".concat(k.dataUrl," did returned non-success status: ").concat(S.status,' "').concat(S.statusText,'"'))}catch(S){throw console.log(S),new Error("Range request for ".concat(k.dataUrl," failed with error: ").concat(S,'"'))}}case 2:{let S=(w=te._files)==null?void 0:w.get(k.fileName);if(!S)throw new Error("No HTML5 file registered with name: ".concat(k.fileName));let A=S.slice(h,h+b),C=new Uint8Array(new FileReaderSync().readAsArrayBuffer(A));return _.HEAPU8.set(C,o),C.byteLength}case 3:{let S=k.fileName,A=(y=te._files)==null?void 0:y.get(S);at("readFile",S,A,!0);let C=new Uint8Array(b),O=A.accessHandle.read(C,{at:h});if(Be){let j=b!==O?"ERR!! ".concat(C," != ").concat(O):"".concat(O),Y=C.at(0).toString(16)+","+C.at(1).toString(16);console.log('[WASM-CALL] readFile("'.concat(S,'", ').concat(h,", ").concat(Y,") ").concat(j))}return _.HEAPU8.set(C,o),O}}return 0}catch(k){return console.log(k),Se(_,k.toString()),0}},writeFile:(_,f,o,b,h)=>{var k;let w=te.getFileInfo(_,f);if(!w||typeof w.dataProtocol!="number")return 0;let y=w.fileName;if(Be){let S="".concat(y,", protocol=").concat(it(w.dataProtocol));console.log("[WASM-CALL] writeFile(".concat(S,", ").concat(b," bytes at ").concat(h,")"))}switch(w==null?void 0:w.dataProtocol){case 4:return Se(_,"Cannot write to HTTP file"),0;case 5:{let S=_.HEAPU8.subarray(o,o+b),A=new XMLHttpRequest;return A.open("PUT",Le(w==null?void 0:w.s3Config,w.dataUrl),!1),He(A,w==null?void 0:w.s3Config,w.dataUrl,"PUT","",S),A.send(S),A.status!==200?(Se(_,"Failed writing file: HTTP "+A.status),0):b}case 2:return Se(_,"cannot write using the html5 file reader api"),0;case 3:{let S=(k=te._files)==null?void 0:k.get(y);at("writeFile",y,S,!0);let A=_.HEAPU8.subarray(o,o+b),C=S.accessHandle,O=C.write(A,{at:h});return Be&&console.log("[WASM-CALL] writeFile => ".concat(O,"; size=").concat(C.getSize())),O}}return 0},getLastFileModificationTime:(_,f)=>{var b;let o=te.getFileInfo(_,f);switch(o==null?void 0:o.dataProtocol){case 2:{if(!((b=te._files)==null?void 0:b.get(o.fileName)))throw Error("No handle available for file: ".concat(o.fileName));return 0}case 3:case 4:case 5:return new Date().getTime()}return 0},checkDirectory:(_,f,o)=>{let b=Q(_,f,o);return Be&&console.log('[WASM-CALL] checkDirectory("'.concat(b,'")')),!1},createDirectory:(_,f,o)=>{let b=Q(_,f,o);Be&&console.log('[WASM-CALL] createDirectory("'.concat(b,'")'))},removeDirectory:(_,f,o)=>{let b=Q(_,f,o);Be&&console.log('[WASM-CALL] removeDirectory("'.concat(b,'")'))},listDirectoryEntries:(_,f,o)=>{let b=Q(_,f,o);return Be&&console.log('[WASM-CALL] listDirectoryEntries("'.concat(b,'")')),!1},moveFile:(_,f,o,b,h)=>{var S,A;let w=Q(_,f,o),y=Q(_,b,h),k=(S=te._files)==null?void 0:S.get(w);k!==void 0&&(te._files.delete(k),te._files.set(y,k));for(let[C,O]of((A=te._fileInfoCache)==null?void 0:A.entries())||[])if(O.dataUrl==w){te._fileInfoCache.delete(C);break}return!0},removeFile:(_,f,o)=>{},callScalarUDF:(_,f,o,b,h,w,y)=>{Bt(te,_,f,o,b,h,w,y)}};var Ra=rt(Aa());var Cr=class extends ut{constructor(o,b,h,w){super(o,b);this.mainModuleURL=h,this.pthreadWorkerURL=w}locateFile(o,b){if(o.endsWith(".wasm"))return this.mainModuleURL;if(o.endsWith(".worker.js")){if(!this.pthreadWorkerURL)throw new Error("Missing DuckDB worker URL!");return this.pthreadWorkerURL}throw new Error("WASM instantiation requested unexpected file: prefix=".concat(b," path=").concat(o))}instantiateWasm(o,b){globalThis.DUCKDB_RUNTIME=this._runtime;let h=this.onInstantiationProgress;if(WebAssembly.instantiateStreaming)if(typeof TransformStream=="function"){let y=(async()=>{var be;let k=new Request(this.mainModuleURL),S=await fetch(k),A=S.headers.get("content-length"),C=A&&parseInt(A,10)||0,O=new Date,j={startedAt:O,updatedAt:O,bytesTotal:C||0,bytesLoaded:0},Y={transform(pe,De){j.bytesLoaded+=pe.byteLength;let ye=new Date;if(ye.getTime()-j.updatedAt.getTime()<20){j.updatedAt=ye,De.enqueue(pe);return}for(let ge of h)ge(j);De.enqueue(pe)}},de=new TransformStream(Y);return new Response((be=S.body)==null?void 0:be.pipeThrough(de),S)})();WebAssembly.instantiateStreaming(y,o).then(k=>{b(k.instance,k.module)})}else{console.warn("instantiating without progress handler since transform streams are unavailable");let w=new Request(this.mainModuleURL);WebAssembly.instantiateStreaming(fetch(w),o).then(y=>{b(y.instance,y.module)})}else if(typeof XMLHttpRequest=="function"){let w=new XMLHttpRequest,y=this.mainModuleURL,k=new Date,S={startedAt:k,updatedAt:k,bytesTotal:0,bytesLoaded:0};w.open("GET",y),w.responseType="arraybuffer",w.onerror=A=>{throw this.logger.log({timestamp:new Date,level:4,origin:3,topic:5,event:2,value:"Failed to load WASM: "+A}),new Error(A.toString())},w.onprogress=A=>{S.bytesTotal=A.total,S.bytesLoaded=A.loaded;let C=new Date;if(C.getTime()-S.updatedAt.getTime()<20){S.updatedAt=C;return}for(let O of h)O(S)},w.onload=()=>{WebAssembly.instantiate(w.response,o).then(A=>{b(A.instance,A.module)}).catch(A=>{throw this.logger.log({timestamp:new Date,level:4,origin:3,topic:5,event:2,value:"Failed to instantiate WASM: "+A}),new Error(A)})},w.send()}else console.warn("instantiating with manual fetch since streaming instantiation and xhrs are unavailable"),(async()=>{let y=new Request(this.mainModuleURL),S=await(await fetch(y)).arrayBuffer();WebAssembly.instantiate(S,o).then(A=>{b(A.instance,A.module)})})();return[]}};var Wt=class extends Cr{constructor(f,o,b,h=null){super(f,o,b,h)}instantiateImpl(f){return(0,Ra.default)({...f,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};var Ma=rt(Ta());var jt=class extends Cr{constructor(f,o,b,h=null){super(f,o,b,h)}instantiateImpl(f){return(0,Ma.default)({...f,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};async function cs(_,f,o){return(await It()).wasmExceptions&&_.eh?new jt(f,o,_.eh.mainModule):new Wt(f,o,_.mvp.mainModule)}
/*! Bundled license information:

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.9.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2017
   * @license MIT
   *)
*/
//# sourceMappingURL=duckdb-browser-blocking.cjs.map
