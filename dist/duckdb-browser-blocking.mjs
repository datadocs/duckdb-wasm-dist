var Ga=Object.create;var ha=Object.defineProperty;var Ya=Object.getOwnPropertyDescriptor;var Ka=Object.getOwnPropertyNames;var $a=Object.getPrototypeOf,Va=Object.prototype.hasOwnProperty;var ga=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(n,e)=>(typeof require<"u"?require:n)[e]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ir=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Ja=(t,n,e,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let u of Ka(n))!Va.call(t,u)&&u!==e&&ha(t,u,{get:()=>n[u],enumerable:!(o=Ya(n,u))||o.enumerable});return t};var Ki=(t,n,e)=>(e=t!=null?Ga($a(t)):{},Ja(n||!t||!t.__esModule?ha(e,"default",{value:t,enumerable:!0}):e,t));var Ha=ir((exports,module)=>{(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,n){return function(e){return new Sha256(n,!0).update(e)[t]()}},createMethod=function(t){var n=createOutputMethod("hex",t);NODE_JS&&(n=nodeWrap(n,t)),n.create=function(){return new Sha256(t)},n.update=function(u){return n.create().update(u)};for(var e=0;e<OUTPUT_TYPES.length;++e){var o=OUTPUT_TYPES[e];n[o]=createOutputMethod(o,t)}return n},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,n){return function(e,o){return new HmacSha256(e,n,!0).update(o)[t]()}},createHmacMethod=function(t){var n=createHmacOutputMethod("hex",t);n.create=function(u){return new HmacSha256(u,t)},n.update=function(u,l){return n.create(u).update(l)};for(var e=0;e<OUTPUT_TYPES.length;++e){var o=OUTPUT_TYPES[e];n[o]=createHmacOutputMethod(o,t)}return n};function Sha256(t,n){n?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var n,e=typeof t;if(e!=="string"){if(e==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);n=!0}for(var o,u=0,l,m=t.length,d=this.blocks;u<m;){if(this.hashed&&(this.hashed=!1,d[0]=this.block,d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0),n)for(l=this.start;u<m&&l<64;++u)d[l>>2]|=t[u]<<SHIFT[l++&3];else for(l=this.start;u<m&&l<64;++u)o=t.charCodeAt(u),o<128?d[l>>2]|=o<<SHIFT[l++&3]:o<2048?(d[l>>2]|=(192|o>>6)<<SHIFT[l++&3],d[l>>2]|=(128|o&63)<<SHIFT[l++&3]):o<55296||o>=57344?(d[l>>2]|=(224|o>>12)<<SHIFT[l++&3],d[l>>2]|=(128|o>>6&63)<<SHIFT[l++&3],d[l>>2]|=(128|o&63)<<SHIFT[l++&3]):(o=65536+((o&1023)<<10|t.charCodeAt(++u)&1023),d[l>>2]|=(240|o>>18)<<SHIFT[l++&3],d[l>>2]|=(128|o>>12&63)<<SHIFT[l++&3],d[l>>2]|=(128|o>>6&63)<<SHIFT[l++&3],d[l>>2]|=(128|o&63)<<SHIFT[l++&3]);this.lastByteIndex=l,this.bytes+=l-this.start,l>=64?(this.block=d[16],this.start=l-64,this.hash(),this.hashed=!0):this.start=l}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,n=this.lastByteIndex;t[16]=this.block,t[n>>2]|=EXTRA[n&3],this.block=t[16],n>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,n=this.h1,e=this.h2,o=this.h3,u=this.h4,l=this.h5,m=this.h6,d=this.h7,h=this.blocks,D,R,P,U,N,re,ae,te,de,ce,se;for(D=16;D<64;++D)N=h[D-15],R=(N>>>7|N<<25)^(N>>>18|N<<14)^N>>>3,N=h[D-2],P=(N>>>17|N<<15)^(N>>>19|N<<13)^N>>>10,h[D]=h[D-16]+R+h[D-7]+P<<0;for(se=n&e,D=0;D<64;D+=4)this.first?(this.is224?(te=300032,N=h[0]-1413257819,d=N-150054599<<0,o=N+24177077<<0):(te=704751109,N=h[0]-210244248,d=N-1521486534<<0,o=N+143694565<<0),this.first=!1):(R=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),P=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),te=t&n,U=te^t&e^se,ae=u&l^~u&m,N=d+P+ae+K[D]+h[D],re=R+U,d=o+N<<0,o=N+re<<0),R=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),P=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),de=o&t,U=de^o&n^te,ae=d&u^~d&l,N=m+P+ae+K[D+1]+h[D+1],re=R+U,m=e+N<<0,e=N+re<<0,R=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),P=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),ce=e&o,U=ce^e&t^de,ae=m&d^~m&u,N=l+P+ae+K[D+2]+h[D+2],re=R+U,l=n+N<<0,n=N+re<<0,R=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),P=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),se=n&e,U=se^n&o^ce,ae=l&m^~l&d,N=u+P+ae+K[D+3]+h[D+3],re=R+U,u=t+N<<0,t=N+re<<0;this.h0=this.h0+t<<0,this.h1=this.h1+n<<0,this.h2=this.h2+e<<0,this.h3=this.h3+o<<0,this.h4=this.h4+u<<0,this.h5=this.h5+l<<0,this.h6=this.h6+m<<0,this.h7=this.h7+d<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,n=this.h1,e=this.h2,o=this.h3,u=this.h4,l=this.h5,m=this.h6,d=this.h7,h=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15];return this.is224||(h+=HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]),h},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,n=this.h1,e=this.h2,o=this.h3,u=this.h4,l=this.h5,m=this.h6,d=this.h7,h=[t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,e>>24&255,e>>16&255,e>>8&255,e&255,o>>24&255,o>>16&255,o>>8&255,o&255,u>>24&255,u>>16&255,u>>8&255,u&255,l>>24&255,l>>16&255,l>>8&255,l&255,m>>24&255,m>>16&255,m>>8&255,m&255];return this.is224||h.push(d>>24&255,d>>16&255,d>>8&255,d&255),h},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),n=new DataView(t);return n.setUint32(0,this.h0),n.setUint32(4,this.h1),n.setUint32(8,this.h2),n.setUint32(12,this.h3),n.setUint32(16,this.h4),n.setUint32(20,this.h5),n.setUint32(24,this.h6),this.is224||n.setUint32(28,this.h7),t};function HmacSha256(t,n,e){var o,u=typeof t;if(u==="string"){var l=[],m=t.length,d=0,h;for(o=0;o<m;++o)h=t.charCodeAt(o),h<128?l[d++]=h:h<2048?(l[d++]=192|h>>6,l[d++]=128|h&63):h<55296||h>=57344?(l[d++]=224|h>>12,l[d++]=128|h>>6&63,l[d++]=128|h&63):(h=65536+((h&1023)<<10|t.charCodeAt(++o)&1023),l[d++]=240|h>>18,l[d++]=128|h>>12&63,l[d++]=128|h>>6&63,l[d++]=128|h&63);t=l}else if(u==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(n,!0).update(t).array());var D=[],R=[];for(o=0;o<64;++o){var P=t[o]||0;D[o]=92^P,R[o]=54^P}Sha256.call(this,n,e),this.update(R),this.oKeyPad=D,this.inner=!0,this.sharedMemory=e}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var oa=ir(()=>{});var ua=ir(()=>{});var ca=ir(()=>{});var Oa=ir((at,fa)=>{"use strict";var la=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(n={}){var e=typeof n<"u"?n:{},o,u;e.ready=new Promise((r,i)=>{o=r,u=i});var l=Object.assign({},e),m=[],d="./this.program",h=(r,i)=>{throw i},D=typeof window=="object",R=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U="";function N(r){return e.locateFile?e.locateFile(r,U):U+r}var re,ae,te,de;if(P){var ce=oa(),se=ua();R?U=se.dirname(U)+"/":U=__dirname+"/",re=(r,i)=>(r=_r(r)?new URL(r):se.normalize(r),ce.readFileSync(r,i?void 0:"utf8")),te=r=>{var i=re(r,!0);return i.buffer||(i=new Uint8Array(i)),i},ae=(r,i,s,f=!0)=>{r=_r(r)?new URL(r):se.normalize(r),ce.readFile(r,f?void 0:"utf8",(p,w)=>{p?s(p):i(f?w.buffer:w)})},!e.thisProgram&&process.argv.length>1&&(d=process.argv[1].replace(/\\/g,"/")),m=process.argv.slice(2),h=(r,i)=>{throw process.exitCode=r,i},e.inspect=()=>"[Emscripten Module object]"}else(D||R)&&(R?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),t&&(U=t),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",re=r=>{var i=new XMLHttpRequest;return i.open("GET",r,!1),i.send(null),i.responseText},R&&(te=r=>{var i=new XMLHttpRequest;return i.open("GET",r,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),ae=(r,i,s)=>{var f=new XMLHttpRequest;f.open("GET",r,!0),f.responseType="arraybuffer",f.onload=()=>{if(f.status==200||f.status==0&&f.response){i(f.response);return}s()},f.onerror=s,f.send(null)},de=r=>document.title=r);var Ue=e.print||console.log.bind(console),A=e.printErr||console.error.bind(console);Object.assign(e,l),l=null,e.arguments&&(m=e.arguments),e.thisProgram&&(d=e.thisProgram),e.quit&&(h=e.quit);var me;e.wasmBinary&&(me=e.wasmBinary);var Ge=e.noExitRuntime||!0;typeof WebAssembly!="object"&&F("no native wasm support detected");var be,L=!1,ne;function oe(r,i){r||F(i)}var Q,z,J,Y,g,I,ct,lt;function or(){var r=be.buffer;e.HEAP8=Q=new Int8Array(r),e.HEAP16=J=new Int16Array(r),e.HEAP32=g=new Int32Array(r),e.HEAPU8=z=new Uint8Array(r),e.HEAPU16=Y=new Uint16Array(r),e.HEAPU32=I=new Uint32Array(r),e.HEAPF32=ct=new Float32Array(r),e.HEAPF64=lt=new Float64Array(r)}var ft,ur=[],cr=[],_t=[],lr=[],Ar=!1,dt=0;function mt(){return Ge||dt>0}function bt(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)yt(e.preRun.shift());De(ur)}function pt(){Ar=!0,De(cr)}function ht(){De(_t)}function gt(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)vt(e.postRun.shift());De(lr)}function yt(r){ur.unshift(r)}function wt(r){cr.unshift(r)}function vt(r){lr.unshift(r)}var le=0,Ie=null,we=null;function kt(r){le++,e.monitorRunDependencies&&e.monitorRunDependencies(le)}function Et(r){if(le--,e.monitorRunDependencies&&e.monitorRunDependencies(le),le==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),we)){var i=we;we=null,i()}}function F(r){e.onAbort&&e.onAbort(r),r="Aborted("+r+")",A(r),L=!0,ne=1,r+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(r);throw u(i),i}var St="data:application/octet-stream;base64,";function fr(r){return r.startsWith(St)}function _r(r){return r.startsWith("file://")}var pe;pe="./duckdb-mvp.wasm",fr(pe)||(pe=N(pe));function dr(r){try{if(r==pe&&me)return new Uint8Array(me);if(te)return te(r);throw"both async and sync fetching of the wasm failed"}catch(i){F(i)}}function Dt(r){return!me&&(D||R)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at '"+r+"'";return i.arrayBuffer()}).catch(()=>dr(r)):Promise.resolve().then(()=>dr(r))}function mr(r,i,s){return Dt(r).then(f=>WebAssembly.instantiate(f,i)).then(f=>f).then(s,f=>{A("failed to asynchronously prepare wasm: "+f),F(f)})}function Rt(r,i,s,f){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!fr(i)&&!P&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(p=>{var w=WebAssembly.instantiateStreaming(p,s);return w.then(f,function(y){return A("wasm streaming compile failed: "+y),A("falling back to ArrayBuffer instantiation"),mr(i,s,f)})}):mr(i,s,f)}function Tt(){var r={a:fi};function i(f,p){var w=f.exports;return e.asm=w,be=e.asm.Ga,or(),ft=e.asm.Ja,wt(e.asm.Ha),Et("wasm-instantiate"),w}kt("wasm-instantiate");function s(f){i(f.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(r,i)}catch(f){A("Module.instantiateWasm callback failed with error: "+f),u(f)}return Rt(me,pe,r,s).catch(u),{}}var ee,he;function br(r){this.name="ExitStatus",this.message="Program terminated with exit(".concat(r,")"),this.status=r}function De(r){for(;r.length>0;)r.shift()(e)}function At(){A("missing function: XML_GetBuffer"),F(-1)}function Ft(){A("missing function: XML_GetErrorCode"),F(-1)}function xt(){A("missing function: XML_Parse"),F(-1)}function Ct(){A("missing function: XML_ParseBuffer"),F(-1)}function Mt(){A("missing function: XML_ParserCreate"),F(-1)}function Ut(){A("missing function: XML_ParserFree"),F(-1)}function It(){A("missing function: XML_ResumeParser"),F(-1)}function Ht(){A("missing function: XML_SetCharacterDataHandler"),F(-1)}function Bt(){A("missing function: XML_SetElementHandler"),F(-1)}function Nt(){A("missing function: XML_SetUserData"),F(-1)}function Lt(){A("missing function: XML_StopParser"),F(-1)}function Fr(r){this.excPtr=r,this.ptr=r-24,this.set_type=function(i){I[this.ptr+4>>>2]=i},this.get_type=function(){return I[this.ptr+4>>>2]},this.set_destructor=function(i){I[this.ptr+8>>>2]=i},this.get_destructor=function(){return I[this.ptr+8>>>2]},this.set_caught=function(i){i=i?1:0,Q[this.ptr+12>>>0]=i},this.get_caught=function(){return Q[this.ptr+12>>>0]!=0},this.set_rethrown=function(i){i=i?1:0,Q[this.ptr+13>>>0]=i},this.get_rethrown=function(){return Q[this.ptr+13>>>0]!=0},this.init=function(i,s){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(s)},this.set_adjusted_ptr=function(i){I[this.ptr+16>>>2]=i},this.get_adjusted_ptr=function(){return I[this.ptr+16>>>2]},this.get_exception_ptr=function(){var i=Tr(this.get_type());if(i)return I[this.excPtr>>>2];var s=this.get_adjusted_ptr();return s!==0?s:this.excPtr}}var xr=0,Cr=0;function Mr(r,i,s){var f=new Fr(r);throw f.init(i,s),xr=r,Cr++,xr}var Re="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function Te(r,i,s){F(Re)}var Ur=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ir(r,i,s){i>>>=0;for(var f=i+s,p=i;r[p]&&!(p>=f);)++p;if(p-i>16&&r.buffer&&Ur)return Ur.decode(r.subarray(i,p));for(var w="";i<p;){var y=r[i++];if(!(y&128)){w+=String.fromCharCode(y);continue}var E=r[i++]&63;if((y&224)==192){w+=String.fromCharCode((y&31)<<6|E);continue}var S=r[i++]&63;if((y&240)==224?y=(y&15)<<12|E<<6|S:y=(y&7)<<18|E<<12|S<<6|r[i++]&63,y<65536)w+=String.fromCharCode(y);else{var M=y-65536;w+=String.fromCharCode(55296|M>>10,56320|M&1023)}}return w}function Ae(r,i){return r>>>=0,r?Ir(z,r,i):""}var ge={varargs:void 0,get:function(){ge.varargs+=4;var r=g[ge.varargs-4>>>2];return r},getStr:function(r){var i=Ae(r);return i}};function pr(r,i,s,f,p){for(var w=0,y=i?g[i>>>2]:0,E=i?g[i+4>>>2]:0,S=s?g[s>>>2]:0,M=s?g[s+4>>>2]:0,x=f?g[f>>>2]:0,X=f?g[f+4>>>2]:0,H=0,ie=0,v=0,T=0,O=0,W=0,k=(i?g[i>>>2]:0)|(s?g[s>>>2]:0)|(f?g[f>>>2]:0),C=(i?g[i+4>>>2]:0)|(s?g[s+4>>>2]:0)|(f?g[f+4>>>2]:0),j=function(za,Xa,ja,pa){return za<32?Xa&pa:ja&pa},$=0;$<r;$++){var ue=1<<$%32;if(j($,k,C,ue)){var ze=ge.getStreamFromFD($),Xe=ge.DEFAULT_POLLMASK;ze.stream_ops.poll&&(Xe=ze.stream_ops.poll(ze)),Xe&1&&j($,y,E,ue)&&($<32?H=H|ue:ie=ie|ue,w++),Xe&4&&j($,S,M,ue)&&($<32?v=v|ue:T=T|ue,w++),Xe&2&&j($,x,X,ue)&&($<32?O=O|ue:W=W|ue,w++)}}return i&&(g[i>>>2]=H,g[i+4>>>2]=ie),s&&(g[s>>>2]=v,g[s+4>>>2]=T),f&&(g[f>>>2]=O,g[f+4>>>2]=W),w}function Hr(){A("missing function: $SOCKFS"),F(-1)}function hr(){A("missing function: $FS"),F(-1)}function ve(r){var i=Hr.getSocket(r);if(!i)throw new hr.ErrnoError(8);return i}function Fe(r){return(r&255)+"."+(r>>8&255)+"."+(r>>16&255)+"."+(r>>24&255)}function Ye(r){var i="",s=0,f=0,p=0,w=0,y=0,E=0,S=[r[0]&65535,r[0]>>16,r[1]&65535,r[1]>>16,r[2]&65535,r[2]>>16,r[3]&65535,r[3]>>16],M=!0,x="";for(E=0;E<5;E++)if(S[E]!==0){M=!1;break}if(M){if(x=Fe(S[6]|S[7]<<16),S[5]===-1)return i="::ffff:",i+=x,i;if(S[5]===0)return i="::",x==="0.0.0.0"&&(x=""),x==="0.0.0.1"&&(x="1"),i+=x,i}for(s=0;s<8;s++)S[s]===0&&(s-p>1&&(y=0),p=s,y++),y>f&&(f=y,w=s-f+1);for(s=0;s<8;s++){if(f>1&&S[s]===0&&s>=w&&s<w+f){s===w&&(i+=":",w===0&&(i+=":"));continue}i+=Number(We(S[s]&65535)).toString(16),i+=s<7?":":""}return i}function fe(r,i){var s=J[r>>>1],f=We(Y[r+2>>>1]),p;switch(s){case 2:if(i!==16)return{errno:28};p=g[r+4>>>2],p=Fe(p);break;case 10:if(i!==28)return{errno:28};p=[g[r+8>>>2],g[r+12>>>2],g[r+16>>>2],g[r+20>>>2]],p=Ye(p);break;default:return{errno:5}}return{family:s,addr:p,port:f}}function He(r){for(var i=r.split("."),s=0;s<4;s++){var f=Number(i[s]);if(isNaN(f))return null;i[s]=f}return(i[0]|i[1]<<8|i[2]<<16|i[3]<<24)>>>0}function Ke(r){return parseInt(r)}function gr(r){var i,s,f,p,w=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,y=[];if(!w.test(r))return null;if(r==="::")return[0,0,0,0,0,0,0,0];for(r.startsWith("::")?r=r.replace("::","Z:"):r=r.replace("::",":Z:"),r.indexOf(".")>0?(r=r.replace(new RegExp("[.]","g"),":"),i=r.split(":"),i[i.length-4]=Ke(i[i.length-4])+Ke(i[i.length-3])*256,i[i.length-3]=Ke(i[i.length-2])+Ke(i[i.length-1])*256,i=i.slice(0,i.length-2)):i=r.split(":"),f=0,p=0,s=0;s<i.length;s++)if(typeof i[s]=="string")if(i[s]==="Z"){for(p=0;p<8-i.length+1;p++)y[s+p]=0;f=p-1}else y[s+f]=Pe(parseInt(i[s],16));else y[s+f]=i[s];return[y[1]<<16|y[0],y[3]<<16|y[2],y[5]<<16|y[4],y[7]<<16|y[6]]}var _e={address_map:{id:1,addrs:{},names:{}},lookup_name:function(r){var i=He(r);if(i!==null||(i=gr(r),i!==null))return r;var s;if(_e.address_map.addrs[r])s=_e.address_map.addrs[r];else{var f=_e.address_map.id++;oe(f<65535,"exceeded max address mappings of 65535"),s="172.29."+(f&255)+"."+(f&65280),_e.address_map.names[s]=r,_e.address_map.addrs[r]=s}return s},lookup_addr:function(r){return _e.address_map.names[r]?_e.address_map.names[r]:null}};function Br(r,i,s){if(s&&r===0)return null;var f=fe(r,i);if(f.errno)throw new hr.ErrnoError(f.errno);return f.addr=_e.lookup_addr(f.addr)||f.addr,f}function Ot(r,i,s,f,p,w){var y=ve(r),E=Br(i,s);return y.sock_ops.bind(y,E.addr,E.port),0}function Pt(r,i,s,f,p,w){var y=ve(r),E=Br(i,s);return y.sock_ops.connect(y,E.addr,E.port),0}function Nr(r,i,s,f){}function $e(r,i,s){return ge.varargs=s,0}function Wt(r,i){}function Lr(r,i,s){}function Ve(r,i,s,f){if(s>>>=0,!(f>0))return 0;for(var p=s,w=s+f-1,y=0;y<r.length;++y){var E=r.charCodeAt(y);if(E>=55296&&E<=57343){var S=r.charCodeAt(++y);E=65536+((E&1023)<<10)|S&1023}if(E<=127){if(s>=w)break;i[s++>>>0]=E}else if(E<=2047){if(s+1>=w)break;i[s++>>>0]=192|E>>6,i[s++>>>0]=128|E&63}else if(E<=65535){if(s+2>=w)break;i[s++>>>0]=224|E>>12,i[s++>>>0]=128|E>>6&63,i[s++>>>0]=128|E&63}else{if(s+3>=w)break;i[s++>>>0]=240|E>>18,i[s++>>>0]=128|E>>12&63,i[s++>>>0]=128|E>>6&63,i[s++>>>0]=128|E&63}}return i[s>>>0]=0,s-p}function Je(r,i,s){return Ve(r,z,i,s)}function qt(r,i,s){}function Or(r,i){return z.fill(0,r,r+i),r}function yr(r,i,s,f,p){switch(i){case 2:s=He(s),Or(r,16),p&&(g[p>>>2]=16),J[r>>>1]=i,g[r+4>>>2]=s,J[r+2>>>1]=Pe(f);break;case 10:s=gr(s),Or(r,28),p&&(g[p>>>2]=28),g[r>>>2]=i,g[r+8>>>2]=s[0],g[r+12>>>2]=s[1],g[r+16>>>2]=s[2],g[r+20>>>2]=s[3],J[r+2>>>1]=Pe(f);break;default:return 5}return 0}function zt(r,i,s,f,p,w){var y=ve(r);if(!y.daddr)return-53;var E=yr(i,y.family,_e.lookup_name(y.daddr),y.dport,s);return 0}function Xt(r,i,s,f,p,w){var y=ve(r);return i===1&&s===4?(g[f>>>2]=y.error,g[p>>>2]=4,y.error=null,0):-50}function jt(r,i,s){return ge.varargs=s,0}function Gt(r,i){}function Yt(r,i,s){}function Kt(r,i,s,f){}function $t(r,i,s,f){ge.varargs=f}function Vt(r,i,s,f,p,w){var y=ve(r),E=y.sock_ops.recvmsg(y,s);if(!E)return 0;if(p)var S=yr(p,y.family,_e.lookup_name(E.addr),E.port,w);return z.set(E.buffer,i>>>0),E.buffer.byteLength}function Jt(r,i,s,f){}function Qt(r){}function Zt(r,i,s,f,p,w){}function en(r,i,s){}function rn(r,i){}function Be(r,i,s){}var tn=!0;function nn(){return tn}function an(r){return I[r>>>2]+g[r+4>>>2]*4294967296}function Ne(r){return r%4===0&&(r%100!==0||r%400===0)}var wr=[0,31,60,91,121,152,182,213,244,274,305,335],Pr=[0,31,59,90,120,151,181,212,243,273,304,334];function sn(r){var i=Ne(r.getFullYear()),s=i?wr:Pr,f=s[r.getMonth()]+r.getDate()-1;return f}function on(r,i){var s=new Date(an(r)*1e3);g[i>>>2]=s.getSeconds(),g[i+4>>>2]=s.getMinutes(),g[i+8>>>2]=s.getHours(),g[i+12>>>2]=s.getDate(),g[i+16>>>2]=s.getMonth(),g[i+20>>>2]=s.getFullYear()-1900,g[i+24>>>2]=s.getDay();var f=sn(s)|0;g[i+28>>>2]=f,g[i+36>>>2]=-(s.getTimezoneOffset()*60);var p=new Date(s.getFullYear(),0,1),w=new Date(s.getFullYear(),6,1).getTimezoneOffset(),y=p.getTimezoneOffset(),E=(w!=y&&s.getTimezoneOffset()==Math.min(y,w))|0;g[i+32>>>2]=E}function vr(r){for(var i=0,s=0;s<r.length;++s){var f=r.charCodeAt(s);f<=127?i++:f<=2047?i+=2:f>=55296&&f<=57343?(i+=4,++s):i+=3}return i}function Wr(r){var i=vr(r)+1,s=xe(i);return s&&Je(r,s,i),s}function un(r,i,s){var f=new Date().getFullYear(),p=new Date(f,0,1),w=new Date(f,6,1),y=p.getTimezoneOffset(),E=w.getTimezoneOffset(),S=Math.max(y,E);I[r>>>2]=S*60,g[i>>>2]=+(y!=E);function M(v){var T=v.toTimeString().match(/\(([A-Za-z ]+)\)$/);return T?T[1]:"GMT"}var x=M(p),X=M(w),H=Wr(x),ie=Wr(X);E<y?(I[s>>>2]=H,I[s+4>>>2]=ie):(I[s>>>2]=ie,I[s+4>>>2]=H)}function cn(){F("")}function ln(r,i){F(Re)}function fn(r,i){return globalThis.DUCKDB_RUNTIME.createDirectory(e,r,i)}function _n(r,i){return globalThis.DUCKDB_RUNTIME.checkDirectory(e,r,i)}function dn(r,i){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(e,r,i)}function mn(r,i){return globalThis.DUCKDB_RUNTIME.removeDirectory(e,r,i)}function bn(r){return globalThis.DUCKDB_RUNTIME.closeFile(e,r)}function pn(r,i){return globalThis.DUCKDB_RUNTIME.checkFile(e,r,i)}function hn(r){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(e,r)}function gn(r,i,s,f){return globalThis.DUCKDB_RUNTIME.moveFile(e,r,i,s,f)}function yn(r,i){return globalThis.DUCKDB_RUNTIME.openFile(e,r,i)}function wn(r,i,s,f){return globalThis.DUCKDB_RUNTIME.readFile(e,r,i,s,f)}function vn(r,i){return globalThis.DUCKDB_RUNTIME.truncateFile(e,r,i)}function kn(r,i,s,f){return globalThis.DUCKDB_RUNTIME.writeFile(e,r,i,s,f)}function En(r){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(r)}function qr(r,i){return globalThis.DUCKDB_RUNTIME.glob(e,r,i)}function Sn(r){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(e,r)}function zr(r,i,s,f,p,w){return globalThis.DUCKDB_RUNTIME.callScalarUDF(e,r,i,s,f,p,w)}function Dn(){return Date.now()}function Xr(){return 4294901760}function Rn(){return Xr()}var Qe;P&&(global.performance=ca().performance),Qe=()=>performance.now();function Tn(r,i,s){z.copyWithin(r>>>0,i>>>0,i+s>>>0)}function Le(r){var i=be.buffer,s=r-i.byteLength+65535>>>16;try{return be.grow(s),or(),1}catch(f){}}function An(r){var i=z.length;r=r>>>0;var s=Xr();if(r>s)return!1;for(var f=(S,M)=>S+(M-S%M)%M,p=1;p<=4;p*=2){var w=i*(1+.2/p);w=Math.min(w,r+100663296);var y=Math.min(s,f(Math.max(r,w),65536)),E=Le(y);if(E)return!0}return!1}var kr={};function Fn(){return d||"./this.program"}function Oe(){if(!Oe.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:Fn()};for(var s in kr)kr[s]===void 0?delete i[s]:i[s]=kr[s];var f=[];for(var s in i)f.push("".concat(s,"=").concat(i[s]));Oe.strings=f}return Oe.strings}function xn(r,i){for(var s=0;s<r.length;++s)Q[i++>>>0]=r.charCodeAt(s);Q[i>>>0]=0}function Cn(r,i){var s=0;return Oe().forEach(function(f,p){var w=i+s;I[r+p*4>>>2]=w,xn(f,w),s+=f.length+1}),0}function Mn(r,i){var s=Oe();I[r>>>2]=s.length;var f=0;return s.forEach(function(p){f+=p.length+1}),I[i>>>2]=f,0}function Un(r){return 52}function In(r,i){var s=0,f=0,p=0;{var w=2;r==0?s=2:(r==1||r==2)&&(s=64),p=1}return Q[i>>>0]=w,J[i+2>>>1]=p,he=[s>>>0,(ee=s,+Math.abs(ee)>=1?ee>0?+Math.floor(ee/4294967296)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],g[i+8>>>2]=he[0],g[i+12>>>2]=he[1],he=[f>>>0,(ee=f,+Math.abs(ee)>=1?ee>0?+Math.floor(ee/4294967296)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],g[i+16>>>2]=he[0],g[i+20>>>2]=he[1],0}function Hn(r,i,s,f,p,w){return 52}function Bn(r,i,s,f,p,w){return 52}function Nn(r,i,s,f){return 52}function Ln(r,i,s,f,p){return 70}function On(r){return 52}var Pn=[null,[],[]];function jr(r,i){var s=Pn[r];i===0||i===10?((r===1?Ue:A)(Ir(s,0)),s.length=0):s.push(i)}function Wn(r,i,s,f){for(var p=0,w=0;w<s;w++){var y=I[i>>>2],E=I[i+4>>>2];i+=8;for(var S=0;S<E;S++)jr(r,z[y+S>>>0]);p+=E}return I[f>>>2]=p,0}function qn(r,i,s,f){var p=0,w=0,y=0,E=0,S=0,M=0,x;function X(H,ie,v,T,O,W){var k,C,j,$;return C=H===10?28:16,O=H===10?Ye(O):Fe(O),k=xe(C),$=yr(k,H,O,W),oe(!$),j=xe(32),g[j+4>>>2]=H,g[j+8>>>2]=ie,g[j+12>>>2]=v,I[j+24>>>2]=T,I[j+20>>>2]=k,H===10?g[j+16>>>2]=28:g[j+16>>>2]=16,g[j+28>>>2]=0,j}if(s&&(y=g[s>>>2],E=g[s+4>>>2],S=g[s+8>>>2],M=g[s+12>>>2]),S&&!M&&(M=S===2?17:6),!S&&M&&(S=M===17?2:1),M===0&&(M=6),S===0&&(S=1),!r&&!i)return-2;if(y&-1088||s!==0&&g[s>>>2]&2&&!r)return-1;if(y&32)return-2;if(S!==0&&S!==1&&S!==2)return-7;if(E!==0&&E!==2&&E!==10)return-6;if(i&&(i=Ae(i),w=parseInt(i,10),isNaN(w)))return y&1024?-2:-8;if(!r)return E===0&&(E=2),y&1||(E===2?p=tr(2130706433):p=[0,0,0,1]),x=X(E,S,M,null,p,w),I[f>>>2]=x,0;if(r=Ae(r),p=He(r),p!==null)if(E===0||E===2)E=2;else if(E===10&&y&8)p=[0,0,tr(65535),p],E=10;else return-2;else if(p=gr(r),p!==null)if(E===0||E===10)E=10;else return-2;return p!=null?(x=X(E,S,M,r,p,w),I[f>>>2]=x,0):y&4?-2:(r=_e.lookup_name(r),p=He(r),E===0?E=2:E===10&&(p=[0,0,tr(65535),p]),x=X(E,S,M,null,p,w),I[f>>>2]=x,0)}function zn(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);if(P)try{var r=ga("crypto"),i=r.randomFillSync;if(i)return f=>r.randomFillSync(f);var s=r.randomBytes;return f=>(f.set(s(f.byteLength)),f)}catch(f){}F("initRandomDevice")}function Er(r){return(Er=zn())(r)}function Gr(r,i){return Er(z.subarray(r>>>0,r+i>>>0)),0}function Xn(r,i,s,f,p,w,y){var E=fe(r,i);if(E.errno)return-6;var S=E.port,M=E.addr,x=!1;if(s&&f){var X;if(y&1||!(X=_e.lookup_addr(M))){if(y&8)return-2}else M=X;var H=Je(M,s,f);H+1>=f&&(x=!0)}if(p&&w){S=""+S;var H=Je(S,p,w);H+1>=w&&(x=!0)}return x?-12:0}function jn(r,i){for(var s=0,f=0;f<=i;s+=r[f++]);return s}var Sr=[31,29,31,30,31,30,31,31,30,31,30,31],Yr=[31,28,31,30,31,30,31,31,30,31,30,31];function Gn(r,i){for(var s=new Date(r.getTime());i>0;){var f=Ne(s.getFullYear()),p=s.getMonth(),w=(f?Sr:Yr)[p];if(i>w-s.getDate())i-=w-s.getDate()+1,s.setDate(1),p<11?s.setMonth(p+1):(s.setMonth(0),s.setFullYear(s.getFullYear()+1));else return s.setDate(s.getDate()+i),s}return s}function Yn(r,i,s){var f=s>0?s:vr(r)+1,p=new Array(f),w=Ve(r,p,0,p.length);return i&&(p.length=w),p}function Kr(r,i){Q.set(r,i>>>0)}function Kn(r,i,s,f){var p=g[f+40>>>2],w={tm_sec:g[f>>>2],tm_min:g[f+4>>>2],tm_hour:g[f+8>>>2],tm_mday:g[f+12>>>2],tm_mon:g[f+16>>>2],tm_year:g[f+20>>>2],tm_wday:g[f+24>>>2],tm_yday:g[f+28>>>2],tm_isdst:g[f+32>>>2],tm_gmtoff:g[f+36>>>2],tm_zone:p?Ae(p):""},y=Ae(s),E={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var S in E)y=y.replace(new RegExp(S,"g"),E[S]);var M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=["January","February","March","April","May","June","July","August","September","October","November","December"];function X(k,C,j){for(var $=typeof k=="number"?k.toString():k||"";$.length<C;)$=j[0]+$;return $}function H(k,C){return X(k,C,"0")}function ie(k,C){function j(ue){return ue<0?-1:ue>0?1:0}var $;return($=j(k.getFullYear()-C.getFullYear()))===0&&($=j(k.getMonth()-C.getMonth()))===0&&($=j(k.getDate()-C.getDate())),$}function v(k){switch(k.getDay()){case 0:return new Date(k.getFullYear()-1,11,29);case 1:return k;case 2:return new Date(k.getFullYear(),0,3);case 3:return new Date(k.getFullYear(),0,2);case 4:return new Date(k.getFullYear(),0,1);case 5:return new Date(k.getFullYear()-1,11,31);case 6:return new Date(k.getFullYear()-1,11,30)}}function T(k){var C=Gn(new Date(k.tm_year+1900,0,1),k.tm_yday),j=new Date(C.getFullYear(),0,4),$=new Date(C.getFullYear()+1,0,4),ue=v(j),ze=v($);return ie(ue,C)<=0?ie(ze,C)<=0?C.getFullYear()+1:C.getFullYear():C.getFullYear()-1}var O={"%a":function(k){return M[k.tm_wday].substring(0,3)},"%A":function(k){return M[k.tm_wday]},"%b":function(k){return x[k.tm_mon].substring(0,3)},"%B":function(k){return x[k.tm_mon]},"%C":function(k){var C=k.tm_year+1900;return H(C/100|0,2)},"%d":function(k){return H(k.tm_mday,2)},"%e":function(k){return X(k.tm_mday,2," ")},"%g":function(k){return T(k).toString().substring(2)},"%G":function(k){return T(k)},"%H":function(k){return H(k.tm_hour,2)},"%I":function(k){var C=k.tm_hour;return C==0?C=12:C>12&&(C-=12),H(C,2)},"%j":function(k){return H(k.tm_mday+jn(Ne(k.tm_year+1900)?Sr:Yr,k.tm_mon-1),3)},"%m":function(k){return H(k.tm_mon+1,2)},"%M":function(k){return H(k.tm_min,2)},"%n":function(){return"\n"},"%p":function(k){return k.tm_hour>=0&&k.tm_hour<12?"AM":"PM"},"%S":function(k){return H(k.tm_sec,2)},"%t":function(){return"	"},"%u":function(k){return k.tm_wday||7},"%U":function(k){var C=k.tm_yday+7-k.tm_wday;return H(Math.floor(C/7),2)},"%V":function(k){var C=Math.floor((k.tm_yday+7-(k.tm_wday+6)%7)/7);if((k.tm_wday+371-k.tm_yday-2)%7<=2&&C++,C){if(C==53){var $=(k.tm_wday+371-k.tm_yday)%7;$!=4&&($!=3||!Ne(k.tm_year))&&(C=1)}}else{C=52;var j=(k.tm_wday+7-k.tm_yday-1)%7;(j==4||j==5&&Ne(k.tm_year%400-1))&&C++}return H(C,2)},"%w":function(k){return k.tm_wday},"%W":function(k){var C=k.tm_yday+7-(k.tm_wday+6)%7;return H(Math.floor(C/7),2)},"%y":function(k){return(k.tm_year+1900).toString().substring(2)},"%Y":function(k){return k.tm_year+1900},"%z":function(k){var C=k.tm_gmtoff,j=C>=0;return C=Math.abs(C)/60,C=C/60*100+C%60,(j?"+":"-")+("0000"+C).slice(-4)},"%Z":function(k){return k.tm_zone},"%%":function(){return"%"}};y=y.replace(/%%/g,"\0\0");for(var S in O)y.includes(S)&&(y=y.replace(new RegExp(S,"g"),O[S](w)));y=y.replace(/\0\0/g,"%");var W=Yn(y,!1);return W.length>i?0:(Kr(W,r),W.length-1)}function $n(r,i,s,f,p){return Kn(r,i,s,f)}function Vn(){A("missing function: unzClose"),F(-1)}function Jn(){A("missing function: unzCloseCurrentFile"),F(-1)}function Qn(){A("missing function: unzGetCurrentFileInfo"),F(-1)}function Zn(){A("missing function: unzGetCurrentFileInfo64"),F(-1)}function ei(){A("missing function: unzGetGlobalInfo"),F(-1)}function ri(){A("missing function: unzGoToFirstFile"),F(-1)}function ti(){A("missing function: unzGoToNextFile"),F(-1)}function ni(){A("missing function: unzLocateFile"),F(-1)}function ii(){A("missing function: unzOpen2"),F(-1)}function ai(){A("missing function: unzOpenCurrentFile"),F(-1)}function si(){A("missing function: unzReadCurrentFile"),F(-1)}function oi(r){ne=r,mt()||(e.onExit&&e.onExit(r),L=!0),h(r,new br(r))}function ui(r,i){ne=r,oi(r)}function ci(r){if(r instanceof br||r=="unwind")return ne;h(1,r)}function ma(r){var i=e["_"+r];return i}function li(r){var i=vr(r)+1,s=qe(i);return Je(r,s,i),s}function $r(r,i,s,f,p){var w={string:v=>{var T=0;return v!=null&&v!==0&&(T=li(v)),T},array:v=>{var T=qe(v.length);return Kr(v,T),T}};function y(v){return i==="string"?Ae(v):i==="boolean"?!!v:v}var E=ma(r),S=[],M=0;if(f)for(var x=0;x<f.length;x++){var X=w[s[x]];X?(M===0&&(M=Ce()),S[x]=X(f[x])):S[x]=f[x]}var H=E.apply(null,S);function ie(v){return M!==0&&Rr(M),y(v)}return H=ie(H),H}var fi={g:At,T:Ft,U:xt,m:Ct,o:Mt,c:Ut,z:It,f:Ht,b:Bt,n:Nt,h:Lt,a:Mr,Aa:Te,ua:pr,ya:Ot,xa:Pt,qa:Nr,d:$e,pa:Wt,N:Lr,ka:qt,sa:zt,ta:Xt,I:jt,ma:Gt,la:Yt,na:Kt,J:$t,va:Vt,ia:Jt,D:Qt,wa:Zt,F:en,oa:rn,E:Be,Ca:nn,W:on,X:un,e:cn,Ba:ln,ba:fn,ca:_n,$:dn,aa:mn,B:bn,Z:pn,M:hn,_:gn,ea:yn,p:wn,da:vn,C:kn,fa:En,Y:qr,A:Sn,ga:zr,K:Dn,Da:Rn,i:Qe,za:Tn,Fa:An,L:Cn,R:Mn,k:Un,V:In,P:Hn,O:Bn,H:Nn,Q:Ln,ja:On,u:Wn,G:qn,ha:Gr,ra:Xn,Ea:$n,j:Vn,t:Jn,x:Qn,q:Zn,S:ei,y:ri,w:ti,s:ni,v:ii,r:ai,l:si},ba=Tt(),_i=function(){return(_i=e.asm.Ha).apply(null,arguments)},Vr=e._main=function(){return(Vr=e._main=e.asm.Ia).apply(null,arguments)},di=e._duckdb_web_fs_glob_add_path=function(){return(di=e._duckdb_web_fs_glob_add_path=e.asm.Ka).apply(null,arguments)},mi=e._duckdb_web_clear_response=function(){return(mi=e._duckdb_web_clear_response=e.asm.La).apply(null,arguments)},bi=e._duckdb_web_fail_with=function(){return(bi=e._duckdb_web_fail_with=e.asm.Ma).apply(null,arguments)},pi=e._duckdb_web_reset=function(){return(pi=e._duckdb_web_reset=e.asm.Na).apply(null,arguments)},hi=e._duckdb_web_connect=function(){return(hi=e._duckdb_web_connect=e.asm.Oa).apply(null,arguments)},gi=e._duckdb_web_disconnect=function(){return(gi=e._duckdb_web_disconnect=e.asm.Pa).apply(null,arguments)},yi=e._duckdb_web_flush_files=function(){return(yi=e._duckdb_web_flush_files=e.asm.Qa).apply(null,arguments)},wi=e._duckdb_web_flush_file=function(){return(wi=e._duckdb_web_flush_file=e.asm.Ra).apply(null,arguments)},vi=e._duckdb_web_open=function(){return(vi=e._duckdb_web_open=e.asm.Sa).apply(null,arguments)},ki=e._duckdb_web_get_global_file_info=function(){return(ki=e._duckdb_web_get_global_file_info=e.asm.Ta).apply(null,arguments)},Ei=e._duckdb_web_collect_file_stats=function(){return(Ei=e._duckdb_web_collect_file_stats=e.asm.Ua).apply(null,arguments)},Si=e._duckdb_web_export_file_stats=function(){return(Si=e._duckdb_web_export_file_stats=e.asm.Va).apply(null,arguments)},Di=e._duckdb_web_fs_drop_file=function(){return(Di=e._duckdb_web_fs_drop_file=e.asm.Wa).apply(null,arguments)},Ri=e._duckdb_web_fs_drop_files=function(){return(Ri=e._duckdb_web_fs_drop_files=e.asm.Xa).apply(null,arguments)},Ti=e._duckdb_web_fs_glob_file_infos=function(){return(Ti=e._duckdb_web_fs_glob_file_infos=e.asm.Ya).apply(null,arguments)},Ai=e._duckdb_web_fs_get_file_info_by_id=function(){return(Ai=e._duckdb_web_fs_get_file_info_by_id=e.asm.Za).apply(null,arguments)},Fi=e._duckdb_web_fs_get_file_info_by_name=function(){return(Fi=e._duckdb_web_fs_get_file_info_by_name=e.asm._a).apply(null,arguments)},xi=e._duckdb_web_fs_register_file_url=function(){return(xi=e._duckdb_web_fs_register_file_url=e.asm.$a).apply(null,arguments)},Ci=e._duckdb_web_fs_register_file_buffer=function(){return(Ci=e._duckdb_web_fs_register_file_buffer=e.asm.ab).apply(null,arguments)},Mi=e._duckdb_web_copy_file_to_buffer=function(){return(Mi=e._duckdb_web_copy_file_to_buffer=e.asm.bb).apply(null,arguments)},Ui=e._duckdb_web_copy_file_to_path=function(){return(Ui=e._duckdb_web_copy_file_to_path=e.asm.cb).apply(null,arguments)},Ii=e._duckdb_web_get_version=function(){return(Ii=e._duckdb_web_get_version=e.asm.db).apply(null,arguments)},Hi=e._duckdb_web_get_feature_flags=function(){return(Hi=e._duckdb_web_get_feature_flags=e.asm.eb).apply(null,arguments)},Bi=e._duckdb_web_tokenize=function(){return(Bi=e._duckdb_web_tokenize=e.asm.fb).apply(null,arguments)},Ni=e._duckdb_web_udf_scalar_create=function(){return(Ni=e._duckdb_web_udf_scalar_create=e.asm.gb).apply(null,arguments)},Li=e._duckdb_web_prepared_create=function(){return(Li=e._duckdb_web_prepared_create=e.asm.hb).apply(null,arguments)},Oi=e._duckdb_web_prepared_close=function(){return(Oi=e._duckdb_web_prepared_close=e.asm.ib).apply(null,arguments)},Pi=e._duckdb_web_prepared_run=function(){return(Pi=e._duckdb_web_prepared_run=e.asm.jb).apply(null,arguments)},Wi=e._duckdb_web_prepared_send=function(){return(Wi=e._duckdb_web_prepared_send=e.asm.kb).apply(null,arguments)},qi=e._duckdb_web_query_run=function(){return(qi=e._duckdb_web_query_run=e.asm.lb).apply(null,arguments)},zi=e._duckdb_web_pending_query_start=function(){return(zi=e._duckdb_web_pending_query_start=e.asm.mb).apply(null,arguments)},Xi=e._duckdb_web_pending_query_poll=function(){return(Xi=e._duckdb_web_pending_query_poll=e.asm.nb).apply(null,arguments)},ji=e._duckdb_web_pending_query_cancel=function(){return(ji=e._duckdb_web_pending_query_cancel=e.asm.ob).apply(null,arguments)},Gi=e._duckdb_web_query_fetch_results=function(){return(Gi=e._duckdb_web_query_fetch_results=e.asm.pb).apply(null,arguments)},Yi=e._duckdb_web_get_tablenames=function(){return(Yi=e._duckdb_web_get_tablenames=e.asm.qb).apply(null,arguments)},Ze=e._duckdb_web_insert_arrow_from_ipc_stream=function(){return(Ze=e._duckdb_web_insert_arrow_from_ipc_stream=e.asm.rb).apply(null,arguments)},er=e._duckdb_web_insert_csv_from_path=function(){return(er=e._duckdb_web_insert_csv_from_path=e.asm.sb).apply(null,arguments)},Dr=e._duckdb_web_insert_json_from_path=function(){return(Dr=e._duckdb_web_insert_json_from_path=e.asm.tb).apply(null,arguments)},rr=function(){return(rr=e.asm.__errno_location).apply(null,arguments)},tr=function(){return(tr=e.asm.ub).apply(null,arguments)},Pe=function(){return(Pe=e.asm.vb).apply(null,arguments)},We=function(){return(We=e.asm.wb).apply(null,arguments)},xe=e._malloc=function(){return(xe=e._malloc=e.asm.xb).apply(null,arguments)},nr=e._free=function(){return(nr=e._free=e.asm.yb).apply(null,arguments)},Ce=function(){return(Ce=e.asm.zb).apply(null,arguments)},Rr=function(){return(Rr=e.asm.Ab).apply(null,arguments)},qe=function(){return(qe=e.asm.Bb).apply(null,arguments)},Tr=function(){return(Tr=e.asm.Cb).apply(null,arguments)};e.stackAlloc=qe,e.stackSave=Ce,e.stackRestore=Rr,e.ccall=$r;var a;we=function r(){a||_(),a||(we=r)};function c(){var r=Vr,i=0,s=0;try{var f=r(i,s);return ui(f,!0),f}catch(p){return ci(p)}}function _(){if(le>0||(bt(),le>0))return;function r(){a||(a=!0,e.calledRun=!0,!L&&(pt(),ht(),o(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),b&&c(),gt()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),r()},1)):r()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();var b=!0;return e.noInitialRun&&(b=!1),_(),n.ready}})();typeof at=="object"&&typeof fa=="object"?fa.exports=la:typeof define=="function"&&define.amd?define([],function(){return la}):typeof at=="object"&&(at.DuckDB=la)});var Wa=ir((ot,da)=>{"use strict";var _a=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(n={}){var e=typeof n<"u"?n:{},o,u;e.ready=new Promise((a,c)=>{o=a,u=c});var l=Object.assign({},e),m=[],d="./this.program",h=(a,c)=>{throw c},D=typeof window=="object",R=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U="";function N(a){return e.locateFile?e.locateFile(a,U):U+a}var re,ae,te,de;if(P){var ce=oa(),se=ua();R?U=se.dirname(U)+"/":U=__dirname+"/",re=(a,c)=>(a=_r(a)?new URL(a):se.normalize(a),ce.readFileSync(a,c?void 0:"utf8")),te=a=>{var c=re(a,!0);return c.buffer||(c=new Uint8Array(c)),c},ae=(a,c,_,b=!0)=>{a=_r(a)?new URL(a):se.normalize(a),ce.readFile(a,b?void 0:"utf8",(r,i)=>{r?_(r):c(b?i.buffer:i)})},!e.thisProgram&&process.argv.length>1&&(d=process.argv[1].replace(/\\/g,"/")),m=process.argv.slice(2),h=(a,c)=>{throw process.exitCode=a,c},e.inspect=()=>"[Emscripten Module object]"}else(D||R)&&(R?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),t&&(U=t),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",re=a=>{var c=new XMLHttpRequest;return c.open("GET",a,!1),c.send(null),c.responseText},R&&(te=a=>{var c=new XMLHttpRequest;return c.open("GET",a,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),ae=(a,c,_)=>{var b=new XMLHttpRequest;b.open("GET",a,!0),b.responseType="arraybuffer",b.onload=()=>{if(b.status==200||b.status==0&&b.response){c(b.response);return}_()},b.onerror=_,b.send(null)},de=a=>document.title=a);var Ue=e.print||console.log.bind(console),A=e.printErr||console.error.bind(console);Object.assign(e,l),l=null,e.arguments&&(m=e.arguments),e.thisProgram&&(d=e.thisProgram),e.quit&&(h=e.quit);var me;e.wasmBinary&&(me=e.wasmBinary);var Ge=e.noExitRuntime||!0;typeof WebAssembly!="object"&&F("no native wasm support detected");var be,L=!1,ne;function oe(a,c){a||F(c)}var Q,z,J,Y,g,I,ct,lt;function or(){var a=be.buffer;e.HEAP8=Q=new Int8Array(a),e.HEAP16=J=new Int16Array(a),e.HEAP32=g=new Int32Array(a),e.HEAPU8=z=new Uint8Array(a),e.HEAPU16=Y=new Uint16Array(a),e.HEAPU32=I=new Uint32Array(a),e.HEAPF32=ct=new Float32Array(a),e.HEAPF64=lt=new Float64Array(a)}var ft,ur=[],cr=[],_t=[],lr=[],Ar=!1,dt=0;function mt(){return Ge||dt>0}function bt(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)yt(e.preRun.shift());De(ur)}function pt(){Ar=!0,De(cr)}function ht(){De(_t)}function gt(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)vt(e.postRun.shift());De(lr)}function yt(a){ur.unshift(a)}function wt(a){cr.unshift(a)}function vt(a){lr.unshift(a)}var le=0,Ie=null,we=null;function kt(a){le++,e.monitorRunDependencies&&e.monitorRunDependencies(le)}function Et(a){if(le--,e.monitorRunDependencies&&e.monitorRunDependencies(le),le==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),we)){var c=we;we=null,c()}}function F(a){e.onAbort&&e.onAbort(a),a="Aborted("+a+")",A(a),L=!0,ne=1,a+=". Build with -sASSERTIONS for more info.",Ar&&Pe();var c=new WebAssembly.RuntimeError(a);throw u(c),c}var St="data:application/octet-stream;base64,";function fr(a){return a.startsWith(St)}function _r(a){return a.startsWith("file://")}var pe;pe="./duckdb-eh.wasm",fr(pe)||(pe=N(pe));function dr(a){try{if(a==pe&&me)return new Uint8Array(me);if(te)return te(a);throw"both async and sync fetching of the wasm failed"}catch(c){F(c)}}function Dt(a){return!me&&(D||R)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(c=>{if(!c.ok)throw"failed to load wasm binary file at '"+a+"'";return c.arrayBuffer()}).catch(()=>dr(a)):Promise.resolve().then(()=>dr(a))}function mr(a,c,_){return Dt(a).then(b=>WebAssembly.instantiate(b,c)).then(b=>b).then(_,b=>{A("failed to asynchronously prepare wasm: "+b),F(b)})}function Rt(a,c,_,b){return!a&&typeof WebAssembly.instantiateStreaming=="function"&&!fr(c)&&!P&&typeof fetch=="function"?fetch(c,{credentials:"same-origin"}).then(r=>{var i=WebAssembly.instantiateStreaming(r,_);return i.then(b,function(s){return A("wasm streaming compile failed: "+s),A("falling back to ArrayBuffer instantiation"),mr(c,_,b)})}):mr(c,_,b)}function Tt(){var a={a:ci};function c(b,r){var i=b.exports;return e.asm=i,be=e.asm.Fa,or(),ft=e.asm.Ia,wt(e.asm.Ga),Et("wasm-instantiate"),i}kt("wasm-instantiate");function _(b){c(b.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(a,c)}catch(b){A("Module.instantiateWasm callback failed with error: "+b),u(b)}return Rt(me,pe,a,_).catch(u),{}}var ee,he;function br(a){this.name="ExitStatus",this.message="Program terminated with exit(".concat(a,")"),this.status=a}function De(a){for(;a.length>0;)a.shift()(e)}function At(){A("missing function: XML_GetBuffer"),F(-1)}function Ft(){A("missing function: XML_GetErrorCode"),F(-1)}function xt(){A("missing function: XML_Parse"),F(-1)}function Ct(){A("missing function: XML_ParseBuffer"),F(-1)}function Mt(){A("missing function: XML_ParserCreate"),F(-1)}function Ut(){A("missing function: XML_ParserFree"),F(-1)}function It(){A("missing function: XML_ResumeParser"),F(-1)}function Ht(){A("missing function: XML_SetCharacterDataHandler"),F(-1)}function Bt(){A("missing function: XML_SetElementHandler"),F(-1)}function Nt(){A("missing function: XML_SetUserData"),F(-1)}function Lt(){A("missing function: XML_StopParser"),F(-1)}var Fr="To use dlopen, you need enable dynamic linking, see https://emscripten.org/docs/compiling/Dynamic-Linking.html";function xr(a,c,_){F(Fr)}var Cr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Mr(a,c,_){c>>>=0;for(var b=c+_,r=c;a[r]&&!(r>=b);)++r;if(r-c>16&&a.buffer&&Cr)return Cr.decode(a.subarray(c,r));for(var i="";c<r;){var s=a[c++];if(!(s&128)){i+=String.fromCharCode(s);continue}var f=a[c++]&63;if((s&224)==192){i+=String.fromCharCode((s&31)<<6|f);continue}var p=a[c++]&63;if((s&240)==224?s=(s&15)<<12|f<<6|p:s=(s&7)<<18|f<<12|p<<6|a[c++]&63,s<65536)i+=String.fromCharCode(s);else{var w=s-65536;i+=String.fromCharCode(55296|w>>10,56320|w&1023)}}return i}function Re(a,c){return a>>>=0,a?Mr(z,a,c):""}var Te={varargs:void 0,get:function(){Te.varargs+=4;var a=g[Te.varargs-4>>>2];return a},getStr:function(a){var c=Re(a);return c}};function Ur(a,c,_,b,r){for(var i=0,s=c?g[c>>>2]:0,f=c?g[c+4>>>2]:0,p=_?g[_>>>2]:0,w=_?g[_+4>>>2]:0,y=b?g[b>>>2]:0,E=b?g[b+4>>>2]:0,S=0,M=0,x=0,X=0,H=0,ie=0,v=(c?g[c>>>2]:0)|(_?g[_>>>2]:0)|(b?g[b>>>2]:0),T=(c?g[c+4>>>2]:0)|(_?g[_+4>>>2]:0)|(b?g[b+4>>>2]:0),O=function($,ue,ze,Xe){return $<32?ue&Xe:ze&Xe},W=0;W<a;W++){var k=1<<W%32;if(O(W,v,T,k)){var C=Te.getStreamFromFD(W),j=Te.DEFAULT_POLLMASK;C.stream_ops.poll&&(j=C.stream_ops.poll(C)),j&1&&O(W,s,f,k)&&(W<32?S=S|k:M=M|k,i++),j&4&&O(W,p,w,k)&&(W<32?x=x|k:X=X|k,i++),j&2&&O(W,y,E,k)&&(W<32?H=H|k:ie=ie|k,i++)}}return c&&(g[c>>>2]=S,g[c+4>>>2]=M),_&&(g[_>>>2]=x,g[_+4>>>2]=X),b&&(g[b>>>2]=H,g[b+4>>>2]=ie),i}function Ir(){A("missing function: $SOCKFS"),F(-1)}function Ae(){A("missing function: $FS"),F(-1)}function ge(a){var c=Ir.getSocket(a);if(!c)throw new Ae.ErrnoError(8);return c}function pr(a){return(a&255)+"."+(a>>8&255)+"."+(a>>16&255)+"."+(a>>24&255)}function Hr(a){var c="",_=0,b=0,r=0,i=0,s=0,f=0,p=[a[0]&65535,a[0]>>16,a[1]&65535,a[1]>>16,a[2]&65535,a[2]>>16,a[3]&65535,a[3]>>16],w=!0,y="";for(f=0;f<5;f++)if(p[f]!==0){w=!1;break}if(w){if(y=pr(p[6]|p[7]<<16),p[5]===-1)return c="::ffff:",c+=y,c;if(p[5]===0)return c="::",y==="0.0.0.0"&&(y=""),y==="0.0.0.1"&&(y="1"),c+=y,c}for(_=0;_<8;_++)p[_]===0&&(_-r>1&&(s=0),r=_,s++),s>b&&(b=s,i=_-b+1);for(_=0;_<8;_++){if(b>1&&p[_]===0&&_>=i&&_<i+b){_===i&&(c+=":",i===0&&(c+=":"));continue}c+=Number(Dr(p[_]&65535)).toString(16),c+=_<7?":":""}return c}function hr(a,c){var _=J[a>>>1],b=Dr(Y[a+2>>>1]),r;switch(_){case 2:if(c!==16)return{errno:28};r=g[a+4>>>2],r=pr(r);break;case 10:if(c!==28)return{errno:28};r=[g[a+8>>>2],g[a+12>>>2],g[a+16>>>2],g[a+20>>>2]],r=Hr(r);break;default:return{errno:5}}return{family:_,addr:r,port:b}}function ve(a){for(var c=a.split("."),_=0;_<4;_++){var b=Number(c[_]);if(isNaN(b))return null;c[_]=b}return(c[0]|c[1]<<8|c[2]<<16|c[3]<<24)>>>0}function Fe(a){return parseInt(a)}function Ye(a){var c,_,b,r,i=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,s=[];if(!i.test(a))return null;if(a==="::")return[0,0,0,0,0,0,0,0];for(a.startsWith("::")?a=a.replace("::","Z:"):a=a.replace("::",":Z:"),a.indexOf(".")>0?(a=a.replace(new RegExp("[.]","g"),":"),c=a.split(":"),c[c.length-4]=Fe(c[c.length-4])+Fe(c[c.length-3])*256,c[c.length-3]=Fe(c[c.length-2])+Fe(c[c.length-1])*256,c=c.slice(0,c.length-2)):c=a.split(":"),b=0,r=0,_=0;_<c.length;_++)if(typeof c[_]=="string")if(c[_]==="Z"){for(r=0;r<8-c.length+1;r++)s[_+r]=0;b=r-1}else s[_+b]=er(parseInt(c[_],16));else s[_+b]=c[_];return[s[1]<<16|s[0],s[3]<<16|s[2],s[5]<<16|s[4],s[7]<<16|s[6]]}var fe={address_map:{id:1,addrs:{},names:{}},lookup_name:function(a){var c=ve(a);if(c!==null||(c=Ye(a),c!==null))return a;var _;if(fe.address_map.addrs[a])_=fe.address_map.addrs[a];else{var b=fe.address_map.id++;oe(b<65535,"exceeded max address mappings of 65535"),_="172.29."+(b&255)+"."+(b&65280),fe.address_map.names[_]=a,fe.address_map.addrs[a]=_}return _},lookup_addr:function(a){return fe.address_map.names[a]?fe.address_map.names[a]:null}};function He(a,c,_){if(_&&a===0)return null;var b=hr(a,c);if(b.errno)throw new Ae.ErrnoError(b.errno);return b.addr=fe.lookup_addr(b.addr)||b.addr,b}function Ke(a,c,_,b,r,i){var s=ge(a),f=He(c,_);return s.sock_ops.bind(s,f.addr,f.port),0}function gr(a,c,_,b,r,i){var s=ge(a),f=He(c,_);return s.sock_ops.connect(s,f.addr,f.port),0}function _e(a,c,_,b){}function Br(a,c,_){return Te.varargs=_,0}function Ot(a,c){}function Pt(a,c,_){}function Nr(a,c,_,b){if(_>>>=0,!(b>0))return 0;for(var r=_,i=_+b-1,s=0;s<a.length;++s){var f=a.charCodeAt(s);if(f>=55296&&f<=57343){var p=a.charCodeAt(++s);f=65536+((f&1023)<<10)|p&1023}if(f<=127){if(_>=i)break;c[_++>>>0]=f}else if(f<=2047){if(_+1>=i)break;c[_++>>>0]=192|f>>6,c[_++>>>0]=128|f&63}else if(f<=65535){if(_+2>=i)break;c[_++>>>0]=224|f>>12,c[_++>>>0]=128|f>>6&63,c[_++>>>0]=128|f&63}else{if(_+3>=i)break;c[_++>>>0]=240|f>>18,c[_++>>>0]=128|f>>12&63,c[_++>>>0]=128|f>>6&63,c[_++>>>0]=128|f&63}}return c[_>>>0]=0,_-r}function $e(a,c,_){return Nr(a,z,c,_)}function Wt(a,c,_){}function Lr(a,c){return z.fill(0,a,a+c),a}function Ve(a,c,_,b,r){switch(c){case 2:_=ve(_),Lr(a,16),r&&(g[r>>>2]=16),J[a>>>1]=c,g[a+4>>>2]=_,J[a+2>>>1]=er(b);break;case 10:_=Ye(_),Lr(a,28),r&&(g[r>>>2]=28),g[a>>>2]=c,g[a+8>>>2]=_[0],g[a+12>>>2]=_[1],g[a+16>>>2]=_[2],g[a+20>>>2]=_[3],J[a+2>>>1]=er(b);break;default:return 5}return 0}function Je(a,c,_,b,r,i){var s=ge(a);if(!s.daddr)return-53;var f=Ve(c,s.family,fe.lookup_name(s.daddr),s.dport,_);return 0}function qt(a,c,_,b,r,i){var s=ge(a);return c===1&&_===4?(g[b>>>2]=s.error,g[r>>>2]=4,s.error=null,0):-50}function Or(a,c,_){return Te.varargs=_,0}function yr(a,c){}function zt(a,c,_){}function Xt(a,c,_,b){}function jt(a,c,_,b){Te.varargs=b}function Gt(a,c,_,b,r,i){var s=ge(a),f=s.sock_ops.recvmsg(s,_);if(!f)return 0;if(r)var p=Ve(r,s.family,fe.lookup_name(f.addr),f.port,i);return z.set(f.buffer,c>>>0),f.buffer.byteLength}function Yt(a,c,_,b){}function Kt(a){}function $t(a,c,_,b,r,i){}function Vt(a,c,_){}function Jt(a,c){}function Qt(a,c,_){}var Zt=!0;function en(){return Zt}function rn(a){return I[a>>>2]+g[a+4>>>2]*4294967296}function Be(a){return a%4===0&&(a%100!==0||a%400===0)}var tn=[0,31,60,91,121,152,182,213,244,274,305,335],nn=[0,31,59,90,120,151,181,212,243,273,304,334];function an(a){var c=Be(a.getFullYear()),_=c?tn:nn,b=_[a.getMonth()]+a.getDate()-1;return b}function Ne(a,c){var _=new Date(rn(a)*1e3);g[c>>>2]=_.getSeconds(),g[c+4>>>2]=_.getMinutes(),g[c+8>>>2]=_.getHours(),g[c+12>>>2]=_.getDate(),g[c+16>>>2]=_.getMonth(),g[c+20>>>2]=_.getFullYear()-1900,g[c+24>>>2]=_.getDay();var b=an(_)|0;g[c+28>>>2]=b,g[c+36>>>2]=-(_.getTimezoneOffset()*60);var r=new Date(_.getFullYear(),0,1),i=new Date(_.getFullYear(),6,1).getTimezoneOffset(),s=r.getTimezoneOffset(),f=(i!=s&&_.getTimezoneOffset()==Math.min(s,i))|0;g[c+32>>>2]=f}function wr(a){for(var c=0,_=0;_<a.length;++_){var b=a.charCodeAt(_);b<=127?c++:b<=2047?c+=2:b>=55296&&b<=57343?(c+=4,++_):c+=3}return c}function Pr(a){var c=wr(a)+1,_=rr(c);return _&&$e(a,_,c),_}function sn(a,c,_){var b=new Date().getFullYear(),r=new Date(b,0,1),i=new Date(b,6,1),s=r.getTimezoneOffset(),f=i.getTimezoneOffset(),p=Math.max(s,f);I[a>>>2]=p*60,g[c>>>2]=+(s!=f);function w(x){var X=x.toTimeString().match(/\(([A-Za-z ]+)\)$/);return X?X[1]:"GMT"}var y=w(r),E=w(i),S=Pr(y),M=Pr(E);f<s?(I[_>>>2]=S,I[_+4>>>2]=M):(I[_>>>2]=M,I[_+4>>>2]=S)}function on(){F("")}function vr(a,c){F(Fr)}function Wr(a,c){return globalThis.DUCKDB_RUNTIME.createDirectory(e,a,c)}function un(a,c){return globalThis.DUCKDB_RUNTIME.checkDirectory(e,a,c)}function cn(a,c){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(e,a,c)}function ln(a,c){return globalThis.DUCKDB_RUNTIME.removeDirectory(e,a,c)}function fn(a){return globalThis.DUCKDB_RUNTIME.closeFile(e,a)}function _n(a,c){return globalThis.DUCKDB_RUNTIME.checkFile(e,a,c)}function dn(a){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(e,a)}function mn(a,c,_,b){return globalThis.DUCKDB_RUNTIME.moveFile(e,a,c,_,b)}function bn(a,c){return globalThis.DUCKDB_RUNTIME.openFile(e,a,c)}function pn(a,c,_,b){return globalThis.DUCKDB_RUNTIME.readFile(e,a,c,_,b)}function hn(a,c){return globalThis.DUCKDB_RUNTIME.truncateFile(e,a,c)}function gn(a,c,_,b){return globalThis.DUCKDB_RUNTIME.writeFile(e,a,c,_,b)}function yn(a){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(a)}function wn(a,c){return globalThis.DUCKDB_RUNTIME.glob(e,a,c)}function vn(a){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(e,a)}function kn(a,c,_,b,r,i){return globalThis.DUCKDB_RUNTIME.callScalarUDF(e,a,c,_,b,r,i)}function En(){return Date.now()}function qr(){return 4294901760}function Sn(){return qr()}var zr;P&&(global.performance=ca().performance),zr=()=>performance.now();function Dn(a,c,_){z.copyWithin(a>>>0,c>>>0,c+_>>>0)}function Xr(a){var c=be.buffer,_=a-c.byteLength+65535>>>16;try{return be.grow(_),or(),1}catch(b){}}function Rn(a){var c=z.length;a=a>>>0;var _=qr();if(a>_)return!1;for(var b=(p,w)=>p+(w-p%w)%w,r=1;r<=4;r*=2){var i=c*(1+.2/r);i=Math.min(i,a+100663296);var s=Math.min(_,b(Math.max(a,i),65536)),f=Xr(s);if(f)return!0}return!1}var Qe={};function Tn(){return d||"./this.program"}function Le(){if(!Le.strings){var a=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",c={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:a,_:Tn()};for(var _ in Qe)Qe[_]===void 0?delete c[_]:c[_]=Qe[_];var b=[];for(var _ in c)b.push("".concat(_,"=").concat(c[_]));Le.strings=b}return Le.strings}function An(a,c){for(var _=0;_<a.length;++_)Q[c++>>>0]=a.charCodeAt(_);Q[c>>>0]=0}function kr(a,c){var _=0;return Le().forEach(function(b,r){var i=c+_;I[a+r*4>>>2]=i,An(b,i),_+=b.length+1}),0}function Fn(a,c){var _=Le();I[a>>>2]=_.length;var b=0;return _.forEach(function(r){b+=r.length+1}),I[c>>>2]=b,0}function Oe(a){return 52}function xn(a,c){var _=0,b=0,r=0;{var i=2;a==0?_=2:(a==1||a==2)&&(_=64),r=1}return Q[c>>>0]=i,J[c+2>>>1]=r,he=[_>>>0,(ee=_,+Math.abs(ee)>=1?ee>0?+Math.floor(ee/4294967296)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],g[c+8>>>2]=he[0],g[c+12>>>2]=he[1],he=[b>>>0,(ee=b,+Math.abs(ee)>=1?ee>0?+Math.floor(ee/4294967296)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],g[c+16>>>2]=he[0],g[c+20>>>2]=he[1],0}function Cn(a,c,_,b,r,i){return 52}function Mn(a,c,_,b,r,i){return 52}function Un(a,c,_,b){return 52}function In(a,c,_,b,r){return 70}function Hn(a){return 52}var Bn=[null,[],[]];function Nn(a,c){var _=Bn[a];c===0||c===10?((a===1?Ue:A)(Mr(_,0)),_.length=0):_.push(c)}function Ln(a,c,_,b){for(var r=0,i=0;i<_;i++){var s=I[c>>>2],f=I[c+4>>>2];c+=8;for(var p=0;p<f;p++)Nn(a,z[s+p>>>0]);r+=f}return I[b>>>2]=r,0}function On(a,c,_,b){var r=0,i=0,s=0,f=0,p=0,w=0,y;function E(S,M,x,X,H,ie){var v,T,O,W;return T=S===10?28:16,H=S===10?Hr(H):pr(H),v=rr(T),W=Ve(v,S,H,ie),oe(!W),O=rr(32),g[O+4>>>2]=S,g[O+8>>>2]=M,g[O+12>>>2]=x,I[O+24>>>2]=X,I[O+20>>>2]=v,S===10?g[O+16>>>2]=28:g[O+16>>>2]=16,g[O+28>>>2]=0,O}if(_&&(s=g[_>>>2],f=g[_+4>>>2],p=g[_+8>>>2],w=g[_+12>>>2]),p&&!w&&(w=p===2?17:6),!p&&w&&(p=w===17?2:1),w===0&&(w=6),p===0&&(p=1),!a&&!c)return-2;if(s&-1088||_!==0&&g[_>>>2]&2&&!a)return-1;if(s&32)return-2;if(p!==0&&p!==1&&p!==2)return-7;if(f!==0&&f!==2&&f!==10)return-6;if(c&&(c=Re(c),i=parseInt(c,10),isNaN(i)))return s&1024?-2:-8;if(!a)return f===0&&(f=2),s&1||(f===2?r=Ze(2130706433):r=[0,0,0,1]),y=E(f,p,w,null,r,i),I[b>>>2]=y,0;if(a=Re(a),r=ve(a),r!==null)if(f===0||f===2)f=2;else if(f===10&&s&8)r=[0,0,Ze(65535),r],f=10;else return-2;else if(r=Ye(a),r!==null)if(f===0||f===10)f=10;else return-2;return r!=null?(y=E(f,p,w,a,r,i),I[b>>>2]=y,0):s&4?-2:(a=fe.lookup_name(a),r=ve(a),f===0?f=2:f===10&&(r=[0,0,Ze(65535),r]),y=E(f,p,w,null,r,i),I[b>>>2]=y,0)}function Pn(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return b=>crypto.getRandomValues(b);if(P)try{var a=ga("crypto"),c=a.randomFillSync;if(c)return b=>a.randomFillSync(b);var _=a.randomBytes;return b=>(b.set(_(b.byteLength)),b)}catch(b){}F("initRandomDevice")}function jr(a){return(jr=Pn())(a)}function Wn(a,c){return jr(z.subarray(a>>>0,a+c>>>0)),0}function qn(a,c,_,b,r,i,s){var f=hr(a,c);if(f.errno)return-6;var p=f.port,w=f.addr,y=!1;if(_&&b){var E;if(s&1||!(E=fe.lookup_addr(w))){if(s&8)return-2}else w=E;var S=$e(w,_,b);S+1>=b&&(y=!0)}if(r&&i){p=""+p;var S=$e(p,r,i);S+1>=i&&(y=!0)}return y?-12:0}function zn(a,c){for(var _=0,b=0;b<=c;_+=a[b++]);return _}var Er=[31,29,31,30,31,30,31,31,30,31,30,31],Gr=[31,28,31,30,31,30,31,31,30,31,30,31];function Xn(a,c){for(var _=new Date(a.getTime());c>0;){var b=Be(_.getFullYear()),r=_.getMonth(),i=(b?Er:Gr)[r];if(c>i-_.getDate())c-=i-_.getDate()+1,_.setDate(1),r<11?_.setMonth(r+1):(_.setMonth(0),_.setFullYear(_.getFullYear()+1));else return _.setDate(_.getDate()+c),_}return _}function jn(a,c,_){var b=_>0?_:wr(a)+1,r=new Array(b),i=Nr(a,r,0,r.length);return c&&(r.length=i),r}function Sr(a,c){Q.set(a,c>>>0)}function Yr(a,c,_,b){var r=g[b+40>>>2],i={tm_sec:g[b>>>2],tm_min:g[b+4>>>2],tm_hour:g[b+8>>>2],tm_mday:g[b+12>>>2],tm_mon:g[b+16>>>2],tm_year:g[b+20>>>2],tm_wday:g[b+24>>>2],tm_yday:g[b+28>>>2],tm_isdst:g[b+32>>>2],tm_gmtoff:g[b+36>>>2],tm_zone:r?Re(r):""},s=Re(_),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var p in f)s=s.replace(new RegExp(p,"g"),f[p]);var w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"];function E(v,T,O){for(var W=typeof v=="number"?v.toString():v||"";W.length<T;)W=O[0]+W;return W}function S(v,T){return E(v,T,"0")}function M(v,T){function O(k){return k<0?-1:k>0?1:0}var W;return(W=O(v.getFullYear()-T.getFullYear()))===0&&(W=O(v.getMonth()-T.getMonth()))===0&&(W=O(v.getDate()-T.getDate())),W}function x(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function X(v){var T=Xn(new Date(v.tm_year+1900,0,1),v.tm_yday),O=new Date(T.getFullYear(),0,4),W=new Date(T.getFullYear()+1,0,4),k=x(O),C=x(W);return M(k,T)<=0?M(C,T)<=0?T.getFullYear()+1:T.getFullYear():T.getFullYear()-1}var H={"%a":function(v){return w[v.tm_wday].substring(0,3)},"%A":function(v){return w[v.tm_wday]},"%b":function(v){return y[v.tm_mon].substring(0,3)},"%B":function(v){return y[v.tm_mon]},"%C":function(v){var T=v.tm_year+1900;return S(T/100|0,2)},"%d":function(v){return S(v.tm_mday,2)},"%e":function(v){return E(v.tm_mday,2," ")},"%g":function(v){return X(v).toString().substring(2)},"%G":function(v){return X(v)},"%H":function(v){return S(v.tm_hour,2)},"%I":function(v){var T=v.tm_hour;return T==0?T=12:T>12&&(T-=12),S(T,2)},"%j":function(v){return S(v.tm_mday+zn(Be(v.tm_year+1900)?Er:Gr,v.tm_mon-1),3)},"%m":function(v){return S(v.tm_mon+1,2)},"%M":function(v){return S(v.tm_min,2)},"%n":function(){return"\n"},"%p":function(v){return v.tm_hour>=0&&v.tm_hour<12?"AM":"PM"},"%S":function(v){return S(v.tm_sec,2)},"%t":function(){return"	"},"%u":function(v){return v.tm_wday||7},"%U":function(v){var T=v.tm_yday+7-v.tm_wday;return S(Math.floor(T/7),2)},"%V":function(v){var T=Math.floor((v.tm_yday+7-(v.tm_wday+6)%7)/7);if((v.tm_wday+371-v.tm_yday-2)%7<=2&&T++,T){if(T==53){var W=(v.tm_wday+371-v.tm_yday)%7;W!=4&&(W!=3||!Be(v.tm_year))&&(T=1)}}else{T=52;var O=(v.tm_wday+7-v.tm_yday-1)%7;(O==4||O==5&&Be(v.tm_year%400-1))&&T++}return S(T,2)},"%w":function(v){return v.tm_wday},"%W":function(v){var T=v.tm_yday+7-(v.tm_wday+6)%7;return S(Math.floor(T/7),2)},"%y":function(v){return(v.tm_year+1900).toString().substring(2)},"%Y":function(v){return v.tm_year+1900},"%z":function(v){var T=v.tm_gmtoff,O=T>=0;return T=Math.abs(T)/60,T=T/60*100+T%60,(O?"+":"-")+("0000"+T).slice(-4)},"%Z":function(v){return v.tm_zone},"%%":function(){return"%"}};s=s.replace(/%%/g,"\0\0");for(var p in H)s.includes(p)&&(s=s.replace(new RegExp(p,"g"),H[p](i)));s=s.replace(/\0\0/g,"%");var ie=jn(s,!1);return ie.length>c?0:(Sr(ie,a),ie.length-1)}function Gn(a,c,_,b,r){return Yr(a,c,_,b)}function Yn(){A("missing function: unzClose"),F(-1)}function Kr(){A("missing function: unzCloseCurrentFile"),F(-1)}function Kn(){A("missing function: unzGetCurrentFileInfo"),F(-1)}function $n(){A("missing function: unzGetCurrentFileInfo64"),F(-1)}function Vn(){A("missing function: unzGetGlobalInfo"),F(-1)}function Jn(){A("missing function: unzGoToFirstFile"),F(-1)}function Qn(){A("missing function: unzGoToNextFile"),F(-1)}function Zn(){A("missing function: unzLocateFile"),F(-1)}function ei(){A("missing function: unzOpen2"),F(-1)}function ri(){A("missing function: unzOpenCurrentFile"),F(-1)}function ti(){A("missing function: unzReadCurrentFile"),F(-1)}function ni(a){ne=a,mt()||(e.onExit&&e.onExit(a),L=!0),h(a,new br(a))}function ii(a,c){ne=a,ni(a)}function ai(a){if(a instanceof br||a=="unwind")return ne;h(1,a)}function si(a){var c=e["_"+a];return c}function oi(a){var c=wr(a)+1,_=nr(c);return $e(a,_,c),_}function ui(a,c,_,b,r){var i={string:x=>{var X=0;return x!=null&&x!==0&&(X=oi(x)),X},array:x=>{var X=nr(x.length);return Sr(x,X),X}};function s(x){return c==="string"?Re(x):c==="boolean"?!!x:x}var f=si(a),p=[],w=0;if(b)for(var y=0;y<b.length;y++){var E=i[_[y]];E?(w===0&&(w=We()),p[y]=E(b[y])):p[y]=b[y]}var S=f.apply(null,p);function M(x){return w!==0&&xe(w),s(x)}return S=M(S),S}var ci={f:At,R:Ft,T:xt,l:Ct,n:Mt,b:Ut,z:It,e:Ht,a:Bt,m:Nt,i:Lt,Aa:xr,va:Ur,za:Ke,ya:gr,ra:_e,c:Br,qa:Ot,M:Pt,la:Wt,ta:Je,ua:qt,I:Or,na:yr,ma:zt,oa:Xt,J:jt,wa:Gt,ja:Yt,D:Kt,xa:$t,F:Vt,pa:Jt,E:Qt,K:en,V:Ne,W:sn,d:on,Ba:vr,ba:Wr,ca:un,_:cn,$:ln,B:fn,Y:_n,L:dn,Z:mn,ea:bn,o:pn,da:hn,C:gn,fa:yn,X:wn,A:vn,ga:kn,u:En,S:Sn,g:zr,Da:Dn,Ea:Rn,aa:kr,ia:Fn,j:Oe,Ca:xn,O:Cn,N:Mn,H:Un,P:In,ka:Hn,t:Ln,G:On,ha:Wn,sa:qn,U:Gn,h:Yn,s:Kr,x:Kn,p:$n,Q:Vn,y:Jn,w:Qn,r:Zn,v:ei,q:ri,k:ti},ma=Tt(),li=function(){return(li=e.asm.Ga).apply(null,arguments)},$r=e._main=function(){return($r=e._main=e.asm.Ha).apply(null,arguments)},fi=e._duckdb_web_fs_glob_add_path=function(){return(fi=e._duckdb_web_fs_glob_add_path=e.asm.Ja).apply(null,arguments)},ba=e._duckdb_web_clear_response=function(){return(ba=e._duckdb_web_clear_response=e.asm.Ka).apply(null,arguments)},_i=e._duckdb_web_fail_with=function(){return(_i=e._duckdb_web_fail_with=e.asm.La).apply(null,arguments)},Vr=e._duckdb_web_reset=function(){return(Vr=e._duckdb_web_reset=e.asm.Ma).apply(null,arguments)},di=e._duckdb_web_connect=function(){return(di=e._duckdb_web_connect=e.asm.Na).apply(null,arguments)},mi=e._duckdb_web_disconnect=function(){return(mi=e._duckdb_web_disconnect=e.asm.Oa).apply(null,arguments)},bi=e._duckdb_web_flush_files=function(){return(bi=e._duckdb_web_flush_files=e.asm.Pa).apply(null,arguments)},pi=e._duckdb_web_flush_file=function(){return(pi=e._duckdb_web_flush_file=e.asm.Qa).apply(null,arguments)},hi=e._duckdb_web_open=function(){return(hi=e._duckdb_web_open=e.asm.Ra).apply(null,arguments)},gi=e._duckdb_web_get_global_file_info=function(){return(gi=e._duckdb_web_get_global_file_info=e.asm.Sa).apply(null,arguments)},yi=e._duckdb_web_collect_file_stats=function(){return(yi=e._duckdb_web_collect_file_stats=e.asm.Ta).apply(null,arguments)},wi=e._duckdb_web_export_file_stats=function(){return(wi=e._duckdb_web_export_file_stats=e.asm.Ua).apply(null,arguments)},vi=e._duckdb_web_fs_drop_file=function(){return(vi=e._duckdb_web_fs_drop_file=e.asm.Va).apply(null,arguments)},ki=e._duckdb_web_fs_drop_files=function(){return(ki=e._duckdb_web_fs_drop_files=e.asm.Wa).apply(null,arguments)},Ei=e._duckdb_web_fs_glob_file_infos=function(){return(Ei=e._duckdb_web_fs_glob_file_infos=e.asm.Xa).apply(null,arguments)},Si=e._duckdb_web_fs_get_file_info_by_id=function(){return(Si=e._duckdb_web_fs_get_file_info_by_id=e.asm.Ya).apply(null,arguments)},Di=e._duckdb_web_fs_get_file_info_by_name=function(){return(Di=e._duckdb_web_fs_get_file_info_by_name=e.asm.Za).apply(null,arguments)},Ri=e._duckdb_web_fs_register_file_url=function(){return(Ri=e._duckdb_web_fs_register_file_url=e.asm._a).apply(null,arguments)},Ti=e._duckdb_web_fs_register_file_buffer=function(){return(Ti=e._duckdb_web_fs_register_file_buffer=e.asm.$a).apply(null,arguments)},Ai=e._duckdb_web_copy_file_to_buffer=function(){return(Ai=e._duckdb_web_copy_file_to_buffer=e.asm.ab).apply(null,arguments)},Fi=e._duckdb_web_copy_file_to_path=function(){return(Fi=e._duckdb_web_copy_file_to_path=e.asm.bb).apply(null,arguments)},xi=e._duckdb_web_get_version=function(){return(xi=e._duckdb_web_get_version=e.asm.cb).apply(null,arguments)},Ci=e._duckdb_web_get_feature_flags=function(){return(Ci=e._duckdb_web_get_feature_flags=e.asm.db).apply(null,arguments)},Mi=e._duckdb_web_tokenize=function(){return(Mi=e._duckdb_web_tokenize=e.asm.eb).apply(null,arguments)},Ui=e._duckdb_web_udf_scalar_create=function(){return(Ui=e._duckdb_web_udf_scalar_create=e.asm.fb).apply(null,arguments)},Ii=e._duckdb_web_prepared_create=function(){return(Ii=e._duckdb_web_prepared_create=e.asm.gb).apply(null,arguments)},Hi=e._duckdb_web_prepared_close=function(){return(Hi=e._duckdb_web_prepared_close=e.asm.hb).apply(null,arguments)},Bi=e._duckdb_web_prepared_run=function(){return(Bi=e._duckdb_web_prepared_run=e.asm.ib).apply(null,arguments)},Ni=e._duckdb_web_prepared_send=function(){return(Ni=e._duckdb_web_prepared_send=e.asm.jb).apply(null,arguments)},Li=e._duckdb_web_query_run=function(){return(Li=e._duckdb_web_query_run=e.asm.kb).apply(null,arguments)},Oi=e._duckdb_web_pending_query_start=function(){return(Oi=e._duckdb_web_pending_query_start=e.asm.lb).apply(null,arguments)},Pi=e._duckdb_web_pending_query_poll=function(){return(Pi=e._duckdb_web_pending_query_poll=e.asm.mb).apply(null,arguments)},Wi=e._duckdb_web_pending_query_cancel=function(){return(Wi=e._duckdb_web_pending_query_cancel=e.asm.nb).apply(null,arguments)},qi=e._duckdb_web_query_fetch_results=function(){return(qi=e._duckdb_web_query_fetch_results=e.asm.ob).apply(null,arguments)},zi=e._duckdb_web_get_tablenames=function(){return(zi=e._duckdb_web_get_tablenames=e.asm.pb).apply(null,arguments)},Xi=e._duckdb_web_insert_arrow_from_ipc_stream=function(){return(Xi=e._duckdb_web_insert_arrow_from_ipc_stream=e.asm.qb).apply(null,arguments)},ji=e._duckdb_web_insert_csv_from_path=function(){return(ji=e._duckdb_web_insert_csv_from_path=e.asm.rb).apply(null,arguments)},Gi=e._duckdb_web_insert_json_from_path=function(){return(Gi=e._duckdb_web_insert_json_from_path=e.asm.sb).apply(null,arguments)},Yi=function(){return(Yi=e.asm.__errno_location).apply(null,arguments)},Ze=function(){return(Ze=e.asm.tb).apply(null,arguments)},er=function(){return(er=e.asm.ub).apply(null,arguments)},Dr=function(){return(Dr=e.asm.vb).apply(null,arguments)},rr=e._malloc=function(){return(rr=e._malloc=e.asm.wb).apply(null,arguments)},tr=e._free=function(){return(tr=e._free=e.asm.xb).apply(null,arguments)},Pe=function(){return(Pe=e.asm.yb).apply(null,arguments)},We=function(){return(We=e.asm.zb).apply(null,arguments)},xe=function(){return(xe=e.asm.Ab).apply(null,arguments)},nr=function(){return(nr=e.asm.Bb).apply(null,arguments)};e.stackAlloc=nr,e.stackSave=We,e.stackRestore=xe,e.ccall=ui;var Ce;we=function a(){Ce||qe(),Ce||(we=a)};function Rr(){var a=$r,c=0,_=0;try{var b=a(c,_);return ii(b,!0),b}catch(r){return ai(r)}}function qe(){if(le>0||(bt(),le>0))return;function a(){Ce||(Ce=!0,e.calledRun=!0,!L&&(pt(),ht(),o(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Tr&&Rr(),gt()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),a()},1)):a()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();var Tr=!0;return e.noInitialRun&&(Tr=!1),qe(),n.ready}})();typeof ot=="object"&&typeof da=="object"?da.exports=_a:typeof define=="function"&&define.amd?define([],function(){return _a}):typeof ot=="object"&&(ot.DuckDB=_a)});import*as ke from"apache-arrow";var Jr=class{constructor(n,e){this._bindings=n,this._conn=e}close(){this._bindings.disconnect(this._conn)}useUnsafe(n){return n(this._bindings,this._conn)}query(n){let e=this._bindings.runQuery(this._conn,n),o=ke.RecordBatchReader.from(e);return console.assert(o.isSync()),console.assert(o.isFile()),new ke.Table(o)}async send(n){let e=this._bindings.startPendingQuery(this._conn,n);for(;e==null;)e=await new Promise((l,m)=>{try{l(this._bindings.pollPendingQuery(this._conn))}catch(d){console.log(d),m(d)}});let o=new Qr(this._bindings,this._conn,e),u=ke.RecordBatchReader.from(o);return console.assert(u.isSync()),console.assert(u.isStream()),u}cancelSent(){return this._bindings.cancelPendingQuery(this._conn)}getTableNames(n){return this._bindings.getTableNames(this._conn,n)}prepare(n){let e=this._bindings.createPrepared(this._conn,n);return new $i(this._bindings,this._conn,e)}createScalarFunction(n,e,o){this._bindings.createScalarFunction(this._conn,n,e,o)}insertArrowTable(n,e){let o=ke.tableToIPC(n,"stream");this.insertArrowFromIPCStream(o,e)}insertArrowFromIPCStream(n,e){this._bindings.insertArrowFromIPCStream(this._conn,n,e)}insertCSVFromPath(n,e){this._bindings.insertCSVFromPath(this._conn,n,e)}insertJSONFromPath(n,e){this._bindings.insertJSONFromPath(this._conn,n,e)}},Qr=class{constructor(n,e,o){this.bindings=n;this.conn=e;this.header=o;this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n=this.bindings.fetchQueryResults(this.conn);return this._depleted=n.length==0,{done:this._depleted,value:n}}[Symbol.iterator](){return this}},$i=class{constructor(n,e,o){this.bindings=n,this.connectionId=e,this.statementId=o}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...n){let e=this.bindings.runPrepared(this.connectionId,this.statementId,n),o=ke.RecordBatchReader.from(e);return console.assert(o.isSync()),console.assert(o.isFile()),new ke.Table(o)}send(...n){let e=this.bindings.sendPrepared(this.connectionId,this.statementId,n),o=new Qr(this.bindings,this.connectionId,e),u=ke.RecordBatchReader.from(o);return console.assert(u.isSync()),console.assert(u.isStream()),u}};var Qa=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(Qa||{});var va=new TextEncoder,ya=new TextDecoder("utf-8");function Vi(t,n,e){let o=va.encode(e),u=t._malloc(o.byteLength),l=t.HEAPU8.subarray(u,u+o.byteLength);l.set(o),t.HEAPF64[(n>>3)+0]=1,t.HEAPF64[(n>>3)+1]=u,t.HEAPF64[(n>>3)+2]=l.byteLength}function Qi(t){switch(t){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Ji(t,n,e,o){let u=t.HEAPU8.subarray(n,n+o*Qi(e));switch(e){case"UINT8":return new Uint8Array(u.buffer,u.byteOffset,o);case"INT8":return new Int8Array(u.buffer,u.byteOffset,o);case"INT32":return new Int32Array(u.buffer,u.byteOffset,o);case"FLOAT":return new Float32Array(u.buffer,u.byteOffset,o);case"DOUBLE":return new Float64Array(u.buffer,u.byteOffset,o);case"VARCHAR":return new Float64Array(u.buffer,u.byteOffset,o);default:return new Array(0)}}function wa(t,n,e){let o=t.HEAPU8.subarray(n,n+e);return new Uint8Array(o.buffer,o.byteOffset,e)}function Zr(t,n,e){let o=t.HEAPU8.subarray(n,n+e*8);return new Float64Array(o.buffer,o.byteOffset,e)}function et(t,n,e,o,u,l,m,d){try{let h=t._udfFunctions.get(o);if(!h){Vi(n,e,"Unknown UDF with id: "+o);return}let D=ya.decode(n.HEAPU8.subarray(u,u+l)),R=JSON.parse(D),P=Zr(n,m,d/8),U=L=>{var oe;let ne=null;switch(L.validityBuffer!==void 0&&(ne=wa(n,P[L.validityBuffer],R.rows)),L.physicalType){case"VARCHAR":{if(L.dataBuffer===null||L.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(L.lengthBuffer===null||L.lengthBuffer===void 0)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let Q=Ji(n,P[L.dataBuffer],L.physicalType,R.rows),z=[],J=Zr(n,P[L.lengthBuffer],R.rows);for(let Y=0;Y<R.rows;++Y){if(ne!=null&&!ne[Y]){z.push(null);continue}let g=n.HEAPU8.subarray(Q[Y],Q[Y]+J[Y]),I=ya.decode(g);z.push(I)}return Y=>z[Y]}case"STRUCT":{let Q={},z=[];for(let J=0;J<(((oe=L.children)==null?void 0:oe.length)||0);++J){let Y=L.children[J],g=U(Y);z.push(I=>{Q[Y.name]=g(I)})}return ne!=null?J=>{if(!ne[J])return null;for(let Y of z)Y(J);return Q}:J=>{for(let Y of z)Y(J);return Q}}default:{if(L.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for argument of type: "+L.physicalType);let Q=Ji(n,P[L.dataBuffer],L.physicalType,R.rows);return ne!=null?z=>ne[z]?Q[z]:null:z=>Q[z]}}},N=[];for(let L=0;L<R.args.length;++L)N.push(U(R.args[L]));let re=R.rows*Qi(R.ret.physicalType),ae=n._malloc(re),te=Ji(n,ae,R.ret.physicalType,R.rows),de=n._malloc(R.rows),ce=wa(n,de,R.rows);if(te.length==0||ce.length==0){Vi(n,e,"Can't create physical arrays for result");return}let se=te;R.ret.physicalType=="VARCHAR"&&(se=new Array(R.rows));let Ue=[];for(let L=0;L<R.args.length;++L)Ue.push(null);for(let L=0;L<R.rows;++L){for(let oe=0;oe<R.args.length;++oe)Ue[oe]=N[oe](L);let ne=h.func(...Ue);se[L]=ne,ce[L]=ne==null?0:1}let A=0;switch(R.ret.physicalType){case"VARCHAR":{let L=new Array(0);A=n._malloc(R.rows*Qi("DOUBLE"));let ne=Zr(n,A,R.rows),oe=0;for(let Y=0;Y<R.rows;++Y){let g=va.encode(se[Y]||"");L.push(g),ne[Y]=g.length,oe+=g.length}let Q=n._malloc(oe),z=n.HEAPU8.subarray(Q,Q+oe),J=0;for(let Y=0;Y<R.rows;++Y){te[Y]=J;let g=L[Y];z.subarray(J,J+g.length).set(g),J+=g.length}}}let me=3*8,Ge=n._malloc(me),be=Zr(n,Ge,3);be[0]=ae,be[1]=de,be[2]=A,n.HEAPF64[(e>>3)+0]=0,n.HEAPF64[(e>>3)+1]=Ge,n.HEAPF64[(e>>3)+2]=0}catch(h){Vi(n,e,h.toString())}}function Za(){let t=new TextDecoder;return n=>(typeof SharedArrayBuffer<"u"&&n.buffer instanceof SharedArrayBuffer&&(n=new Uint8Array(n)),t.decode(n))}var es=Za();function ye(t,n){console.error("FAIL WITH: ".concat(n)),t.ccall("duckdb_web_fail_with",null,["string"],[n])}function je(t,n,e){let o=t.HEAPU8.subarray(n,n+e),u=new Uint8Array(new ArrayBuffer(o.byteLength));return u.set(o),u}function B(t,n,e){return es(t.HEAPU8.subarray(n,n+e))}var Zi=(m=>(m[m.BUFFER=0]="BUFFER",m[m.NODE_FS=1]="NODE_FS",m[m.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",m[m.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",m[m.HTTP=4]="HTTP",m[m.S3=5]="S3",m))(Zi||{}),Ea=(m=>(m[m.FILE_FLAGS_READ=1]="FILE_FLAGS_READ",m[m.FILE_FLAGS_WRITE=2]="FILE_FLAGS_WRITE",m[m.FILE_FLAGS_DIRECT_IO=4]="FILE_FLAGS_DIRECT_IO",m[m.FILE_FLAGS_FILE_CREATE=8]="FILE_FLAGS_FILE_CREATE",m[m.FILE_FLAGS_FILE_CREATE_NEW=16]="FILE_FLAGS_FILE_CREATE_NEW",m[m.FILE_FLAGS_APPEND=32]="FILE_FLAGS_APPEND",m))(Ea||{});function V(t,n,e,o){let u=t.stackSave(),l=t.stackAlloc(3*8);e.unshift("number"),o.unshift(l),t.ccall(n,null,e,o);let m=t.HEAPF64[(l>>3)+0],d=t.HEAPF64[(l>>3)+1],h=t.HEAPF64[(l>>3)+2];return t.stackRestore(u),[m,d,h]}function Z(t){t.ccall("duckdb_web_clear_response",null,[],[])}var Sa={_udfFunctions:new Map,testPlatformFeature:(t,n)=>!1,getDefaultDataProtocol:t=>0,openFile:(t,n,e)=>{},syncFile:(t,n)=>{},closeFile:(t,n)=>{},getLastFileModificationTime:(t,n)=>0,truncateFile:(t,n,e)=>{},readFile:(t,n,e,o,u)=>0,writeFile:(t,n,e,o,u)=>0,removeDirectory:(t,n,e)=>{},checkDirectory:(t,n,e)=>!1,createDirectory:(t,n,e)=>{},listDirectoryEntries:(t,n,e)=>!1,glob:(t,n,e)=>{},moveFile:(t,n,e,o,u)=>{},checkFile:(t,n,e)=>!1,removeFile:(t,n,e)=>{},callScalarUDF:(t,n,e,o,u,l,m)=>{et(Sa,t,n,e,o,u,l,m)}};var rt=class{constructor(n){let e=new Float64Array(n.buffer,n.byteOffset,n.byteLength/8),o=new Uint8Array(new ArrayBuffer(n.byteLength));o.set(n.subarray(7*8)),this.totalFileReadsCold=e[0],this.totalFileReadsAhead=e[1],this.totalFileReadsCached=e[2],this.totalFileWrites=e[3],this.totalPageAccesses=e[4],this.totalPageLoads=e[5],this.blockSize=e[6],this.blockStats=o}getBlockStats(n,e){return e=e||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0},e.file_writes=this.blockStats[n*3+0]&15,e.file_reads_cold=this.blockStats[n*3+0]>>4,e.file_reads_ahead=this.blockStats[n*3+1]&15,e.file_reads_cached=this.blockStats[n*3+1]>>4,e.page_accesses=this.blockStats[n*3+1]&15,e.page_loads=this.blockStats[n*3+1]>>4,e}};import*as q from"apache-arrow";function ar(t){switch(t.typeId){case q.Type.Binary:return{sqlType:"binary"};case q.Type.Bool:return{sqlType:"bool"};case q.Type.Date:return{sqlType:"date"};case q.Type.DateDay:return{sqlType:"date32[d]"};case q.Type.DateMillisecond:return{sqlType:"date64[ms]"};case q.Type.Decimal:{let n=t;return{sqlType:"decimal",precision:n.precision,scale:n.scale}}case q.Type.Float:return{sqlType:"float"};case q.Type.Float16:return{sqlType:"float16"};case q.Type.Float32:return{sqlType:"float32"};case q.Type.Float64:return{sqlType:"float64"};case q.Type.Int:return{sqlType:"int32"};case q.Type.Int16:return{sqlType:"int16"};case q.Type.Int32:return{sqlType:"int32"};case q.Type.Int64:return{sqlType:"int64"};case q.Type.Uint16:return{sqlType:"uint16"};case q.Type.Uint32:return{sqlType:"uint32"};case q.Type.Uint64:return{sqlType:"uint64"};case q.Type.Uint8:return{sqlType:"uint8"};case q.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case q.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case q.Type.List:return{sqlType:"list",valueType:ar(t.valueType)};case q.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case q.Type.Null:return{sqlType:"null"};case q.Type.Utf8:return{sqlType:"utf8"};case q.Type.Struct:return{sqlType:"struct",fields:t.children.map(e=>tt(e.name,e.type))};case q.Type.Map:{let n=t;return{sqlType:"map",keyType:ar(n.keyType),valueType:ar(n.valueType)}}case q.Type.Time:return{sqlType:"time[s]"};case q.Type.TimeMicrosecond:return{sqlType:"time[us]"};case q.Type.TimeMillisecond:return{sqlType:"time[ms]"};case q.Type.TimeNanosecond:return{sqlType:"time[ns]"};case q.Type.TimeSecond:return{sqlType:"time[s]"};case q.Type.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case q.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case q.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case q.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case q.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function tt(t,n){let e=ar(n);return e.name=t,e}var rs=new TextEncoder,ts=(l=>(l[l.WASM_EXCEPTIONS=1]="WASM_EXCEPTIONS",l[l.WASM_THREADS=2]="WASM_THREADS",l[l.WASM_SIMD=4]="WASM_SIMD",l[l.WASM_BULK_MEMORY=8]="WASM_BULK_MEMORY",l[l.EMIT_BIGINT=16]="EMIT_BIGINT",l))(ts||{}),nt=class{constructor(n,e){this._instance=null;this._initPromise=null;this._initPromiseResolver=()=>{};this.onInstantiationProgress=[];this._logger=n,this._runtime=e,this._nextUDFId=1}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(n=e=>{}){return this._instance!=null?this:(this._initPromise!=null&&(this.onInstantiationProgress.push(n),await this._initPromise),this._initPromise=new Promise(e=>{this._initPromiseResolver=e}),this.onInstantiationProgress=[n],this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null,this.onInstantiationProgress=this.onInstantiationProgress.filter(e=>e!=n),this)}open(n){let[e,o,u]=V(this.mod,"duckdb_web_open",["string"],[JSON.stringify(n)]);if(e!==0)throw new Error(B(this.mod,o,u));Z(this.mod)}reset(){let[n,e,o]=V(this.mod,"duckdb_web_reset",[],[]);if(n!==0)throw new Error(B(this.mod,e,o));Z(this.mod)}getVersion(){let[n,e,o]=V(this.mod,"duckdb_web_get_version",[],[]);if(n!==0)throw new Error(B(this.mod,e,o));let u=B(this.mod,e,o);return Z(this.mod),u}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(n){let[e,o,u]=V(this.mod,"duckdb_web_tokenize",["string"],[n]);if(e!==0)throw new Error(B(this.mod,o,u));let l=B(this.mod,o,u);return Z(this.mod),JSON.parse(l)}connect(){let n=this.mod.ccall("duckdb_web_connect","number",[],[]);return new Jr(this,n)}disconnect(n){if(this.mod.ccall("duckdb_web_disconnect",null,["number"],[n]),this.pthread)for(let e of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])e.postMessage({cmd:"dropUDFFunctions",connectionId:n})}runQuery(n,e){let[o,u,l]=V(this.mod,"duckdb_web_query_run",["number","string"],[n,e]);if(o!==0)throw new Error(B(this.mod,u,l));let m=je(this.mod,u,l);return Z(this.mod),m}startPendingQuery(n,e){let[o,u,l]=V(this.mod,"duckdb_web_pending_query_start",["number","string"],[n,e]);if(o!==0)throw new Error(B(this.mod,u,l));if(u==0)return null;let m=je(this.mod,u,l);return Z(this.mod),m}pollPendingQuery(n){let[e,o,u]=V(this.mod,"duckdb_web_pending_query_poll",["number"],[n]);if(e!==0)throw new Error(B(this.mod,o,u));if(o==0)return null;let l=je(this.mod,o,u);return Z(this.mod),l}cancelPendingQuery(n){return this.mod.ccall("duckdb_web_pending_query_cancel","boolean",["number"],[n])}fetchQueryResults(n){let[e,o,u]=V(this.mod,"duckdb_web_query_fetch_results",["number"],[n]);if(e!==0)throw new Error(B(this.mod,o,u));let l=je(this.mod,o,u);return Z(this.mod),l}getTableNames(n,e){let[o,u,l]=V(this.mod,"duckdb_web_get_tablenames",["number","string"],[n,e]);if(o!==0)throw new Error(B(this.mod,u,l));let m=B(this.mod,u,l);return Z(this.mod),JSON.parse(m)}createScalarFunction(n,e,o,u){let l={functionId:this._nextUDFId,name:e,returnType:ar(o)},m={functionId:l.functionId,connectionId:n,name:e,returnType:o,func:u};this._nextUDFId+=1;let[d,h,D]=V(this.mod,"duckdb_web_udf_scalar_create",["number","string"],[n,JSON.stringify(l)]);if(d!==0)throw new Error(B(this.mod,h,D));if(Z(this.mod),globalThis.DUCKDB_RUNTIME._udfFunctions=(globalThis.DUCKDB_RUNTIME._udfFunctions||new Map).set(m.functionId,m),this.pthread)for(let R of[...this.pthread.runningWorkers,...this.pthread.unusedWorkers])R.postMessage({cmd:"registerUDFFunction",udf:m})}createPrepared(n,e){let[o,u,l]=V(this.mod,"duckdb_web_prepared_create",["number","string"],[n,e]);if(o!==0)throw new Error(B(this.mod,u,l));return Z(this.mod),u}closePrepared(n,e){let[o,u,l]=V(this.mod,"duckdb_web_prepared_close",["number","number"],[n,e]);if(o!==0)throw new Error(B(this.mod,u,l));Z(this.mod)}runPrepared(n,e,o){let[u,l,m]=V(this.mod,"duckdb_web_prepared_run",["number","number","string"],[n,e,JSON.stringify(o)]);if(u!==0)throw new Error(B(this.mod,l,m));let d=je(this.mod,l,m);return Z(this.mod),d}sendPrepared(n,e,o){let[u,l,m]=V(this.mod,"duckdb_web_prepared_send",["number","number","string"],[n,e,JSON.stringify(o)]);if(u!==0)throw new Error(B(this.mod,l,m));let d=je(this.mod,l,m);return Z(this.mod),d}insertArrowFromIPCStream(n,e,o){if(e.length==0)return;let u=this.mod._malloc(e.length);this.mod.HEAPU8.subarray(u,u+e.length).set(e);let m=o?JSON.stringify(o):"",[d,h,D]=V(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[n,u,e.length,m]);if(d!==0)throw new Error(B(this.mod,h,D))}insertCSVFromPath(n,e,o){if(o.columns!==void 0){o.columnsFlat=[];for(let D in o.columns)o.columnsFlat.push(tt(D,o.columns[D]))}let u={...o};u.columns=u.columnsFlat,delete u.columnsFlat;let l=JSON.stringify(u),[m,d,h]=V(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[n,e,l]);if(m!==0)throw new Error(B(this.mod,d,h))}insertJSONFromPath(n,e,o){if(o.columns!==void 0){o.columnsFlat=[];for(let D in o.columns)o.columnsFlat.push(tt(D,o.columns[D]))}let u={...o};u.columns=u.columnsFlat,delete u.columnsFlat;let l=JSON.stringify(u),[m,d,h]=V(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[n,e,l]);if(m!==0)throw new Error(B(this.mod,d,h))}globFiles(n){let[e,o,u]=V(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[n]);if(e!==0)throw new Error(B(this.mod,o,u));let l=B(this.mod,o,u);Z(this.mod);let m=JSON.parse(l);return m==null?[]:m}registerFileURL(n,e,o,u=!1){e===void 0&&(e=n);let[l,m,d]=V(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[n,e,o,u]);if(l!==0)throw new Error(B(this.mod,m,d));Z(this.mod)}registerFileText(n,e){let o=rs.encode(e);this.registerFileBuffer(n,o)}registerFileBuffer(n,e){let o=this.mod._malloc(e.length);this.mod.HEAPU8.subarray(o,o+e.length).set(e);let[l,m,d]=V(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[n,o,e.length]);if(l!==0)throw new Error(B(this.mod,m,d));Z(this.mod)}registerFileHandle(n,e,o,u){let[l,m,d]=V(this.mod,"duckdb_web_fs_register_file_url",["string","string","number","boolean"],[n,n,o,u]);if(l!==0)throw new Error(B(this.mod,m,d));if(Z(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(n,e),this.pthread){for(let h of this.pthread.runningWorkers)h.postMessage({cmd:"registerFileHandle",fileName:n,fileHandle:e});for(let h of this.pthread.unusedWorkers)h.postMessage({cmd:"dropFileHandle",fileName:n})}}dropFile(n){let[e,o,u]=V(this.mod,"duckdb_web_fs_drop_file",["string"],[n]);if(e!==0)throw new Error(B(this.mod,o,u));Z(this.mod)}dropFiles(){let[n,e,o]=V(this.mod,"duckdb_web_fs_drop_files",[],[]);if(n!==0)throw new Error(B(this.mod,e,o));Z(this.mod)}flushFiles(){this.mod.ccall("duckdb_web_flush_files",null,[],[])}copyFileToPath(n,e){let[o,u,l]=V(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[n,e]);if(o!==0)throw new Error(B(this.mod,u,l));Z(this.mod)}copyFileToBuffer(n){let[e,o,u]=V(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[n]);if(e!==0)throw new Error(B(this.mod,o,u));let l=this.mod.HEAPU8.subarray(o,o+u),m=new Uint8Array(l.length);return m.set(l),Z(this.mod),m}collectFileStatistics(n,e){let[o,u,l]=V(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[n,e]);if(o!==0)throw new Error(B(this.mod,u,l))}exportFileStatistics(n){let[e,o,u]=V(this.mod,"duckdb_web_export_file_stats",["string"],[n]);if(e!==0)throw new Error(B(this.mod,o,u));return new rt(this.mod.HEAPU8.subarray(o,o+u))}};var ns=(u=>(u[u.UNDEFINED=0]="UNDEFINED",u[u.AUTOMATIC=1]="AUTOMATIC",u[u.READ_ONLY=2]="READ_ONLY",u[u.READ_WRITE=3]="READ_WRITE",u))(ns||{});var is=(e=>(e.ROW_ARRAY="row-array",e.COLUMN_OBJECT="column-object",e))(is||{});var as=(l=>(l[l.NONE=0]="NONE",l[l.DEBUG=1]="DEBUG",l[l.INFO=2]="INFO",l[l.WARNING=3]="WARNING",l[l.ERROR=4]="ERROR",l))(as||{}),ss=(m=>(m[m.NONE=0]="NONE",m[m.CONNECT=1]="CONNECT",m[m.DISCONNECT=2]="DISCONNECT",m[m.OPEN=3]="OPEN",m[m.QUERY=4]="QUERY",m[m.INSTANTIATE=5]="INSTANTIATE",m))(ss||{}),os=(m=>(m[m.NONE=0]="NONE",m[m.OK=1]="OK",m[m.ERROR=2]="ERROR",m[m.START=3]="START",m[m.RUN=4]="RUN",m[m.CAPTURE=5]="CAPTURE",m))(os||{}),us=(l=>(l[l.NONE=0]="NONE",l[l.WEB_WORKER=1]="WEB_WORKER",l[l.NODE_WORKER=2]="NODE_WORKER",l[l.BINDINGS=3]="BINDINGS",l[l.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",l))(us||{}),Da=class{log(n){}},Ra=class{constructor(n=2){this.level=n}log(n){n.level>=this.level&&console.log(n)}};function xs(t){switch(t){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function Cs(t){switch(t){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function Ms(t){switch(t){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function Us(t){switch(t){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var Ta=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),Aa=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]));var Fa=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var xa=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch(n){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var it={name:"@duckdb/duckdb-wasm",version:"1.11.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^12.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.1","@typescript-eslint/eslint-plugin":"^6.3.0","@typescript-eslint/parser":"^6.2.1",esbuild:"^0.18.13",eslint:"^8.47.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.32.2","fast-glob":"^3.3.1",jasmine:"^5.1.0","jasmine-core":"^5.0.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.8.4",puppeteer:"^20.8.0",rimraf:"^4.3.0",s3rver:"^3.7.1",typedoc:"^0.24.8",typescript:"^4.8.4","wasm-feature-detect":"^1.5.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}};var Ca=it.name,Ma=it.version,ea=it.version.split("."),Ns=ea[0],Ls=ea[1],Os=ea[2];var Ua=()=>typeof navigator>"u",Ia=()=>Ua()?"node":navigator.userAgent,qs=()=>Ia().includes("Firefox"),zs=()=>/^((?!chrome|android).)*safari/i.test(Ia());function Xs(){let t="https://cdn.jsdelivr.net/npm/".concat(Ca,"@").concat(Ma,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var ra=null,ta=null,na=null,ia=null,aa=null;async function sa(){return ra==null&&(ra=typeof BigInt64Array<"u"),ta==null&&(ta=await Aa()),na==null&&(na=await xa()),ia==null&&(ia=await Fa()),aa==null&&(aa=await Ta()),{bigInt64Array:ra,crossOriginIsolated:Ua()||globalThis.crossOriginIsolated||!1,wasmExceptions:ta,wasmSIMD:ia,wasmThreads:na,wasmBulkMemory:aa}}async function js(t){let n=await sa();if(n.wasmExceptions){if(n.wasmSIMD&&n.wasmThreads&&n.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}var Me=Ki(Ha()),Ba=function(t,n,e){var o;if((o=t==null?void 0:t.endpoint)!=null&&o.startsWith("http")){let u="".concat(t==null?void 0:t.endpoint),l=u.indexOf("://")+3;return u.substring(l)}else return t!=null&&t.endpoint?"".concat(e,".").concat(t==null?void 0:t.endpoint):"".concat(e,".s3.amazonaws.com")};function fs(t,n,e){var l,m,d,h;let o=Na(n),u=o.path;return La(t)&&(u="/".concat(o.bucket).concat(u)),{url:u,query:"",host:Ba(t,n,o.bucket),region:(l=t==null?void 0:t.region)!=null?l:"",service:"s3",method:e,accessKeyId:(m=t==null?void 0:t.accessKeyId)!=null?m:"",secretAccessKey:(d=t==null?void 0:t.secretAccessKey)!=null?d:"",sessionToken:(h=t==null?void 0:t.sessionToken)!=null?h:"",dateNow:new Date().toISOString().replace(/-/g,"").split("T")[0],datetimeNow:new Date().toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function _s(t,n=!1){let e="0123456789ABCDEF",o="";for(let u=0;u<t.length;u++){let l=t[u];l>="A"&&l<="Z"||l>="a"&&l<="z"||l>="0"&&l<="9"||l=="_"||l=="-"||l=="~"||l=="."?o+=l:l=="/"?n?o+="%2F":o+=l:(o+="%",o+=e[l.charCodeAt(0)>>4],o+=e[l.charCodeAt(0)&15])}return o}function ds(t,n=null){var re;let e=(re=n==null?void 0:n.contentHash)!=null?re:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",o=new Map;o.set("x-amz-date",t.datetimeNow),o.set("x-amz-content-sha256",e),t.sessionToken&&o.set("x-amz-security-token",t.sessionToken);let u="";n!=null&&n.contentType&&(u+="content-type;"),u+="host;x-amz-content-sha256;x-amz-date",t.sessionToken&&(u+=";x-amz-security-token");let l=t.method+"\n"+_s(t.url)+"\n"+t.query;n!=null&&n.contentType&&(l+="\ncontent-type:"+(n==null?void 0:n.contentType)),l+="\nhost:"+t.host+"\nx-amz-content-sha256:"+e+"\nx-amz-date:"+t.datetimeNow,t.sessionToken&&t.sessionToken.length>0&&(l+="\nx-amz-security-token:"+t.sessionToken),l+="\n\n"+u+"\n"+e;let m=(0,Me.sha256)(l),d="AWS4-HMAC-SHA256\n"+t.datetimeNow+"\n"+t.dateNow+"/"+t.region+"/"+t.service+"/aws4_request\n"+m,h="AWS4"+t.secretAccessKey,D=Me.sha256.hmac.arrayBuffer(h,t.dateNow),R=Me.sha256.hmac.arrayBuffer(D,t.region),P=Me.sha256.hmac.arrayBuffer(R,t.service),U=Me.sha256.hmac.arrayBuffer(P,"aws4_request"),N=Me.sha256.hmac(U,d);return o.set("Authorization","AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+t.dateNow+"/"+t.region+"/"+t.service+"/aws4_request, SignedHeaders="+u+", Signature="+N),o}var ms=function(t,n,e,o=null,u=null){let l=fs(t,n,e),m={contentType:o,contentHash:u?Me.sha256.hex(u):null};return ds(l,m)};function Ee(t,n,e,o,u=null,l=null){(n!=null&&n.accessKeyId||n!=null&&n.sessionToken)&&(ms(n,e,o,u,l).forEach((d,h)=>{t.setRequestHeader(h,d)}),u&&t.setRequestHeader("content-type",u))}function Na(t){if(t.indexOf("s3://")!=0)throw new Error("URL needs to start with s3://");let n=t.indexOf("/",5);if(n==-1)throw new Error("URL needs to contain a '/' after the host");let e=t.substring(5,n);if(!e)throw new Error("URL needs to contain a bucket name");let o=t.substring(n);if(!o)throw new Error("URL needs to contain key");return{bucket:e,path:o}}function La(t){var n;return!!((n=t==null?void 0:t.endpoint)!=null&&n.startsWith("http"))}function Se(t,n){let e=Na(n);return La(t)?"".concat(t==null?void 0:t.endpoint,"/").concat(e.bucket)+e.path:"https://"+Ba(t,n,e.bucket)+e.path}var G={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(t,n){try{let e=G._fileInfoCache.get(n),[o,u,l]=V(t,"duckdb_web_fs_get_file_info_by_id",["number","number"],[n,(e==null?void 0:e.cacheEpoch)||0]);if(o!==0)return null;if(l===0)return e;let m=B(t,u,l);Z(t);let d=JSON.parse(m);if(d==null)return null;let h={...d,blob:null};return G._fileInfoCache.set(n,h),h}catch(e){return console.log(e),null}},getGlobalFileInfo(t){var n;try{let[e,o,u]=V(t,"duckdb_web_get_global_file_info",["number"],[((n=G._globalFileInfo)==null?void 0:n.cacheEpoch)||0]);if(e!==0)return null;if(u===0)return G._globalFileInfo;let l=B(t,o,u);Z(t);let m=JSON.parse(l);return m==null?null:(G._globalFileInfo={...m,blob:null},G._globalFileInfo)}catch(e){return console.log(e),null}},testPlatformFeature:(t,n)=>{switch(n){case 1:return typeof BigInt64Array<"u";default:return console.warn("test for unknown feature: ".concat(n)),!1}},getDefaultDataProtocol(t){return 2},openFile:(t,n,e)=>{var o;try{G._fileInfoCache.delete(n);let u=G.getFileInfo(t,n);switch(u==null?void 0:u.dataProtocol){case 4:case 5:{if(e&1&&e&2)throw new Error("Opening file ".concat(u.fileName," failed: cannot open file with both read and write flags set"));if(e&32)throw new Error("Opening file ".concat(u.fileName," failed: appending to HTTP/S3 files is not supported"));if(e&2){let d=new XMLHttpRequest;if(u.dataProtocol==5?(d.open("HEAD",Se(u.s3Config,u.dataUrl),!1),Ee(d,u.s3Config,u.dataUrl,"HEAD")):d.open("HEAD",u.dataUrl,!1),d.send(null),d.status!=200&&d.status!=404)throw new Error("Opening file ".concat(u.fileName," failed: Unexpected return status from server (").concat(d.status,")"));if(d.status==404&&!(e&8||e&16))throw new Error("Opening file ".concat(u.fileName," failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag."));let h=t._malloc(1),D=new Uint8Array;t.HEAPU8.set(D,h);let R=t._malloc(2*8);return t.HEAPF64[(R>>3)+0]=1,t.HEAPF64[(R>>3)+1]=h,R}else if(e!=1)throw new Error("Opening file ".concat(u.fileName," failed: unsupported file flags: ").concat(e));let l=null,m=null;try{let d=new XMLHttpRequest;if(u.dataProtocol==5?(d.open("HEAD",Se(u.s3Config,u.dataUrl),!1),Ee(d,u.s3Config,u.dataUrl,"HEAD")):d.open("HEAD",u.dataUrl,!1),d.setRequestHeader("Range","bytes=0-"),d.send(null),l=d.getResponseHeader("Content-Length"),l!==null&&d.status==206){let h=t._malloc(16);return t.HEAPF64[(h>>3)+0]=+l,t.HEAPF64[(h>>3)+1]=0,h}}catch(d){m=d,console.warn("HEAD request with range header failed: ".concat(d))}if(u.allowFullHttpReads){if(l!==null&&+l>1){let h=new XMLHttpRequest;u.dataProtocol==5?(h.open("GET",Se(u.s3Config,u.dataUrl),!1),Ee(h,u.s3Config,u.dataUrl,"GET")):h.open("GET",u.dataUrl,!1),h.setRequestHeader("Range","bytes=0-0"),h.send(null);let D=h.getResponseHeader("Content-Length");if(h.status==206&&D!==null&&+D==1){let R=t._malloc(16);return t.HEAPF64[(R>>3)+0]=+l,t.HEAPF64[(R>>3)+1]=0,R}if(h.status==200&&D!==null&&+D==+l){console.warn("fall back to full HTTP read for: ".concat(u.dataUrl));let R=t._malloc(h.response.byteLength),P=new Uint8Array(h.response,0,h.response.byteLength);t.HEAPU8.set(P,R);let U=t._malloc(2*8);return t.HEAPF64[(U>>3)+0]=h.response.byteLength,t.HEAPF64[(U>>3)+1]=R,U}}console.warn("falling back to full HTTP read for: ".concat(u.dataUrl));let d=new XMLHttpRequest;if(u.dataProtocol==5?(d.open("GET",Se(u.s3Config,u.dataUrl),!1),Ee(d,u.s3Config,u.dataUrl,"GET")):d.open("GET",u.dataUrl,!1),d.responseType="arraybuffer",d.send(null),d.status==200){let h=t._malloc(d.response.byteLength),D=new Uint8Array(d.response,0,d.response.byteLength);t.HEAPU8.set(D,h);let R=t._malloc(2*8);return t.HEAPF64[(R>>3)+0]=d.response.byteLength,t.HEAPF64[(R>>3)+1]=h,R}}if(m!=null)throw new Error("Reading file ".concat(u.fileName," failed with error: ").concat(m));return 0}case 2:{let l=(o=G._files)==null?void 0:o.get(u.fileName);if(l){let h=t._malloc(16);return t.HEAPF64[(h>>3)+0]=l.size,t.HEAPF64[(h>>3)+1]=0,h}console.warn("Buffering missing file: ".concat(u.fileName));let m=t._malloc(2*8),d=t._malloc(1);return t.HEAPF64[(m>>3)+0]=1,t.HEAPF64[(m>>3)+1]=d,m}}}catch(u){console.error(u.toString()),ye(t,u.toString())}return 0},glob:(t,n,e)=>{var o;try{let u=B(t,n,e);if(u.startsWith("http")||u.startsWith("s3://")){let l=new XMLHttpRequest;if(u.startsWith("s3://")){let m=G.getGlobalFileInfo(t);l.open("HEAD",Se(m==null?void 0:m.s3Config,u),!1),Ee(l,m==null?void 0:m.s3Config,u,"HEAD")}else l.open("HEAD",u,!1);if(l.send(null),l.status!=200&&l.status!==206){if(!((o=G.getGlobalFileInfo(t))!=null&&o.allowFullHttpReads)){ye(t,"HEAD request failed: ".concat(u,", with full http reads are disabled"));return}let m=new XMLHttpRequest;if(u.startsWith("s3://")){let h=G.getGlobalFileInfo(t);m.open("GET",Se(h==null?void 0:h.s3Config,u),!1),Ee(m,h==null?void 0:h.s3Config,u,"HEAD")}else m.open("GET",u,!1);if(m.setRequestHeader("Range","bytes=0-0"),m.send(null),m.status!=200&&m.status!==206){ye(t,"HEAD and GET requests failed: ".concat(u));return}let d=m.getResponseHeader("Content-Length");d&&+d>1&&console.warn("Range request for ".concat(u," did not return a partial response: ").concat(m.status,' "').concat(m.statusText,'"'))}t.ccall("duckdb_web_fs_glob_add_path",null,["string"],[u])}}catch(u){return console.log(u),ye(t,u.toString()),0}},checkFile:(t,n,e)=>{try{let o=B(t,n,e);if(o.startsWith("http")||o.startsWith("s3://")){let u=new XMLHttpRequest;if(o.startsWith("s3://")){let l=G.getGlobalFileInfo(t);u.open("HEAD",Se(l==null?void 0:l.s3Config,o),!1),Ee(u,l==null?void 0:l.s3Config,o,"HEAD")}else u.open("HEAD",o,!1);return u.send(null),u.status==206||u.status==200}}catch(o){return console.log(o),!1}return!1},syncFile:(t,n)=>{},closeFile:(t,n)=>{var o;let e=G.getFileInfo(t,n);switch(G._fileInfoCache.delete(n),e==null?void 0:e.dataProtocol){case 0:case 4:case 5:break;case 1:case 2:return;case 3:{let u=(o=G._files)==null?void 0:o.get(e.fileName);if(!u)throw new Error("No OPFS access handle registered with name: ".concat(e.fileName));return u.flush()}}},truncateFile:(t,n,e)=>{var u;let o=G.getFileInfo(t,n);switch(o==null?void 0:o.dataProtocol){case 4:ye(t,"Cannot truncate a http file");return;case 5:ye(t,"Cannot truncate an s3 file");return;case 0:case 1:case 2:ye(t,"truncateFile not implemented");return;case 3:{let l=(u=G._files)==null?void 0:u.get(o.fileName);if(!l)throw new Error("No OPFS access handle registered with name: ".concat(o.fileName));return l.truncate(e)}}return 0},readFile(t,n,e,o,u){var l,m;if(o==0)return 0;try{let d=G.getFileInfo(t,n);switch(d==null?void 0:d.dataProtocol){case 4:case 5:{if(!d.dataUrl)throw new Error("Missing data URL for file ".concat(n));try{let h=new XMLHttpRequest;if(d.dataProtocol==5?(h.open("GET",Se(d==null?void 0:d.s3Config,d.dataUrl),!1),Ee(h,d==null?void 0:d.s3Config,d.dataUrl,"GET")):h.open("GET",d.dataUrl,!1),h.responseType="arraybuffer",h.setRequestHeader("Range","bytes=".concat(u,"-").concat(u+o-1)),h.send(null),h.status==206||h.status==200&&o==h.response.byteLength&&u==0){let D=new Uint8Array(h.response,0,Math.min(h.response.byteLength,o));return t.HEAPU8.set(D,e),D.byteLength}else if(h.status==200){console.warn("Range request for ".concat(d.dataUrl," did not return a partial response: ").concat(h.status,' "').concat(h.statusText,'"'));let D=new Uint8Array(h.response,u,Math.min(h.response.byteLength-u,o));return t.HEAPU8.set(D,e),D.byteLength}else throw new Error("Range request for ".concat(d.dataUrl," did returned non-success status: ").concat(h.status,' "').concat(h.statusText,'"'))}catch(h){throw console.log(h),new Error("Range request for ".concat(d.dataUrl," failed with error: ").concat(h,'"'))}}case 2:{let h=(l=G._files)==null?void 0:l.get(d.fileName);if(!h)throw new Error("No HTML5 file registered with name: ".concat(d.fileName));let D=h.slice(u,u+o),R=new Uint8Array(new FileReaderSync().readAsArrayBuffer(D));return t.HEAPU8.set(R,e),R.byteLength}case 3:{let h=(m=G._files)==null?void 0:m.get(d.fileName);if(!h)throw new Error("No OPFS access handle registered with name: ".concat(d.fileName));let D=t.HEAPU8.subarray(e,e+o);return h.read(D,{at:u})}}return 0}catch(d){return console.log(d),ye(t,d.toString()),0}},writeFile:(t,n,e,o,u)=>{var m;let l=G.getFileInfo(t,n);switch(l==null?void 0:l.dataProtocol){case 4:return ye(t,"Cannot write to HTTP file"),0;case 5:{let d=t.HEAPU8.subarray(e,e+o),h=new XMLHttpRequest;return h.open("PUT",Se(l==null?void 0:l.s3Config,l.dataUrl),!1),Ee(h,l==null?void 0:l.s3Config,l.dataUrl,"PUT","",d),h.send(d),h.status!==200?(ye(t,"Failed writing file: HTTP "+h.status),0):o}case 2:return ye(t,"cannot write using the html5 file reader api"),0;case 3:{let d=(m=G._files)==null?void 0:m.get(l.fileName);if(!d)throw new Error("No OPFS access handle registered with name: ".concat(l.fileName));let h=t.HEAPU8.subarray(e,e+o);return d.write(h,{at:u})}}return 0},getLastFileModificationTime:(t,n)=>{var o;let e=G.getFileInfo(t,n);switch(e==null?void 0:e.dataProtocol){case 2:{if(!((o=G._files)==null?void 0:o.get(e.fileName)))throw Error("No handle available for file: ".concat(e.fileName));return 0}case 4:case 5:return new Date().getTime()}return 0},checkDirectory:(t,n,e)=>{let o=B(t,n,e);return console.log("checkDirectory: ".concat(o)),!1},createDirectory:(t,n,e)=>{let o=B(t,n,e);console.log("createDirectory: ".concat(o))},removeDirectory:(t,n,e)=>{let o=B(t,n,e);console.log("removeDirectory: ".concat(o))},listDirectoryEntries:(t,n,e)=>{let o=B(t,n,e);return console.log("listDirectoryEntries: ".concat(o)),!1},moveFile:(t,n,e,o,u)=>{var h,D;let l=B(t,n,e),m=B(t,o,u),d=(h=G._files)==null?void 0:h.get(l);d!==void 0&&(G._files.delete(d),G._files.set(m,d));for(let[R,P]of((D=G._fileInfoCache)==null?void 0:D.entries())||[])if(P.dataUrl==l){G._fileInfoCache.delete(R);break}return!0},removeFile:(t,n,e)=>{},callScalarUDF:(t,n,e,o,u,l,m)=>{et(G,t,n,e,o,u,l,m)}};var Pa=Ki(Oa());var sr=class extends nt{constructor(e,o,u,l){super(e,o);this.mainModuleURL=u,this.pthreadWorkerURL=l}locateFile(e,o){if(e.endsWith(".wasm"))return this.mainModuleURL;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerURL)throw new Error("Missing DuckDB worker URL!");return this.pthreadWorkerURL}throw new Error("WASM instantiation requested unexpected file: prefix=".concat(o," path=").concat(e))}instantiateWasm(e,o){globalThis.DUCKDB_RUNTIME=this._runtime;let u=this.onInstantiationProgress;if(WebAssembly.instantiateStreaming)if(typeof TransformStream=="function"){let m=(async()=>{var ae;let d=new Request(this.mainModuleURL),h=await fetch(d),D=h.headers.get("content-length"),R=D&&parseInt(D,10)||0,P=new Date,U={startedAt:P,updatedAt:P,bytesTotal:R||0,bytesLoaded:0},N={transform(te,de){U.bytesLoaded+=te.byteLength;let ce=new Date;if(ce.getTime()-U.updatedAt.getTime()<20){U.updatedAt=ce,de.enqueue(te);return}for(let se of u)se(U);de.enqueue(te)}},re=new TransformStream(N);return new Response((ae=h.body)==null?void 0:ae.pipeThrough(re),h)})();WebAssembly.instantiateStreaming(m,e).then(d=>{o(d.instance,d.module)})}else{console.warn("instantiating without progress handler since transform streams are unavailable");let l=new Request(this.mainModuleURL);WebAssembly.instantiateStreaming(fetch(l),e).then(m=>{o(m.instance,m.module)})}else if(typeof XMLHttpRequest=="function"){let l=new XMLHttpRequest,m=this.mainModuleURL,d=new Date,h={startedAt:d,updatedAt:d,bytesTotal:0,bytesLoaded:0};l.open("GET",m),l.responseType="arraybuffer",l.onerror=D=>{throw this.logger.log({timestamp:new Date,level:4,origin:3,topic:5,event:2,value:"Failed to load WASM: "+D}),new Error(D.toString())},l.onprogress=D=>{h.bytesTotal=D.total,h.bytesLoaded=D.loaded;let R=new Date;if(R.getTime()-h.updatedAt.getTime()<20){h.updatedAt=R;return}for(let P of u)P(h)},l.onload=()=>{WebAssembly.instantiate(l.response,e).then(D=>{o(D.instance,D.module)}).catch(D=>{throw this.logger.log({timestamp:new Date,level:4,origin:3,topic:5,event:2,value:"Failed to instantiate WASM: "+D}),new Error(D)})},l.send()}else console.warn("instantiating with manual fetch since streaming instantiation and xhrs are unavailable"),(async()=>{let m=new Request(this.mainModuleURL),h=await(await fetch(m)).arrayBuffer();WebAssembly.instantiate(h,e).then(D=>{o(D.instance,D.module)})})();return[]}};var st=class extends sr{constructor(n,e,o,u=null){super(n,e,o,u)}instantiateImpl(n){return(0,Pa.default)({...n,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};var qa=Ki(Wa());var ut=class extends sr{constructor(n,e,o,u=null){super(n,e,o,u)}instantiateImpl(n){return(0,qa.default)({...n,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};async function ho(t,n,e){return(await sa()).wasmExceptions&&t.eh?new ut(n,e,t.eh.mainModule):new st(n,e,t.mvp.mainModule)}export{G as BROWSER_RUNTIME,Ra as ConsoleLogger,Sa as DEFAULT_RUNTIME,ns as DuckDBAccessMode,nt as DuckDBBindingsBase,Jr as DuckDBConnection,Zi as DuckDBDataProtocol,ts as DuckDBFeature,Ea as FileFlags,rt as FileStatistics,is as JSONTableShape,os as LogEvent,as as LogLevel,us as LogOrigin,ss as LogTopic,Ca as PACKAGE_NAME,Ma as PACKAGE_VERSION,Ns as PACKAGE_VERSION_MAJOR,Ls as PACKAGE_VERSION_MINOR,Os as PACKAGE_VERSION_PATCH,$i as PreparedStatement,Qr as ResultStreamIterator,Qa as StatusCode,Da as VoidLogger,V as callSRet,je as copyBuffer,ho as createDuckDB,es as decodeText,Z as dropResponseBuffers,ye as failWith,Xs as getJsDelivrBundles,Cs as getLogEventLabel,xs as getLogLevelLabel,Us as getLogOriginLabel,Ms as getLogTopicLabel,sa as getPlatformFeatures,qs as isFirefox,Ua as isNode,zs as isSafari,B as readString,js as selectBundle};
/*! Bundled license information:

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.9.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2017
   * @license MIT
   *)
*/
//# sourceMappingURL=duckdb-browser-blocking.mjs.map
